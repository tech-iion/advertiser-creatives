import{p as t}from"./phaser-DM0uoNMb.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class i extends t.Scene{constructor(){super("Game")}create(){const{canvasWidth:t,canvasHeight:e,scaleFactor1:i,topMarginOffset:s,leftMarginOffsetPercentage:a,isMobileDevice:l,isIphoneDevice:h}=getScaleUtils(this,!0);this.image=this.add.image(t/2,e/2,"background"),this.image.setOrigin(.5),this.image.setScale(.77),this.image.alpha=0,this.tweens.add({targets:this.image,alpha:.5,duration:800,ease:"Power2",onComplete:()=>{this.tweens.add({targets:this.image,scale:.784,duration:3200,ease:"Linear",repeat:-1,yoyo:!0})}}),this.logo=this.add.image(t/2,.2*e,"logo2"),this.logo.setOrigin(.5),this.logo.setScale(1.4*.65),this.logo.alpha=0,this.tweens.add({targets:this.logo,alpha:1,duration:800,ease:"Power2"}),this.input.once("pointerdown",(()=>{this.scene.start("GameOver")}))}}class s extends t.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"FÃ©licitations !",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function a(t,e){const i=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),a=window.innerWidth,l=window.innerHeight;let h,n;h=t.game.canvas.width,n=t.game.canvas.height;const o=document.getElementsByTagName("canvas")[0],r=Math.abs(parseFloat(o.style.marginTop||0))/a*h+(s?130:0),p=Math.abs(parseFloat(o.style.marginLeft||0))/l*n;let c=l/(a+2*p)*.85;return i?{canvasWidth:h,canvasHeight:n,scaleFactor:c,topMarginOffset:r,leftMarginOffsetPercentage:p,isMobileDevice:i,isIphoneDevice:s}:(c=1.4,{canvasWidth:h,canvasHeight:n,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}class l extends t.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:t,canvasHeight:e,scaleFactor1:i,topMarginOffset:s,leftMarginOffsetPercentage:l,isMobileDevice:h,isIphoneDevice:n}=a(this),o=1.4;this.sc=2,this.sc2=4,this.scaleFactor=o,this.canvasWidth=t,this.canvasHeight=e,this.clickBG=!1,this.image=this.add.image(t/2,e/2,"background"),this.image.setOrigin(.5),this.image.setScale(.77*this.sc),this.image.alpha=0,this.tweens.add({targets:this.image,alpha:.5,duration:800,ease:"Power2",onComplete:()=>{this.tweens.add({targets:this.image,scale:.784*this.sc,duration:3200,ease:"Linear",repeat:-1,yoyo:!0})}}),this.logo=this.add.image(t/2,.2*e,"logo"),this.logo.setOrigin(.5).setDepth(160),this.logo.setScale(.65*o),this.logo.alpha=0,this.tweens.add({targets:this.logo,alpha:1,duration:800,ease:"Power2"}),this.subtext=this.add.image(t/2,.41*e,"subtext"),this.subtext.setOrigin(.5),this.subtext.setScale(.7),this.subtext.alpha=0,this.tweens.add({targets:this.subtext,alpha:1,duration:800,ease:"Power2"}),this.taptoplay=this.add.image(t/2,.6*e,"taptoplay"),this.taptoplay.setOrigin(.5),this.taptoplay.setScale(.42),this.taptoplay.alpha=0,this.tweens.add({targets:this.taptoplay,alpha:1,y:this.subtext.y+.9*this.subtext.height,duration:800,ease:"Power2",onComplete:()=>{this.tweens.add({targets:this.taptoplay,scaleX:.33*o,scaleY:.33*o,duration:400,ease:"Power2",repeat:-1,yoyo:!0}),this.taptoplay.on("pointerdown",(()=>this.onTapToPlay()));const t=this.add.rectangle(0,0,this.canvasWidth,this.canvasHeight,16777215,.01);t.setOrigin(0,0),t.setInteractive(),t.on("pointerdown",(()=>this.onTapToPlay())),t.setDepth(140)}}),this.liloSit=this.add.sprite(.3*t,.9*e,"lilosit2"),this.liloSit.setOrigin(.5,1),this.liloSit.setScale(.21*this.sc2),this.liloSit.depth=2,this.liloSit.alpha=0,this.tweens.add({targets:this.liloSit,alpha:1,duration:800,ease:"Power2",onComplete:()=>{this.animateLiloSit()}}),this.pineapples=[];let r=0;const p=.5*t,c=.9*e,d=[{x:.35*-t,y:.04*e,scale:.27,angle:-20,depth:1},{x:.3*-t,y:0,scale:.3,angle:-90,depth:1},{x:.3*-t,y:.1*e,scale:.3,angle:-90,depth:1},{x:.08*t,y:.1*e,scale:.32,angle:80,depth:1},{x:.25*-t,y:.08*e,scale:.28,angle:90,depth:1},{x:.1*-t,y:.05*e,scale:.32,angle:-80,depth:1},{x:.05*-t,y:0,scale:.3,angle:90,depth:1},{x:.15*-t,y:.05*e,scale:.29,angle:45,depth:1},{x:.1*-t,y:.05*e,scale:.29,angle:120,depth:1},{x:.12*-t,y:.05*e,scale:.29,angle:240,depth:1},{x:.1*-t,y:.05*e,scale:.32,angle:70,depth:1},{x:0*t,y:.05*e,scale:.32,angle:-100,depth:1},{x:.1*t,y:.15*e,scale:.32,angle:-30,depth:3}];r=d.length;for(let a=0;a<r;a++){const t=d[a],e=this.add.image(p+t.x,c+t.y,"pineapple");e.setOrigin(.5,1),e.setScale(o*t.scale*this.sc),e.setAngle(t.angle),e.alpha=0,e.depth=t.depth,this.pineapples.push(e),this.tweens.add({targets:e,alpha:1,duration:800,delay:50*a,ease:"Power2"})}this.graphics=this.add.graphics(),this.graphics.fillStyle(16711680,1),this.graphics.setDepth(100)}onTapToPlay(){this.isTransitioning||(this.isTransitioning=!0,this.tweens.add({targets:this.taptoplay,scaleX:1.2*this.taptoplay.scaleX,scaleY:1.2*this.taptoplay.scaleY,duration:100,yoyo:!0,onComplete:()=>{this.removeElementsInReverseOrder()}}))}addElementsagainInOrder(){this.pineapples.slice().forEach(((t,e)=>{this.tweens.add({targets:t,alpha:1,y:t.y-50,duration:300,ease:"Power2",delay:50*e})}))}removePineapples(){this.pineapples.slice().reverse().forEach(((t,e)=>{this.tweens.add({targets:t,alpha:0,y:t.y+50,duration:300,ease:"Power2",delay:50*e})}))}removeElementsInReverseOrder(){this.removePineapples();const t=50*this.pineapples.length+100;this.tweens.add({targets:this.liloSit,alpha:0,y:this.liloSit.y-50,duration:300,ease:"Power2",delay:t}),this.tweens.add({targets:this.taptoplay,alpha:0,y:this.taptoplay.y-50,duration:300,ease:"Power2",delay:t+150}),this.tweens.add({targets:this.subtext,alpha:0,y:this.subtext.y-50,duration:300,ease:"Power2",delay:t+300}),this.tweens.add({targets:this.logo,alpha:0,y:this.logo.y-50,duration:300,ease:"Power2",delay:t+450,onComplete:()=>{this.time.removeAllEvents(),this.logo.setTexture("logo2"),this.logo.setScale(.5*this.scaleFactor),this.logo.alpha=0,this.tweens.add({targets:this.logo,alpha:1,y:this.logo.y-50,duration:300,ease:"Power2",onComplete:()=>{this.fnstartGame()}})}})}fnstartGame(){this.liloSit.visible=!0,this.liloSit.x=this.canvasWidth/2,this.liloSit.setTexture("lilo2"),this.liloSit.setScale(.15*this.scaleFactor*this.sc2),this.liloSit.alpha=0,this.liloSit.y=this.canvasHeight+this.liloSit.displayHeight,this.score=0,this.gameActive=!0,this.fallingPineapples=[],this.pineapplePhrases=["Nom nom!","Yum!","Ono!","Ohana snack!","More pineapple!","Stitch happy!","Tasty!"],this.tweens.add({targets:this.liloSit,alpha:1,y:this.canvasHeight+.4*this.liloSit.displayHeight,duration:200,ease:"Power2",onComplete:()=>{this.fnaddLeafUI(),this.gameTime=30,this.timeValue.setText(this.gameTime.toString().padStart(2,"0")),this.gameTimer=this.time.addEvent({delay:1e3,callback:this.updateGameTimer,callbackScope:this,loop:!0}),this.setupLiloMovement(),this.startSpawningPineapples()}})}fnaddLeafUI(){this.leaf1=this.add.image(this.canvasWidth/2,.1*this.canvasHeight,"leaf1"),this.leaf1.setOrigin(.5),this.leaf1.setScale(.7*this.scaleFactor).setDepth(130),this.leaf1.alpha=1,this.leaf1.x=this.canvasWidth-.22*this.leaf1.displayWidth,this.leaf2=this.add.image(this.canvasWidth/2,.1*this.canvasHeight,"leaf1"),this.leaf2.setOrigin(.5),this.leaf2.setScale(.7*this.scaleFactor).setDepth(130),this.leaf2.alpha=1,this.leaf2.flipX=!0,this.leaf2.x=.18*this.leaf1.displayWidth;const t={fontFamily:"BukaBird",fontSize:36*this.scaleFactor,fill:"#FFFFFF",align:"center",stroke:"#1F2A1A",strokeThickness:15};this.timeText=this.add.text(this.leaf2.x,this.leaf2.y-.1*this.leaf2.displayHeight,"TIME",t),this.timeText.setOrigin(.5).setDepth(131);const e={fontFamily:"BukaBird",fontSize:36*this.scaleFactor,fill:"#FFFFFF",align:"center",stroke:"#1F2A1A",strokeThickness:15};this.scoreText=this.add.text(this.leaf1.x,this.leaf1.y-.1*this.leaf1.displayHeight,"SCORE",e),this.scoreText.setOrigin(.5).setDepth(131);const i={fontFamily:"BukaBird",fontSize:48*this.scaleFactor,fill:"#EFFF17",align:"center",stroke:"#1F2A1A",strokeThickness:15},s={fontFamily:"BukaBird",fontSize:48*this.scaleFactor,fill:"#EFFF17",align:"center",stroke:"#1F2A1A",strokeThickness:15};this.scoreValue=this.add.text(this.leaf1.x,this.leaf1.y+.01*this.leaf1.displayHeight,"00",i),this.scoreValue.setOrigin(.5).setDepth(131),this.timeValue=this.add.text(this.leaf2.x,this.leaf2.y+.01*this.leaf2.displayHeight,"00",s),this.timeValue.setOrigin(.5).setDepth(131)}updateGameTimer(){if(this.gameActive&&(this.gameTime--,this.timeValue&&this.timeValue.setText(this.gameTime.toString().padStart(2,"0")),this.gameTime<=0)){if(this.gameActive=!1,this.gameTimer.remove(),this.pineappleSpawnTimer&&this.pineappleSpawnTimer.remove(),this.fallingPineapples&&this.fallingPineapples.length>0){for(let t=0;t<this.fallingPineapples.length;t++){const e=this.fallingPineapples[t];e&&e.active&&this.tweens.add({targets:e,alpha:0,scale:0,duration:300,ease:"Power2",onComplete:()=>{e.destroy()}})}this.fallingPineapples=[]}this.liloSit&&this.liloSit.active&&this.tweens.add({targets:this.liloSit,alpha:0,y:this.liloSit.y+100,duration:500,ease:"Power2",onComplete:()=>{this.liloSit.visible=!1}});const t=[this.leaf1,this.leaf2,this.timeText,this.timeValue,this.scoreText,this.scoreValue];this.tweens.add({targets:t,alpha:0,duration:400,ease:"Power2",onComplete:()=>{t.forEach((t=>{t&&t.active&&(t.visible=!1)}))}});const e={fontFamily:"BukaBird",fontSize:60*this.scaleFactor,fill:"#EFFF17",align:"center",stroke:"#E10E14",strokeThickness:15};this.finalScore=this.add.text(this.canvasWidth/2,.5*this.canvasHeight,`${this.score}`,e),this.finalScore.setOrigin(.5).setDepth(150),this.finalScore.alpha=0,this.tweens.add({targets:this.finalScore,alpha:1,duration:800,ease:"Power2"}),this.subtext2=this.add.image(this.canvasWidth/2,.3*this.canvasHeight,"subtext2"),this.subtext2.setOrigin(.5),this.subtext2.setScale(.7*this.scaleFactor).setDepth(150),this.subtext2.alpha=0,this.tweens.add({targets:this.subtext2,alpha:1,duration:800,ease:"Power2"}),this.subtext3=this.add.image(this.canvasWidth/2,.4*this.canvasHeight,"subtext3"),this.subtext3.setOrigin(.5),this.subtext3.setScale(.7*this.scaleFactor).setDepth(150),this.subtext3.alpha=0,this.tweens.add({targets:this.subtext3,alpha:1,duration:800,ease:"Power2"}),this.finalScore.x=this.subtext2.x-.06*this.subtext2.displayWidth,this.finalScore.y=this.subtext2.y+.3*this.subtext2.displayHeight,this.playagain=this.add.image(this.canvasWidth/2,.5*this.canvasHeight,"playagain"),this.playagain.setOrigin(.5),this.playagain.setScale(.3*this.scaleFactor),this.playagain.alpha=0,this.playagain.setDepth(160),this.playagain.setInteractive({useHandCursor:!0}),this.playagain.on("pointerdown",this.onPlayAgain,this),this.playagain.on("pointerover",(()=>{this.playagain.setScale(.33*this.scaleFactor)})),this.playagain.on("pointerout",(()=>{this.playagain.setScale(.3*this.scaleFactor)})),this.watchTrailer=this.add.image(this.canvasWidth/2,.6*this.canvasHeight,"watchtrailer"),this.watchTrailer.setOrigin(.5),this.watchTrailer.setScale(.3*this.scaleFactor),this.watchTrailer.alpha=0,this.watchTrailer.setDepth(160),this.watchTrailer.setInteractive({useHandCursor:!0}),this.watchTrailer.on("pointerdown",this.onWatchTrailer,this),this.watchTrailer.on("pointerover",(()=>{this.watchTrailer.setScale(.33*this.scaleFactor)})),this.watchTrailer.on("pointerout",(()=>{this.watchTrailer.setScale(.3*this.scaleFactor)})),this.tweens.add({targets:this.playagain,alpha:1,duration:800,ease:"Power2"}),this.tweens.add({targets:this.watchTrailer,alpha:1,duration:800,ease:"Power2"}),this.lilojump=this.add.sprite(.2*this.canvasWidth,.9*this.canvasHeight,"lilojump"),this.lilojump.setOrigin(.5,1).setDepth(160),this.lilojump.setScale(.3*this.scaleFactor*this.sc),this.lilojump.alpha=0,this.tweens.add({targets:this.lilojump,alpha:1,duration:800,ease:"Power2",onComplete:()=>{this.animateLiloJump()}}),this.addElementsagainInOrder()}}onWatchTrailer(){console.log("Watch trailer clicked"),this.pineappleSpawnTimer&&(this.pineappleSpawnTimer.remove(),this.pineappleSpawnTimer=null),this.gameTimer&&(this.gameTimer.remove(),this.gameTimer=null),this.events.off("update",this.updatePineapples,this),this.score=0,this.gameTime=0,this.gameActive=!0,this.fallingPineapples&&this.fallingPineapples.length>0&&(this.fallingPineapples.forEach((t=>{t&&t.active&&t.destroy()})),this.fallingPineapples=[]),this.removePineapples(),this.tweens.add({targets:this.lilojump,alpha:0,y:this.lilojump.y-50,duration:300,ease:"Power2"}),this.tweens.add({targets:[this.playagain,this.watchTrailer],alpha:0,y:this.playagain.y-50,duration:300,ease:"Power2",onComplete:()=>{this.playagain&&this.playagain.active&&this.playagain.destroy(),this.watchTrailer&&this.watchTrailer.active&&this.watchTrailer.destroy()}}),this.tweens.add({targets:[this.subtext2,this.subtext3],alpha:0,y:this.subtext2.y-50,duration:300,ease:"Power2",onComplete:()=>{this.subtext2&&this.subtext2.active&&this.subtext2.destroy(),this.subtext3&&this.subtext3.active&&this.subtext3.destroy()}}),this.tweens.add({targets:this.finalScore,alpha:0,y:this.finalScore.y-50,duration:300,ease:"Power2",onComplete:()=>{this.finalScore&&this.finalScore.active&&this.finalScore.destroy()}}),this.tweens.add({targets:this.image,alpha:0,y:this.image.y-50,duration:300,ease:"Power2",onComplete:()=>{this.image&&this.image.active&&this.image.destroy()}}),this.tweens.add({targets:this.logo,alpha:0,y:this.logo.y-50,duration:300,ease:"Power2",onComplete:()=>{this.logo&&this.logo.active&&this.logo.destroy(),this.fnCTAFinal()}})}fnCTAFinal(){const t=this.add.graphics({fillStyle:{color:0,alpha:0}});t.lineStyle(15,16711680,1).setDepth(161),t.strokeRect(0,0,this.canvasWidth,this.canvasHeight),this.ctaFinal=this.add.image(this.canvasWidth/2,this.canvasHeight/2,"CTAFINAL").setDepth(160).setScale(2.25*this.scaleFactor),this.ctaFinal.setInteractive({useHandCursor:!0}),this.ctaFinal.on("pointerdown",(()=>{window.open("https://youtu.be/VWqJifMMgZE?si=fFXIPFI2jk0yUuVw","_blank")}))}startSpawningPineapples(){this.pineappleSpawnTimer&&this.pineappleSpawnTimer.remove(),this.events.off("update",this.updatePineapples,this),this.pineappleSpawnTimer=this.time.addEvent({delay:800,callback:this.spawnPineapple,callbackScope:this,loop:!0}),this.events.on("update",this.updatePineapples,this)}spawnPineapple(){if(!this.gameActive)return;const t=.8*this.liloSit.displayWidth;let e,i,s=!1,a=0;for(;!s&&a<10;){const l=this.liloSit.displayWidth/2,h=this.canvasWidth-this.liloSit.displayWidth/2;e=Phaser.Math.Between(l,h),i=Phaser.Math.Between(-150,-20),s=!0;for(let a=0;a<this.fallingPineapples.length;a++){const l=this.fallingPineapples[a];if(l.y<100&&Phaser.Math.Distance.Between(e,i,l.x,l.y)<t){s=!1;break}}a++}const l=this.add.image(e,i,"pineapple"),h=Phaser.Math.FloatBetween(.2,.25)*this.scaleFactor*this.sc;l.setScale(h),l.setOrigin(.5,.5),l.speed=Phaser.Math.Between(8,15),l.rotation=Phaser.Math.Between(-45,45)*(Math.PI/180),l.spinSpeed=Phaser.Math.FloatBetween(-.05,.05),this.fallingPineapples.push(l)}updatePineapples(){if(this.gameActive&&this.fallingPineapples){if(this.fallingPineapples.length>30){const t=this.fallingPineapples.length-30;for(let e=0;e<t;e++)this.fallingPineapples[e].destroy();this.fallingPineapples.splice(0,t)}for(let t=this.fallingPineapples.length-1;t>=0;t--){const e=this.fallingPineapples[t];e.y+=e.speed,Math.random()<.1&&(e.x+=Phaser.Math.Between(-2,2)),e.y>this.canvasHeight+100?(e.destroy(),this.fallingPineapples.splice(t,1)):this.checkCollision(e,this.graphics)&&this.applyPineappleHitEffect(e,t)}}}checkCollision(t,e){const i=t.getBounds(),s=new Phaser.Geom.Rectangle(i.x+.25*i.width,i.y+.25*i.height,.5*i.width,.5*i.height);let a;return a=e instanceof Phaser.GameObjects.Graphics?new Phaser.Geom.Rectangle(this.liloSit.x-this.liloSit.displayWidth/8,this.liloSit.y-.6*this.liloSit.displayHeight,.2*this.liloSit.displayWidth,.1*this.liloSit.displayHeight):e.getBounds(),Phaser.Geom.Rectangle.Overlaps(s,a)}applyPineappleHitEffect(t,e){if(t.isHit)return;t.isHit=!0,this.liloSit.setAlpha(1),this.score+=1,this.scoreValue&&this.scoreValue.setText(this.score.toString().padStart(2,"0"));const i=this.liloSit.y;this.tweens.add({targets:t,y:t.y-80,x:t.x+Phaser.Math.Between(-50,50),alpha:0,duration:300,ease:"Back.easeOut",onComplete:()=>{t.destroy()}}),this.fallingPineapples.splice(e,1),this.liloSit.setTexture("lilo1");const s={fontFamily:"BukaBird",fontSize:60*this.scaleFactor,fill:"#EFFF17",align:"center",stroke:"#C40000",strokeThickness:10},a=this.pineapplePhrases[Math.floor(Math.random()*this.pineapplePhrases.length)],l=this.add.text(this.liloSit.x,.8*this.canvasHeight,a,s);l.setOrigin(.5).setDepth(120),this.tweens.add({targets:l,y:l.y-.1*this.liloSit.displayHeight,alpha:0,duration:1e3,ease:"Power2",onComplete:()=>{l.destroy()}}),this.tweens.add({targets:this.liloSit,y:i+15,duration:120,ease:"Bounce.easeIn",onComplete:()=>{this.tweens.add({targets:this.liloSit,y:i,duration:300,ease:"Elastic.easeOut",onComplete:()=>{this.liloSit.setTexture("lilo2")}})}})}setupLiloMovement(){this.liloSpeed=12,this.liloDirection=0,this.walkBobbing=!1,this.walkBobTime=0,this.walkBobBaseY=this.liloSit.y,this.input.on("pointerdown",(t=>{t.x<this.canvasWidth/2?(this.liloDirection=-1,this.liloSit.scaleX=Math.abs(this.liloSit.scaleX)):(this.liloDirection=1,this.liloSit.scaleX=-Math.abs(this.liloSit.scaleX))})),this.input.on("pointerup",(()=>{this.liloDirection=0})),this.events.on("update",this.updateLiloPosition,this)}updateLiloPosition(){if(this.liloSit&&this.graphics&&(this.graphics.clear(),this.graphics.fillStyle(16711680,0),this.graphics.fillRect(this.liloSit.x-this.liloSit.displayWidth/8,this.liloSit.y-.6*this.liloSit.displayHeight,.2*this.liloSit.displayWidth,.1*this.liloSit.displayHeight)),0!==this.liloDirection&&this.liloSit){this.liloSit.x+=this.liloDirection*this.liloSpeed,this.walkBobbing||(this.walkBobbing=!0,this.walkBobTime=0,this.walkBobBaseY=this.liloSit.y),this.walkBobTime+=.5;const t=4;this.liloSit.y=this.walkBobBaseY+Math.sin(this.walkBobTime)*t;const e=this.liloSit.width*Math.abs(this.liloSit.scaleX)*.5,i=this.canvasWidth-e;this.liloSit.x<e?this.liloSit.x=e:this.liloSit.x>i&&(this.liloSit.x=i)}else this.walkBobbing&&(this.walkBobbing=!1,this.liloSit.y=this.walkBobBaseY)}animatePineapples(){this.pineapples.forEach(((t,e)=>{t.x;const i=t.y,s=t.angle;t.y=i-200-100*Math.random(),t.angle=s+(Math.random()>.5?180:-180),this.tweens.add({targets:t,y:i,angle:s,duration:800+150*e,ease:"Bounce.easeOut",delay:120*e})}))}animateLiloSit(){const t=()=>{const e="lilosit1"===this.liloSit.texture.key?"lilosit2":"lilosit1";this.liloSit.setTexture(e),this.time.delayedCall(500,t)};t()}animateLiloJump(){const t=this.lilojump.y;this.tweens.add({targets:this.lilojump,y:t-50,duration:500,ease:"Sine.easeOut",onComplete:()=>{this.tweens.add({targets:this.lilojump,y:t,duration:400,ease:"Bounce.easeOut",onComplete:()=>{this.time.delayedCall(1e3,(()=>this.animateLiloJump()))}})}})}onPlayAgain(){console.log("Play again clicked"),this.pineappleSpawnTimer&&(this.pineappleSpawnTimer.remove(),this.pineappleSpawnTimer=null),this.gameTimer&&(this.gameTimer.remove(),this.gameTimer=null),this.events.off("update",this.updatePineapples,this),this.score=0,this.gameTime=0,this.gameActive=!0,this.fallingPineapples&&this.fallingPineapples.length>0&&(this.fallingPineapples.forEach((t=>{t&&t.active&&t.destroy()})),this.fallingPineapples=[]),this.removePineapples(),this.tweens.add({targets:this.lilojump,alpha:0,y:this.lilojump.y-50,duration:300,ease:"Power2"}),this.tweens.add({targets:[this.playagain,this.watchTrailer],alpha:0,y:this.playagain.y-50,duration:300,ease:"Power2",onComplete:()=>{this.playagain&&this.playagain.active&&this.playagain.destroy(),this.watchTrailer&&this.watchTrailer.active&&this.watchTrailer.destroy()}}),this.tweens.add({targets:[this.subtext2,this.subtext3],alpha:0,y:this.subtext2.y-50,duration:300,ease:"Power2",onComplete:()=>{this.subtext2&&this.subtext2.active&&this.subtext2.destroy(),this.subtext3&&this.subtext3.active&&this.subtext3.destroy()}}),this.tweens.add({targets:this.finalScore,alpha:0,y:this.finalScore.y-50,duration:300,ease:"Power2",onComplete:()=>{this.finalScore&&this.finalScore.active&&this.finalScore.destroy(),this.fnstartGame()}})}}class h extends t.Scene{constructor(){super("Preloader")}init(){a(this),console.log(a(this))}preload(){this.load.setPath(window.trackingPath),this.load.image("logo","logo.png"),this.load.image("subtext","subtext.png"),this.load.image("subtext2","subtext2.png"),this.load.image("subtext3","subtext3.png"),this.load.image("logo2","logo2.png"),this.load.image("taptoplay","taptoplay.png"),this.load.image("playagain","playagain.png"),this.load.image("watchtrailer","watchtrailer.png"),this.load.image("lilo1","lilo1.png"),this.load.image("lilo2","lilo2.png"),this.load.image("lilosit1","lilosit1.png"),this.load.image("lilosit2","lilosit2.png"),this.load.image("pineapple","pineapple.png"),this.load.image("leaf1","leaf1.png"),this.load.image("leaf2","leaf2.png"),this.load.image("playagain","playagain.png"),this.load.image("watchtrailer","watchtrailer.png"),this.load.image("CTAFINAL","CTAFINAL.jpg"),this.load.image("lilojump","lilojump.png")}create(){this.scene.start("MainMenu")}}const n={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,h,l,i,s]};new Phaser.Game(n);
