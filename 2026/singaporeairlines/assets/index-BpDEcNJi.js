import{p as t}from"./phaser-C2RWnc_5.js";function e(t,e){const s=/Mobi|Android/i.test(navigator.userAgent),a=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,h=window.innerHeight;let o,n;o=t.game.canvas.width,n=t.game.canvas.height;const l=document.getElementsByTagName("canvas")[0],r=Math.abs(parseFloat(l.style.marginTop||0))/i*o+(a?130:0),d=Math.abs(parseFloat(l.style.marginLeft||0))/h*n;let c=h/(i+2*d)*.85;return s?{canvasWidth:o,canvasHeight:n,scaleFactor:c,topMarginOffset:r,leftMarginOffsetPercentage:d,isMobileDevice:s,isIphoneDevice:a}:(c=1.4,{canvasWidth:o,canvasHeight:n,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class s extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}shuffleArray(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}create(){this.bgMusic=this.sound.add("bgMusic",{loop:!0,volume:.5}),this.clickSfx=this.sound.add("click",{volume:.8}),this.winSfx=this.sound.add("win",{volume:.5});const{canvasWidth:t,canvasHeight:s,scaleFactor1:a,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:o,isIphoneDevice:n}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=1.4,this.qno=1,this.bg3=this.add.image(.5*t,.5*s,"a1"),this.bg3.setOrigin(.5).setDepth(1),this.bg3.setScale(1.1*this.scaleFactor),this.bg3.alpha=1,this.bg=this.add.image(.5*t,.5*s,"sc2"),this.bg.setOrigin(.5).setDepth(1),this.bg.setScale(1.1*this.scaleFactor),this.bg.alpha=1,this.lady1=this.add.image(.2*-t,.9*s,"lady2"),this.lady1.setOrigin(.5).setDepth(1),this.lady1.setScale(1.1*this.scaleFactor*.8),this.lady1.alpha=1,this.popup=this.add.image(1.25*t,.55*s,"popup1"),this.popup.setOrigin(.5).setDepth(1),this.popup.setScale(1.1*this.scaleFactor),this.popup.alpha=0,this.o1=this.add.image(.5*t,.55*s,"o1"),this.o1.setOrigin(.5).setDepth(1),this.o1.setScale(1*this.scaleFactor),this.o1.alpha=0,this.o2=this.add.image(.5*t,.55*s,"o3"),this.o2.setOrigin(.5).setDepth(1),this.o2.setScale(1*this.scaleFactor),this.o2.alpha=0,this.bg2=this.add.image(.5*t,.5*s,"sc1"),this.bg2.setOrigin(.5).setDepth(1),this.bg2.setScale(1.1*this.scaleFactor),this.bg2.alpha=1,this.title=this.add.image(.5*t,.95*s,"title"),this.title.setOrigin(.5).setDepth(1),this.title.setScale(1*this.scaleFactor),this.title.alpha=0,this.playnow=this.add.image(.5*t,1.05*s,"playnow"),this.playnow.setOrigin(.5).setDepth(1),this.playnow.setScale(1*this.scaleFactor),this.playnow.alpha=0,Math.random()<.5&&(this.o2.setTexture("o2"),this.popup.setTexture("popup2"),this.bg3.setTexture("a2"),this.qno=2),this.tweens.add({targets:this.playnow,y:.9*s,alpha:1,duration:1e3,ease:"Power2",delay:1e3,onComplete:()=>{this.playnowPulseTween=this.tweens.add({targets:this.playnow,scale:1.1*this.scaleFactor,duration:500,ease:"Power2",delay:0,yoyo:!0,repeat:-1}),this.input.once("pointerdown",(()=>{this.clickSfx.play(),this.bgMusic.isPlaying||this.bgMusic.play(),this.playnowPulseTween&&(this.playnowPulseTween.stop(),this.playnowPulseTween=null),this.tweens.killTweensOf(this.playnow),this.tweens.killTweensOf(this.title),this.tweens.add({targets:this.bg2,y:.25*-s,alpha:0,duration:1e3,ease:"Power2",delay:0}),this.tweens.add({targets:this.playnow,y:1.05*s,alpha:0,duration:1e3,ease:"Power2",delay:0}),this.tweens.add({targets:this.title,alpha:0,duration:1e3,ease:"Power2",delay:0}),this.tweens.add({targets:this.lady1,x:.125*t,alpha:1,duration:1e3,ease:"Power2",delay:0}),this.o1.y=this.popup.y+.1*this.popup.displayHeight,this.o2.y=this.popup.y+.35*this.popup.displayHeight,this.tweens.add({targets:this.popup,x:.6*t,alpha:1,duration:1e3,ease:"Power2",delay:0,onComplete:()=>{this.tweens.add({targets:this.o1,x:this.popup.x,alpha:1,duration:1e3,ease:"Power2",delay:0}),this.tweens.add({targets:this.o2,x:this.popup.x,alpha:1,duration:1e3,ease:"Power2",delay:0})}}),this.o1.setInteractive(),this.o2.setInteractive(),this.o1.on("pointerdown",(()=>{this.clickSfx.play(),this.winSfx.play(),this.tweens.killTweensOf(this.o1),this.tweens.add({targets:this.o1,scale:1.2*this.scaleFactor,duration:250,ease:"Linear",onComplete:()=>{this.o1.setTexture("r1")}}),this.tweens.killTweensOf(this.o2),this.tweens.add({targets:this.o2,alpha:.5,scale:.8*this.scaleFactor,x:this.o2.x-.13*this.o2.displayWidth,duration:500,ease:"Linear",onComplete:()=>{setTimeout((()=>{this.finalCTA()}),1500)}})})),this.o2.on("pointerdown",(()=>{this.clickSfx.play(),this.tweens.killTweensOf(this.o2),this.tweens.add({targets:this.o1,scale:1.2*this.scaleFactor,duration:250,ease:"Linear",onComplete:()=>{this.o1.setTexture("r1")}}),this.tweens.killTweensOf(this.o2),"o2"==this.o2.texture.key?this.o2.setTexture("w2"):this.o2.setTexture("w1"),this.tweens.add({targets:this.o2,alpha:.5,scale:.8*this.scaleFactor,x:this.o2.x-.13*this.o2.displayWidth,duration:500,ease:"Linear",onComplete:()=>{setTimeout((()=>{this.finalCTA()}),1500)}})}))}))}}),this.tweens.add({targets:this.title,y:.5*s,alpha:1,duration:1e3,ease:"Power2",delay:250})}setItemsInteractive(t){[this.item1,this.item2,this.item3,this.item4,this.item5].forEach((e=>{e&&e.input&&(e.input.enabled=t)}))}fnSparkle(t,e,s){this.sparkles||(this.sparkles=[]);const a=this.add.image(t,e,"sparkle");a.setScale(.5),a.setAlpha(0),a.setDepth(10),a.setAngle(Phaser.Math.Between(0,360)),this.sparkles.push(a),this.tweens.add({targets:a,alpha:{from:0,to:1},scale:{from:.5,to:s},angle:{from:a.angle,to:a.angle+Phaser.Math.Between(180,360)},duration:2e3,delay:Phaser.Math.Between(200,1e3),yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}createSparkleEffect(t,e){if(!this.textures.exists("sparkle"))return;const s=100*this.scaleFactor;for(let a=0;a<8;a++){const i=Phaser.Math.Between(.5*-s,.5*s),h=Phaser.Math.Between(.8*-s,.2*-s),o=this.add.image(t+i,e+h,"sparkle");o.setDepth(10).setScale(0).setAlpha(0).setBlendMode("ADD"),this.tweens.add({targets:o,scale:{from:0,to:Phaser.Math.FloatBetween(.5,1)*this.scaleFactor},alpha:{from:0,to:1},angle:{from:0,to:180},duration:400,yoyo:!0,ease:"Sine.easeInOut",delay:100*a,onComplete:()=>{o.destroy()}})}}finalCTA(){this.tweens.killTweensOf(this.o1),this.tweens.killTweensOf(this.o2),this.tweens.killTweensOf(this.popup),this.tweens.killTweensOf(this.bg),this.tweens.killTweensOf(this.lady1),this.tweens.add({targets:this.o1,x:1.5*this.canvasWidth,alpha:0,duration:1500,ease:"Power2"}),this.tweens.add({targets:this.o2,x:1.5*this.canvasWidth,alpha:0,duration:1500,ease:"Power2",delay:100}),this.tweens.add({targets:this.popup,x:1.5*this.canvasWidth,alpha:0,duration:1600,ease:"Power2",delay:50}),this.tweens.add({targets:this.lady1,x:.3*-this.canvasWidth,alpha:0,duration:800,ease:"Power2",onComplete:()=>{this.lady1.y=1.1*this.canvasHeight,this.lady1.setTexture("lady1"),this.tweens.add({targets:this.lady1,x:.2*this.canvasWidth,alpha:1,duration:800,ease:"Power2"}),this.ctaBtn=this.add.image(.55*this.canvasWidth,1.1*this.canvasHeight,"cta2"),this.ctaBtn.setOrigin(.5).setDepth(10),this.ctaBtn.setScale(1.1*this.scaleFactor),this.tweens.add({targets:this.ctaBtn,y:.665*this.canvasHeight,duration:500,ease:"Power2",delay:1e3,onComplete:()=>{}}),this.cta2=this.add.image(.55*this.canvasWidth,1.1*this.canvasHeight,"cta"),this.cta2.setOrigin(.5).setDepth(10),this.cta2.setScale(1.1*this.scaleFactor),this.tweens.add({targets:this.cta2,y:.75*this.canvasHeight,duration:500,ease:"Power2",delay:1200,onComplete:()=>{}})}}),this.tweens.add({targets:this.bg,alpha:0,duration:1600,ease:"Power2",delay:200})}}class a extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:s,scaleFactor:a,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:o,isIphoneDevice:n}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=a}createLoadingUI(){this.add.text(this.canvasWidth/2,.5*this.canvasHeight-50*this.scaleFactor,"LOADING...",{fontFamily:"Inter",fontSize:24*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,s=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=s,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"Inter",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{}));let t=Math.floor(5*Math.random());t>=5&&(t=1),0===t&&(t=1);let e="op"+t;console.log(e," optionnn"),window.option=e,this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("title","title.png"),this.load.image("a1","a1.png"),this.load.image("a2","a2.png"),this.load.image("sc1","sc1.png"),this.load.image("lady1","lady1.png"),this.load.image("lady2","lady2.png"),this.load.image("sc2","sc2.png"),this.load.image("playnow","playnow.png"),this.load.image("r1","r1.png"),this.load.image("cta","cta.png"),this.load.image("cta2","cta2.png"),this.load.image("logo","logo.png"),this.load.image("o1","o1.png"),this.load.image("o2","o2.png"),this.load.image("o3","o3.png"),this.load.image("popup","popup.png"),this.load.image("popup1","popup1.png"),this.load.image("popup2","popup2.png"),this.load.image("w1","w1.png"),this.load.image("w2","w2.png"),this.load.audio("bgMusic","bgMusic.mp3"),this.load.audio("click","click.mp3"),this.load.audio("win","win.mp3")}create(){this.scene.start("MainMenu")}}const i={type:Phaser.CANVAS,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[a,s]};new Phaser.Game(i);
