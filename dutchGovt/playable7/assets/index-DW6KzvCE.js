import{p as t}from"./phaser-C2RWnc_5.js";function e(t,e){const a=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,h=window.innerHeight;let n,o;n=t.game.canvas.width,o=t.game.canvas.height;const l=document.getElementsByTagName("canvas")[0],r=Math.abs(parseFloat(l.style.marginTop||0))/i*n+(s?130:0),d=Math.abs(parseFloat(l.style.marginLeft||0))/h*o;let g=h/(i+2*d)*.85;return a?{canvasWidth:n,canvasHeight:o,scaleFactor:g,topMarginOffset:r,leftMarginOffsetPercentage:d,isMobileDevice:a,isIphoneDevice:s}:(g=1.4,{canvasWidth:n,canvasHeight:o,scaleFactor:g,topMarginOffset:0,leftMarginOffsetPercentage:0})}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const a of t)if("childList"===a.type)for(const t of a.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var a={option:0};class s extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}shuffleArray(t){for(let e=t.length-1;e>0;e--){const a=Math.floor(Math.random()*(e+1));[t[e],t[a]]=[t[a],t[e]]}return t}create(){this.startTime=Date.now();const{canvasWidth:t,canvasHeight:s,scaleFactor1:i,topMarginOffset:h,leftMarginOffsetPercentage:n,isMobileDevice:o,isIphoneDevice:l}=e(this);this.optxt1="",this.optxt2="",this.optxt3="","op1"===window.option&&(this.optxt1="Belangrijke melding",this.optxt2="Binnen 12 uur",this.optxt3="Betaallink"),"op2"===window.option&&(this.optxt1="Nimbus air",this.optxt2="Binnen 24 uur",this.optxt3="Link naar feedback formulier"),"op3"===window.option&&(this.optxt1="the word direct",this.optxt2="the link and:",this.optxt3="binnen 15 minuten"),"op4"===window.option&&(this.optxt1="the word Vanavond",this.optxt2="buiten het platform om",this.optxt3="the paylink"),this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=1.4,this.bg=this.add.image(.5*t,.5*s,"bg"),this.bg.setOrigin(.5).setDepth(1),this.bg.setScale(1.1*this.scaleFactor),this.bg.alpha=1,this.logo=this.add.image(.5*t,0*s,"logo"),this.logo.setOrigin(.5,0).setDepth(5),this.logo.setScale(1.1*this.scaleFactor/3),this.logo.y=-this.logo.displayHeight,this.logo.alpha=1,this.tweens.add({targets:this.logo,y:0,duration:1e3,ease:"Bounce.Out"}),this.notifyTxt=this.add.text(.5*t,.5*s,"Je ontvangt een bericht \nvan een pakketdienst......\nlijkt echt, maar klopt het?",{fontFamily:"rBold",fontSize:45*this.scaleFactor,color:"#FFFFFF",align:"center"}).setDepth(1).setOrigin(.5).setAlpha(0),console.log(a.option.split("op")[1]);var r=parseInt(a.option.split("op")[1]);2==r&&(this.notifyTxt.text="Je ontvangt een bericht \nvan een luchtvaartmaatschappij...\nlijkt echt, maar klopt het?"),3==r&&(this.notifyTxt.text="Je ontvangt een bericht \nvan IT support......\nlijkt echt, maar klopt het?"),4==r&&(this.notifyTxt.text="Je ontvangt een bericht van \nje aankoop via een \ntweedehands platform......\nlijkt echt, maar klopt het?"),this.notifyTxt2=this.add.text(.5*t,.6*s,"Sleep de red flags naar de verdachte \nsituaties in dit bericht.",{fontFamily:"rBold",fontSize:40*this.scaleFactor,color:"#FFFFFF",align:"center"}).setDepth(1).setOrigin(.5).setAlpha(0),this.tweens.add({targets:this.notifyTxt,alpha:1,duration:1e3,ease:"Expo.Out",delay:500}),this.txt1=this.add.image(.55*t,1.25*s,"txt1"),this.txt1.setOrigin(.5).setDepth(1),this.txt1.setScale(1.1*this.scaleFactor),this.txt1.alpha=1,this.tweens.add({targets:this.txt1,y:.8*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:500}),this.txt2=this.add.image(.45*t,1.25*s,"txt2"),this.txt2.setOrigin(.5).setDepth(1),this.txt2.setScale(1.1*this.scaleFactor),this.txt2.alpha=1,this.txt3=this.add.image(.55*t,1.25*s,"txt3"),this.txt3.setOrigin(.5).setDepth(1),this.txt3.setScale(1.1*this.scaleFactor),this.txt3.alpha=1,this.txt4=this.add.image(.55*t,1.25*s,"bgflag"),this.txt4.setOrigin(.5).setDepth(1),this.txt4.setScale(1.1*this.scaleFactor),this.txt4.alpha=1,this.redflag=this.add.image(.55*t,1.25*s,"redflag"),this.redflag.setOrigin(.5).setDepth(1),this.redflag.setScale(1.1*this.scaleFactor),this.redflag.alpha=1,this.tappedOptionsCount=0,setTimeout((()=>{this.tweens.add({targets:this.notifyTxt,alpha:0,duration:1500,ease:"Expo.Out",delay:800}),this.tweens.add({targets:this.logo,scale:.2*this.scaleFactor,duration:1500,ease:"Expo.Out"}),this.tweens.add({targets:this.txt1,y:.25*this.canvasHeight,duration:800,ease:"Expo.Out",delay:2e3}),this.tweens.add({targets:this.txt2,y:.525*this.canvasHeight,duration:800,ease:"Expo.Out",delay:2500}),setTimeout((()=>{this.notifyTxt.setText("Kun jij de red flags herkennen?"),this.notifyTxt.y=.77*this.canvasHeight,this.tweens.add({targets:this.notifyTxt,alpha:1,duration:1800,ease:"Expo.Out",delay:1e3}),this.tweens.add({targets:this.txt3,y:.9*this.canvasHeight,duration:800,ease:"Expo.Out",delay:1500,onComplete:()=>{this.tweens.add({targets:this.txt3,scale:1.05*this.scaleFactor,duration:800,ease:"Expo.Out",delay:1500,yoyo:!0,repeat:-1}),this.input.on("pointerdown",(()=>{this.input.off("pointerdown"),this.openQuiz()}))}})}),2e3)}),2e3)}openQuiz(){this.tweens.add({targets:this.txt3,y:1.25*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.notifyTxt,alpha:0,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.txt1,alpha:0,y:.1*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.txt2,y:.35*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.notifyTxt2,alpha:1,duration:1200,ease:"Expo.Out",delay:600}),this.tweens.add({targets:this.txt4,y:.76*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400,onComplete:()=>{this.addredflags()}})}addredflags(){this.redflag1=this.add.image(this.txt4.x,this.txt4.y+.03*this.txt4.displayHeight,"redflag"),this.redflag1.setOrigin(.5).setDepth(10),this.redflag1.setScale(1.1*this.scaleFactor),this.redflag1.alpha=1,this.redflag1.setInteractive({draggable:!0}),this.redflag2=this.add.image(this.redflag1.x-1.2*this.redflag1.displayWidth,this.txt4.y+.03*this.txt4.displayHeight,"redflag"),this.redflag2.setOrigin(.5).setDepth(10),this.redflag2.setScale(1.1*this.scaleFactor),this.redflag2.alpha=1,this.redflag2.setInteractive({draggable:!0}),this.redflag3=this.add.image(this.redflag1.x+1.2*this.redflag1.displayWidth,this.txt4.y+.03*this.txt4.displayHeight,"redflag"),this.redflag3.setOrigin(.5).setDepth(10),this.redflag3.setScale(1.1*this.scaleFactor),this.redflag3.alpha=1,this.redflag3.setInteractive({draggable:!0}),this.redflag1.originalX=this.redflag1.x,this.redflag1.originalY=this.redflag1.y,this.redflag2.originalX=this.redflag2.x,this.redflag2.originalY=this.redflag2.y,this.redflag3.originalX=this.redflag3.x,this.redflag3.originalY=this.redflag3.y,this.createDropZones(),this.setupDragAndDrop(),setTimeout((()=>{this.showHandTutorial()}),1e3)}createDropZones(){this.dropZone={x:this.txt2.x,y:this.txt2.y,width:this.txt2.displayWidth,height:this.txt2.displayHeight},this.availableTextKeys=["txt2_1","txt2_2","txt2_3"]}showHandTutorial(){this.tutorialHand=this.add.image(this.redflag1.x-0*this.scaleFactor,this.redflag1.y+30*this.scaleFactor,"hand"),this.tutorialHand.setOrigin(.5).setDepth(25),this.tutorialHand.setScale(1*this.scaleFactor),this.tutorialHand.alpha=0,this.tweens.add({targets:this.tutorialHand,alpha:1,duration:250,ease:"Expo.Out",onComplete:()=>{this.animateDragTutorial()}})}animateDragTutorial(){this.tutorialHand&&(this.tweens.add({targets:this.tutorialHand,x:this.txt2.x,y:this.txt2.y,duration:1500,delay:800,ease:"Power2.out",repeat:3,onComplete:()=>{this.tutorialHand&&this.tweens.add({targets:this.tutorialHand,alpha:0,duration:500,ease:"Expo.Out",onComplete:()=>{this.tutorialHand.destroy(),this.tutorialHand=null}})}}),this.tweens.add({targets:this.tutorialHand,scaleX:.9*this.scaleFactor,scaleY:.9*this.scaleFactor,duration:1500,ease:"Sine.inOut",yoyo:!0,repeat:3}))}setupDragAndDrop(){this.input.on("dragstart",((t,e)=>{e.setDepth(20),e.setTint(16737894),this.tutorialHand&&(this.tutorialHand.destroy(),this.tutorialHand=null)})),this.input.on("drag",((t,e,a,s)=>{e.x=a,e.y=s})),this.input.on("dragend",((t,e)=>{e.setDepth(10),e.clearTint(),this.isInDropZone(e,this.dropZone)&&this.availableTextKeys.length>0?this.handleFlagDrop(e):this.tweens.add({targets:e,x:e.originalX,y:e.originalY,duration:500,ease:"Back.out"})}))}isInDropZone(t,e){const a=t.x-t.displayWidth/2,s=t.x+t.displayWidth/2,i=t.y-t.displayHeight/2,h=t.y+t.displayHeight/2,n=e.x-e.width/2,o=e.x+e.width/2,l=e.y-e.height/2,r=e.y+e.height/2;return a<o&&s>n&&i<r&&h>l}handleFlagDrop(t){t.disableInteractive();const e=this.availableTextKeys.shift();this.tweens.add({targets:t,alpha:0,duration:500,ease:"Expo.Out",onComplete:()=>{this[e]=this.add.image(this.txt2.x,this.txt2.y,e),this[e].setOrigin(.5).setDepth(15),this[e].setScale(1.1*this.scaleFactor),this[e].alpha=1,this.tappedOptionsCount++,3===this.tappedOptionsCount&&setTimeout((()=>{this.finalAnimations()}),3e3)}})}finalAnimations(){console.log("finalAnimations"),this.txt2_1&&this.tweens.add({targets:this.txt2_1,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.txt2_2&&this.tweens.add({targets:this.txt2_2,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.txt2_3&&this.tweens.add({targets:this.txt2_3,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.notifyTxt2&&this.tweens.add({targets:this.notifyTxt2,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.redflag1&&this.tweens.add({targets:this.redflag1,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.redflag2&&this.tweens.add({targets:this.redflag2,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.redflag3&&this.tweens.add({targets:this.redflag3,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.tweens.add({targets:this.txt2,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.tweens.add({targets:this.txt4,alpha:0,y:1.3*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),setTimeout((()=>{this.txt5=this.add.image(.5*this.canvasWidth,2.25*this.canvasHeight,"txt5"),this.txt5.setOrigin(.5).setDepth(1),this.txt5.setScale(1.1*this.scaleFactor),this.txt5.alpha=1,this.tweens.add({targets:this.txt5,y:.475*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:500,onComplete:()=>{this.flag2=this.add.image(.145*this.canvasWidth,1.05*this.canvasHeight,"flag2"),this.flag2.setAngle(-10),this.flag2.setOrigin(.5).setDepth(1),this.flag2.setScale(.8*this.scaleFactor),this.flag2.alpha=1,this.tweens.add({targets:this.flag2,angle:0,duration:1e3,ease:"Expo.Out",delay:0,onComplete:()=>{}}),this.tweens.add({targets:this.txt5,alpha:0,duration:1e3,ease:"Expo.Out",delay:7e3,onComplete:()=>{this.txt6=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt6"),this.txt6.setOrigin(.5).setDepth(10),this.txt6.setScale(1.1*this.scaleFactor),this.txt6.alpha=1,this.txt7=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt7"),this.txt7.setOrigin(.5).setDepth(10),this.txt7.setScale(1.1*this.scaleFactor),this.txt7.alpha=1,this.txt8=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt8"),this.txt8.setOrigin(.5).setDepth(10),this.txt8.setScale(1.1*this.scaleFactor),this.txt8.alpha=1,this.txt9=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt9"),this.txt9.setOrigin(.5).setDepth(10),this.txt9.setScale(1.1*this.scaleFactor),this.txt9.alpha=1,this.playAnimationInStyle()}})}})}),1e3)}loopmsg(t,e){console.log("loopmsg"),t.y=.35*this.canvasHeight,e.y=.35*this.canvasHeight,t.setAlpha(1),e.setAlpha(1),t.setDepth(e.depth-1),e.setScale(.7*this.scaleFactor),this.tweens.add({targets:t,y:t.y-e.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{this.tweens.add({targets:t,scale:.7*this.scaleFactor,y:t.y+e.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{}})}}),this.tweens.add({targets:e,y:e.y+e.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{e.setDepth(t.depth+1),this.tweens.add({targets:e,scale:1.1*this.scaleFactor,y:e.y-e.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{t.setAlpha(0)}})}})}playAnimationInStyle(){console.log("playAnimationInStyle"),this.txt6.y=.35*this.canvasHeight,this.txt7.y=.35*this.canvasHeight,this.txt8.y=.35*this.canvasHeight,this.txt9.y=2.25*this.canvasHeight,this.txt6.setAlpha(0),this.txt7.setAlpha(0),this.txt8.setAlpha(0),this.txt9.setAlpha(1),this.txt7.setDepth(this.txt6.depth-1),this.txt8.setDepth(this.txt6.depth-2),this.txt9.setDepth(this.txt6.depth-3),this.txt7.setScale(.7*this.scaleFactor),this.txt8.setScale(.7*this.scaleFactor),this.tweens.add({targets:this.txt6,alpha:1,duration:500,ease:"Expo.Out",delay:0,onComplete:()=>{this.loopmsg(this.txt6,this.txt7),setTimeout((()=>{this.loopmsg(this.txt7,this.txt8),setTimeout((()=>{this.tweens.add({targets:this.flag2,x:.7*this.canvasWidth,y:.85*this.canvasHeight,scale:.5*this.scaleFactor,angle:40,duration:1e3,ease:"Expo.Out",delay:400,onComplete:()=>{}}),this.tweens.add({targets:this.txt9,y:this.txt8.y+this.txt8.displayHeight,scale:1.3*this.scaleFactor,duration:1500,ease:"Expo.Out",delay:300,onComplete:()=>{}}),this.tweens.add({targets:this.txt8,y:this.txt8.x-.7*this.txt8.displayHeight,scale:.9*this.scaleFactor,duration:1500,ease:"Expo.Out",delay:300,onComplete:()=>{this.endTime=Date.now();const t=Math.round((this.endTime-this.startTime)/1e3),e=Math.floor(t/60),a=t%60;this.timeSpent=`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`,setTimeout((()=>{this.timeText=this.add.text(.5*-this.canvasWidth,.75*this.canvasHeight,this.timeSpent,{fontFamily:"rBold",fontSize:40*this.scaleFactor,color:"#FFFFFF",align:"center"}),this.timeText.setOrigin(.5).setDepth(10).setAlpha(0),this.tweens.add({targets:this.timeText,alpha:1,duration:1500,ease:"Expo.Out"}),this.cta=this.add.image(.5*this.canvasWidth,.85*this.canvasHeight,"cta"),this.cta.setOrigin(.5).setDepth(10).setAlpha(0),this.tweens.add({targets:this.cta,alpha:1,duration:1500,ease:"Expo.Out"})}),0),this.input.on("pointerdown",(()=>{window.open("https://www.government.nl","_blank")}))}})}),3500)}),3500)}})}}class i extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:a,scaleFactor:s,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:n,isIphoneDevice:o}=e(this);this.canvasWidth=t,this.canvasHeight=a,this.scaleFactor=s}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"LOADING...",{fontFamily:"FlameBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,a=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,a),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,a),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=a,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{}));let t=Math.floor(5*Math.random());t>=5&&(t=1),0===t&&(t=1);let e="op"+t;console.log(e," optionnn"),window.option=e,a.option=e,this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("bg","bg.png"),this.load.image("logo","logo.png"),this.load.image("txt1",e+"/txt1.png"),this.load.image("txt2",e+"/txt2.png"),this.load.image("txt3","txt3.png"),this.load.image("txt4","txt4.png"),this.load.image("txt5",e+"/txt5.png"),this.load.image("txt6","txt6.png"),this.load.image("txt7","txt7.png"),this.load.image("txt8","txt8.png"),this.load.image("txt9",e+"/txt9.png"),this.load.image("txt2_1",e+"/txt2_1.png"),this.load.image("txt2_2",e+"/txt2_2.png"),this.load.image("txt2_3",e+"/txt2_3.png"),this.load.image("bgflag","bgflag.png"),this.load.image("redflag","redflag.png"),this.load.image("cta","cta.png"),this.load.image("flag2","flag2.png"),this.load.image("hand","hand.png")}create(){this.scene.start("MainMenu")}}const h={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[i,s]};new Phaser.Game(h);
