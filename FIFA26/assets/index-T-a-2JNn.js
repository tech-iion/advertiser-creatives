import{p as t}from"./phaser-C2RWnc_5.js";function e(t,e){const s=/Mobi|Android/i.test(navigator.userAgent),a=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,h=window.innerHeight;let o,l;o=t.game.canvas.width,l=t.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],n=Math.abs(parseFloat(r.style.marginTop||0))/i*o+(a?130:0),d=Math.abs(parseFloat(r.style.marginLeft||0))/h*l;let c=h/(i+2*d)*.85;return s?{canvasWidth:o,canvasHeight:l,scaleFactor:c,topMarginOffset:n,leftMarginOffsetPercentage:d,isMobileDevice:s,isIphoneDevice:a}:(c=1.4,{canvasWidth:o,canvasHeight:l,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class s extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}shuffleArray(t){for(let e=t.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[t[e],t[s]]=[t[s],t[e]]}return t}create(){const{canvasWidth:t,canvasHeight:s,scaleFactor1:a,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:o,isIphoneDevice:l}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=1.4,this.bg2=this.add.image(.5*t,.5*s,"bgground"),this.bg2.setOrigin(.5).setDepth(1),this.bg2.setScale(1.1*this.scaleFactor),this.bg2.alpha=1,this.bg=this.add.image(.5*t,.5*s,"bg"),this.bg.setOrigin(.5).setDepth(1),this.bg.setScale(1.1*this.scaleFactor),this.bg.alpha=1,this.tweens.add({targets:this.bg,scale:2*this.scaleFactor,x:.7*this.bg.displayWidth,y:.075*this.bg.displayHeight,duration:1e3,ease:"Power2",delay:1e3}),this.logo=this.add.image(1.5*t,.5*-s,"logo"),this.logo.setOrigin(.5).setDepth(2),this.logo.setScale(.3*this.scaleFactor),this.logo.alpha=1,this.tweens.add({targets:this.logo,scale:.3*this.scaleFactor,x:.75*this.canvasWidth,y:.25*this.canvasHeight,duration:1e3,ease:"Power2",delay:1e3}),this.feeltxt=this.add.text(.8*-t,.36*s,"FEEL\nTHE\nMOMENT",{fontSize:"120px",fill:"#ffffff",align:"left",fontFamily:"'Inter'",fontStyle:"800",wordWrap:{width:.8*t}}).setDepth(2),this.tweens.add({targets:this.feeltxt,x:.1*this.canvasWidth,duration:1e3,ease:"Power2",delay:1e3}),this.overlay=this.add.image(.5*t,1.2*s,"overlay"),this.overlay.setOrigin(.5).setDepth(2),this.overlay.setScale(1.1*this.scaleFactor),this.overlay.alpha=1,this.swipetoshoottxt=this.add.text(.8*-t,.36*s,"TAP TO SHOOT ðŸ‘‰",{fontSize:"60px",fill:"#ffffff",align:"left",fontFamily:"'Inter'",fontStyle:"800",wordWrap:{width:.8*t}}).setDepth(2).setAlpha(0),this.pressuretxt=this.add.text(.8*-t,.36*s,"THE PRESSURE IS REAL.",{fontSize:"40px",fill:"#ffffff",align:"left",fontFamily:"'Inter'",fontStyle:"600",wordWrap:{width:.8*t}}).setDepth(2).setAlpha(0).setOrigin(.5),this.ball=this.add.image(1.1*t,.5*s,"ball0"),this.ball.setOrigin(.5).setDepth(2),this.ball.setScale(.7*this.scaleFactor),this.ball.alpha=1,this.tweens.add({targets:this.overlay,scale:1.2*this.scaleFactor,x:.5*this.canvasWidth,y:.75*this.canvasHeight,duration:1e3,ease:"Power2",delay:1e3,onComplete:()=>{this.ball.y=this.overlay.y,this.swipetoshoottxt.y=this.overlay.y-this.swipetoshoottxt.displayHeight/2,this.swipetoshoottxt.x=.3*this.canvasWidth,this.pressuretxt.x=this.swipetoshoottxt.x+.4*this.swipetoshoottxt.displayWidth,this.pressuretxt.y=this.swipetoshoottxt.y+2*this.swipetoshoottxt.displayHeight,this.tweens.add({targets:[this.swipetoshoottxt,this.pressuretxt],alpha:1,duration:1e3,ease:"Power2",delay:500}),this.tweens.add({targets:this.ball,x:.175*this.canvasWidth,duration:1e3,ease:"Power2",delay:0})}}),this.input.on("pointerdown",(()=>{this.input.off("pointerdown"),this.gotoGame()}))}gotoGame(){this.feeltxt&&this.tweens.add({targets:this.feeltxt,x:-this.canvasWidth,alpha:0,duration:500,ease:"Power2",onComplete:()=>this.feeltxt.destroy()}),this.swipetoshoottxt&&this.tweens.add({targets:this.swipetoshoottxt,x:-this.canvasWidth,alpha:0,duration:500,ease:"Power2",delay:100,onComplete:()=>this.swipetoshoottxt.destroy()}),this.pressuretxt&&this.tweens.add({targets:this.pressuretxt,x:-this.canvasWidth,alpha:0,duration:500,ease:"Power2",delay:150,onComplete:()=>this.pressuretxt.destroy()}),this.ball&&this.tweens.add({targets:this.ball,x:1.5*this.canvasWidth,duration:300,ease:"Back.easeIn",onComplete:()=>this.ball.destroy()}),this.overlay&&this.tweens.add({targets:this.overlay,y:1.5*this.canvasHeight,alpha:0,duration:600,ease:"Power2",onComplete:()=>this.overlay.destroy()}),this.logo&&this.tweens.add({targets:this.logo,scale:.1*this.scaleFactor,x:.9*this.canvasWidth,y:.1*this.canvasHeight,alpha:1,duration:400,ease:"Power2"}),this.tweens.add({targets:this.bg,alpha:0,duration:500,ease:"Power2",onComplete:()=>this.bg.destroy()}),this.setupGame()}setupGame(){this.isShootReady=!0,this.shotsTaken=0,this.goalsScored=0,this.anims.create({key:"goalkeeperIdleAnim",frames:Array.from({length:23},((t,e)=>({key:"goalKeeper"+e}))),frameRate:24,repeat:-1}),this.anims.create({key:"goalkeeperSaveLeftAnim",frames:Array.from({length:33},((t,e)=>({key:"goalKeeperLeft"+e}))),frameRate:24,repeat:0}),this.anims.create({key:"goalkeeperSaveRightAnim",frames:Array.from({length:33},((t,e)=>({key:"goalKeeperRight"+e}))),frameRate:24,repeat:0}),this.anims.create({key:"goalkeeperSaveCenterUpAnim",frames:Array.from({length:24},((t,e)=>({key:"goalKeeperCenterUp"+e}))),frameRate:24,repeat:0}),this.net=this.add.image(.5*this.canvasWidth,.34*this.canvasHeight,"net"),this.net.setOrigin(.5).setDepth(5),this.net.setScale(.9*this.scaleFactor),this.goalZones={left:{x:this.net.x-.25*this.net.displayWidth,y:this.net.y},center:{x:this.net.x,y:this.net.y},right:{x:this.net.x+.25*this.net.displayWidth,y:this.net.y}},this.goalkeeper=this.add.sprite(.5*this.canvasWidth,.55*this.canvasHeight,"goalKeeper0"),this.goalkeeper.setOrigin(.5).setDepth(10),this.goalkeeper.setScale(.8*this.scaleFactor),this.goalkeeper.play("goalkeeperIdleAnim"),this.goalkeeper.y=this.net.y+.22*this.net.displayHeight,this.goalkeeperStartX=this.goalkeeper.x,this.ballShadow=this.add.image(.5*this.canvasWidth,.85*this.canvasHeight,"ballshadow"),this.ballShadow.setOrigin(.5).setDepth(15),this.ballShadow.setScale(.5*this.scaleFactor),this.ballShadow.alpha=.6,this.gameBall=this.add.image(.5*this.canvasWidth,.8*this.canvasHeight,"ball0"),this.gameBall.setOrigin(.5).setDepth(20),this.gameBall.setScale(1.25*this.scaleFactor),this.ballShadow.y=this.gameBall.y+.55*this.gameBall.displayHeight,this.ballStartX=this.gameBall.x,this.ballStartY=this.gameBall.y,this.ballStartScale=this.gameBall.scale,this.swipeConfig={minSwipeDistance:50,maxSwipeDistance:600,minForce:.001,maxForce:1.5},this.setupGameUI(),this.startBallIdleBounce(),this.setupTutorialHint(),this.setupArrowAnimation(),this.setupSwipeControls()}setupArrowAnimation(){this.arrows=[];const t=this.gameBall.y-80,e=.05*this.canvasHeight;for(let s=0;s<5;s++){const a=this.add.image(.5*this.canvasWidth,t-s*e,"arrow1");a.setOrigin(.5).setDepth(25),a.setScale(1*this.scaleFactor),this.arrows.push(a)}this.startArrowAnimation()}startArrowAnimation(){this.arrowTimer&&this.arrowTimer.destroy();let t=0;this.arrowTimer=this.time.addEvent({delay:150,callback:()=>{this.arrows.forEach((t=>t.setTexture("arrow1"))),this.arrows[t]&&this.arrows[t].setTexture("arrow2"),t=(t+1)%5},loop:!0}),this.arrows.forEach((t=>t.setVisible(!0)))}hideArrowAnimation(){this.arrowTimer&&this.arrowTimer.destroy(),this.arrows.forEach((t=>t.setVisible(!1)))}setupTutorialHint(){this.tutorialHintY=.9*this.canvasHeight,this.tutorialHint=this.add.image(.5*this.canvasWidth,this.canvasHeight+100,"swipekickTutorial"),this.tutorialHint.setOrigin(.5).setDepth(100),this.tutorialHint.setScale(1.1*this.scaleFactor),this.showTutorialHint(),this.tutorialIdleTime=3e3,this.resetTutorialTimer()}showTutorialHint(){this.tutorialHint&&this.tweens.add({targets:this.tutorialHint,y:this.tutorialHintY,duration:400,ease:"Back.easeOut"})}hideTutorialHint(){this.tutorialHint&&this.tweens.add({targets:this.tutorialHint,y:this.canvasHeight+100,duration:300,ease:"Power2.easeIn"})}resetTutorialTimer(){this.tutorialTimer&&this.tutorialTimer.destroy(),this.tutorialTimer=this.time.delayedCall(this.tutorialIdleTime,(()=>{this.isShootReady&&this.showTutorialHint()}))}setupGameUI(){this.scoreBallIcon=this.add.image(.05*this.canvasWidth,.06*this.canvasHeight,"ball0"),this.scoreBallIcon.setOrigin(0,.5).setDepth(500),this.scoreBallIcon.setScale(.35*this.scaleFactor),this.scoreDisplay=this.add.text(this.scoreBallIcon.x+this.scoreBallIcon.displayWidth+20,.06*this.canvasHeight,"00",{fontFamily:"'Inter'",fontStyle:"800",fontSize:"60px",color:"#ffffff"}).setOrigin(0,.5).setDepth(500),this.totalScore=0,this.gameTimeLeft=30,this.timerDisplay=this.add.text(.5*this.canvasWidth,.06*this.canvasHeight,"00:30",{fontFamily:"'Inter'",fontStyle:"800",fontSize:"50px",color:"#ffffff"}).setOrigin(.5,.5).setDepth(500),this.gameTimer=this.time.addEvent({delay:1e3,callback:()=>{this.gameTimeLeft--,this.updateTimerDisplay(),this.gameTimeLeft<=0&&(this.gameTimer.destroy(),this.ctascreen())},loop:!0})}updateTimerDisplay(){const t=Math.floor(this.gameTimeLeft/60),e=this.gameTimeLeft%60,s=`${t.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`;this.timerDisplay.setText(s)}ctascreen(){console.log("Time's up! CTA Screen"),this.gameOver=!0,this.isShootReady=!1,this.input.removeAllListeners(),this.stopBallIdleBounce(),this.hideArrowAnimation(),this.tutorialTimer&&this.tutorialTimer.destroy();const t=500;this.tweens.add({targets:[this.gameBall,this.ballShadow],alpha:0,duration:t,ease:"Power2"}),this.tweens.add({targets:[this.net,this.goalkeeper],y:-200,alpha:0,duration:t,ease:"Power2"}),this.tutorialHint&&this.tweens.add({targets:this.tutorialHint,y:this.canvasHeight+200,duration:t,ease:"Power2"}),this.tweens.add({targets:[this.scoreBallIcon,this.scoreDisplay,this.timerDisplay],alpha:0,duration:t,ease:"Power2",onComplete:()=>{this.scoreBallIcon&&this.scoreBallIcon.destroy(),this.scoreDisplay&&this.scoreDisplay.destroy(),this.timerDisplay&&this.timerDisplay.destroy()}}),this.logo&&(this.tweens.add({targets:this.logo,x:this.canvasWidth+200,duration:t,ease:"Power2"}),this.bg=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"bg"),this.bg.setOrigin(.5).setDepth(10),this.bg.setScale(1.1*this.scaleFactor),this.bg.alpha=0,this.tweens.add({targets:this.bg,alpha:1,duration:t,ease:"Power2"}),this.cup=this.add.image(.5*this.canvasWidth,this.canvasHeight+200,"cup"),this.cup.setOrigin(.5).setDepth(10),this.cup.setScale(1.1*this.scaleFactor),this.cup.alpha=0,this.tweens.add({targets:this.cup,y:.5*this.canvasHeight,alpha:1,duration:t,ease:"Power2"})),this.time.delayedCall(600,(()=>{this.showCTAContent()}))}showCTAContent(){console.log("Show CTA Content"),this.fifatxt=this.add.image(.5*this.canvasWidth,.75*this.canvasHeight,"fifatxt"),this.fifatxt.setOrigin(.5).setDepth(100),this.fifatxt.setScale(0),this.tweens.add({targets:this.fifatxt,scale:.8*this.scaleFactor,duration:400,ease:"Back.easeOut"}),this.ctaButton=this.add.image(.5*this.canvasWidth,.9*this.canvasHeight,"cta"),this.ctaButton.setOrigin(.5).setDepth(100),this.ctaButton.setScale(.8*this.scaleFactor),this.ctaButton.setInteractive({useHandCursor:!0}),this.input.on("pointerdown",(()=>{console.log("CTA Button Clicked!"),window.open("https://www.fifa.com/en/tournaments/mens/worldcup/canadamexicousa2026","_blank")})),this.tweens.add({targets:this.ctaButton,scale:.85*this.scaleFactor,duration:600,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}updateScoreDisplay(){const t=this.totalScore.toString().padStart(2,"0");this.scoreDisplay.setText(t)}startBallIdleBounce(){const t=this.gameBall.y;this.ballShadow.y;const e=this.ballShadow.scale,s=this.ballShadow.alpha;this.ballBounceTween=this.tweens.add({targets:this.gameBall,y:t-30,duration:400,ease:"Sine.easeOut",yoyo:!0,repeat:-1}),this.shadowBounceTween=this.tweens.add({targets:this.ballShadow,scale:.7*e,alpha:.5*s,duration:400,ease:"Sine.easeOut",yoyo:!0,repeat:-1})}stopBallIdleBounce(){this.ballBounceTween&&(this.ballBounceTween.stop(),this.ballBounceTween=null),this.shadowBounceTween&&(this.shadowBounceTween.stop(),this.shadowBounceTween=null)}drawDebugGraphics(){const t=this.add.graphics();t.setDepth(1e3);const e=this.net.x-.48*this.net.displayWidth,s=this.net.x+.48*this.net.displayWidth,a=this.net.y-.5*this.net.displayHeight,i=this.net.y+.5*this.net.displayHeight;t.lineStyle(3,65280,.8),t.strokeRect(e,a,s-e,i-a),t.lineStyle(4,16755200,.8),t.strokeRect(e-.015*this.canvasWidth,a,.01*this.canvasWidth,i-a),t.strokeRect(s+.005*this.canvasWidth,a,.01*this.canvasWidth,i-a),t.strokeRect(e,a-.005*this.canvasWidth,s-e,.01*this.canvasWidth),t.lineStyle(2,16711680,.5),t.strokeRect(e-100,a-50,80,i-a+100),t.strokeRect(s+20,a-50,80,i-a+100),t.strokeRect(e,a-100,s-e,80);const h={fontFamily:"'Inter'",fontSize:"14px",color:"#ffffff",stroke:"#000000",strokeThickness:2};this.add.text(this.net.x,a-40,"MISS (over)",h).setOrigin(.5).setDepth(1001),this.add.text(e-50,this.net.y,"MISS",h).setOrigin(.5).setDepth(1001),this.add.text(s+50,this.net.y,"MISS",h).setOrigin(.5).setDepth(1001),this.add.text(e+10,this.net.y,"POST",{...h,color:"#ffaa00"}).setOrigin(0,.5).setDepth(1001),this.add.text(s-10,this.net.y,"POST",{...h,color:"#ffaa00"}).setOrigin(1,.5).setDepth(1001),this.add.text(this.net.x,a+10,"CROSSBAR",{...h,color:"#ffaa00"}).setOrigin(.5,0).setDepth(1001),this.add.text(this.net.x,this.net.y,"GOAL ZONE",{...h,color:"#00ff00"}).setOrigin(.5).setDepth(1001)}setupSwipeControls(){let t=0,e=0,s=0;this.input.on("pointerdown",(a=>{this.isShootReady&&(t=a.x,e=a.y,s=Date.now())})),this.input.on("pointerup",(a=>{if(!this.isShootReady)return;const i=a.x,h=a.y,o=Date.now()-s,l=i-t,r=h-e,n=Math.sqrt(l*l+r*r);if(n>this.swipeConfig.minSwipeDistance&&r<0){this.isShootReady=!1,this.stopBallIdleBounce(),this.hideTutorialHint(),this.hideArrowAnimation(),this.ballShadow.alpha=0;const t=l/n,e=.4*this.net.displayWidth,s=this.net.x+t*e,a=this.net.x-e,i=this.net.x+e,h=Math.max(a,Math.min(i,s)),{minForce:r,maxForce:d,maxSwipeDistance:c}=this.swipeConfig,g=Math.min(r+n/c*(d-r),d);console.log("Swipe distance:",n,"Force:",g);const p=.5*this.net.displayHeight,m=this.net.y+.3*this.net.displayHeight,y=this.net.y-.5*this.net.displayHeight;let f;this.net.displayHeight,f=g<=1?m-g*p:y-(g-1)*this.net.displayHeight*.5;const u=Math.min(n/o*10,1);let w;w=h<this.net.x-.3*e?"left":h>this.net.x+.3*e?"right":"center",this.shootBall(h,f,w,u)}}))}shootBall(t,e,s,a){console.log("Shooting to:",t,e,"Direction:",s,"Power:",a);const i=["left","center","right"][Math.floor(3*Math.random())];this.goalkeeperDive(i);const h=.2*this.scaleFactor;let o=0;this.ballSpinTimer=this.time.addEvent({delay:20,callback:()=>{o=(o+1)%7,this.gameBall.setTexture("ball"+o)},loop:!0}),this.lastShotTargetX=t,this.lastShotTargetY=e;const l=this.net.x-.48*this.net.displayWidth,r=this.net.x+.48*this.net.displayWidth,n=this.net.y-.5*this.net.displayHeight,d=this.net.y+.5*this.net.displayHeight,c=.015*this.canvasWidth,g=t>l&&t<r,p=e>n&&e<d,m=t>=l-c&&t<=l+c||t>=r-c&&t<=r+c||e>=n-c&&e<=n+c,y=this.gameBall.y,f=.3*(y-e);this.cameras.main.shake(150,.01),this.tweens.add({targets:this.gameBall,x:t,scale:h,duration:600,ease:"Sine.easeOut",onUpdate:t=>{const s=t.progress,a=y+(e-y)*s,i=Math.sin(s*Math.PI)*f;this.gameBall.y=a-i},onComplete:()=>{this.ballSpinTimer&&this.ballSpinTimer.destroy(),this.shotsTaken++,m?this.onPostHit():g&&p?s!==i?(this.goalsScored++,this.onGoal(t)):this.onSave():this.onMiss()}})}goalkeeperDive(t){let e=this.goalkeeperStartX;"left"===t?e=this.goalkeeperStartX-.3*this.net.displayWidth:"right"===t&&(e=this.goalkeeperStartX+.3*this.net.displayWidth),"left"===t?(this.goalkeeper.play("goalkeeperSaveLeftAnim"),this.tweens.add({targets:this.goalkeeper,x:e,duration:500,duration:500,ease:"Power2"}),this.goalkeeper.once("animationcomplete",(()=>{this.tweens.add({targets:this.goalkeeper,alpha:0,duration:250,onComplete:()=>{this.goalkeeper.alpha=1,this.goalkeeper.setVisible(!1)}})}))):"right"===t?(this.goalkeeper.play("goalkeeperSaveRightAnim"),this.tweens.add({targets:this.goalkeeper,x:e,duration:500,ease:"Power2"}),this.goalkeeper.once("animationcomplete",(()=>{this.tweens.add({targets:this.goalkeeper,alpha:0,duration:250,onComplete:()=>{this.goalkeeper.alpha=1,this.goalkeeper.setVisible(!1)}})}))):(this.goalkeeper.play("goalkeeperSaveCenterUpAnim"),this.tweens.add({targets:this.goalkeeper,y:this.goalkeeper.y-50,duration:300,yoyo:!0,ease:"Power2"}))}onGoal(t){console.log("GOAL! Score:",this.goalsScored);const e=1-Math.abs(t-this.net.x)/(.4*this.net.displayWidth),s=Math.round(5+5*e);this.totalScore+=s,this.updateScoreDisplay(),this.tweens.add({targets:this.gameBall,alpha:0,duration:300,ease:"Power2"}),this.tweens.add({targets:this.ballShadow,alpha:0,duration:200});const a=this.add.text(this.gameBall.x,this.gameBall.y,"+"+s,{fontFamily:"'Inter'",fontStyle:"800",fontSize:"60px",color:"#ffffff"}).setOrigin(.5).setDepth(100);this.tweens.add({targets:a,y:a.y-100,alpha:0,scale:1.5,duration:1e3,ease:"Power2",onComplete:()=>a.destroy()}),this.cameras.main.flash(200,255,255,255),this.time.delayedCall(1200,(()=>{this.resetShot()}))}onSave(){console.log("SAVED!");const t=this.gameBall.x<.5*this.canvasWidth?.5*-this.canvasWidth:1.5*this.canvasWidth;this.tweens.add({targets:this.gameBall,x:t,y:.1*this.canvasHeight,duration:600,ease:"Quad.easeOut"}),this.tweens.add({targets:this.ballShadow,alpha:0,duration:300}),this.time.delayedCall(1e3,(()=>{this.resetShot()}))}resetShot(){this.gameOver||(this.tweens.add({targets:this.goalkeeper,x:this.goalkeeperStartX,y:this.net.y+.22*this.net.displayHeight,duration:300,ease:"Power2",onComplete:()=>{this.goalkeeper.setVisible(!0),this.goalkeeper.play("goalkeeperIdleAnim")}}),this.tweens.add({targets:this.gameBall,x:this.ballStartX,y:this.ballStartY,scale:this.ballStartScale,duration:400,ease:"Power2",onComplete:()=>{this.gameBall.setDepth(20),this.ballShadow.x=this.gameBall.x,this.ballShadow.y=this.gameBall.y+.55*this.gameBall.displayHeight,this.ballShadow.scale=.5*this.scaleFactor,this.ballShadow.alpha=.6,this.gameBall.alpha=1,this.isShootReady=!0,this.startBallIdleBounce(),this.resetTutorialTimer(),this.startArrowAnimation()}}))}onPostHit(){console.log("HIT THE POST!");const t=this.gameBall.x<.5*this.canvasWidth?this.gameBall.x-150:this.gameBall.x+150;this.tweens.add({targets:this.gameBall,x:t,y:-100,duration:500,ease:"Quad.easeOut"}),this.tweens.add({targets:this.ballShadow,alpha:0,duration:200});const e=this.add.text(this.gameBall.x,this.gameBall.y-50,"MISS!",{fontFamily:"'Inter'",fontStyle:"800",fontSize:"50px",color:"#FFAA00",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setDepth(100);this.tweens.add({targets:e,y:e.y-80,alpha:0,scale:1.3,duration:800,ease:"Power2",onComplete:()=>e.destroy()}),this.time.delayedCall(1200,(()=>{this.resetShot()}))}onMiss(){console.log("MISSED!"),this.tweens.add({targets:this.gameBall,alpha:0,duration:200,ease:"Power2"}),this.tweens.add({targets:this.ballShadow,alpha:0,duration:200});const t=this.add.text(.5*this.canvasWidth,.4*this.canvasHeight,"MISS!",{fontFamily:"'Inter'",fontStyle:"800",fontSize:"60px",color:"#FF4444",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setDepth(100);this.tweens.add({targets:t,y:t.y-80,alpha:0,scale:1.3,duration:800,ease:"Power2",onComplete:()=>t.destroy()}),this.time.delayedCall(1200,(()=>{this.resetShot()}))}}class a extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:s,scaleFactor:a,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:o,isIphoneDevice:l}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=a}createLoadingUI(){this.add.text(this.canvasWidth/2,.5*this.canvasHeight-50*this.scaleFactor,"LOADING...",{fontFamily:"Inter",fontSize:24*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,s=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=s,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"Inter",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{}));let t=Math.floor(5*Math.random());t>=5&&(t=1),0===t&&(t=1);let e="op"+t;console.log(e," optionnn"),window.option=e,this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("bg","bg1.png");for(var s=0;s<7;s++)this.load.image("ball"+s,"ball00"+s+".png"),console.log("ball"+s);this.load.image("bgground","bgground.png"),this.load.image("cup","cup.png"),this.load.image("logo","logo.png"),this.load.image("overlay","overlay.png"),this.load.image("ballshadow","ballshadow.png"),this.load.image("net","net.png"),this.load.image("fifatxt","fifatxt.png"),this.load.image("cta","cta.png"),this.load.image("swipekickTutorial","swipekick.png");for(var a=0;a<23;a++)this.load.image("goalKeeper"+a,"goalKeeper/gk_idle_"+a+".png");for(a=0;a<24;a++)this.load.image("goalKeeperCenterUp"+a,"goalKeeper/gk_save_center_up_"+a+".png");for(var i=0;i<33;i++)this.load.image("goalKeeperLeft"+i,"goalKeeper/gk_save_left_"+i+".png"),this.load.image("goalKeeperRight"+i,"goalKeeper/gk_save_right_"+i+".png");this.load.image("arrow1","arrow1.png"),this.load.image("arrow2","arrow2.png")}create(){this.scene.start("MainMenu")}}const i={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[a,s]};new Phaser.Game(i);
