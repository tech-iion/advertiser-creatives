(function(){"use strict";class c extends Phaser.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}function l(a,e){const t=/Mobi|Android/i.test(navigator.userAgent),i=/iPhone/i.test(navigator.userAgent),s={width:window.innerWidth,height:window.innerHeight};let r,o;r=a.game.canvas.width,o=a.game.canvas.height;const d=document.getElementsByTagName("canvas")[0],h=Math.abs(parseFloat(d.style.marginTop||0))/s.width*r+(i?130:0),g=Math.abs(parseFloat(d.style.marginLeft||0))/s.height*o;let p=s.height/(s.width+g*2)*.85;if(t)p=1;else return p=1,{canvasWidth:r,canvasHeight:o,scaleFactor:p,topMarginOffset:0,leftMarginOffsetPercentage:0};return{canvasWidth:r,canvasHeight:o,scaleFactor:p,topMarginOffset:h,leftMarginOffsetPercentage:g,isMobileDevice:t,isIphoneDevice:i}}var n={GAM:"https://staging-dmp-producer.iion.io/tracker/impressions?platform=GAM&campaign_id=%ebuy!&publisher_id=%epid!&creative_id=%ecid!&maid=%%ADVERTISING_IDENTIFIER_PLAIN%%&page_url=%%SITE%%&height=%%HEIGHT%%&width=%%WIDTH%%&video_min_duration=%%VIDEO_DURATION%%&gdpr=${GDPR}&gdpr_consent=${GDPR_CONSENT_XXXX}&demand_id=%eadv!&line_item=%eaid!&event_name="};class m extends Phaser.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:e,canvasHeight:t,scaleFactor:i,topMarginOffset:s,leftMarginOffsetPercentage:r,isMobileDevice:o,isIphoneDevice:d}=l(this);console.log(l(this)),this.canvasWidth=e,this.canvasHeight=t,this.logo=this.add.image(-e/2,t*.2,"logo"),this.logo.setOrigin(.5),this.logo.setScale(i*1).setDepth(-1),this.logo.setVisible(!1),this.logomain=this.add.image(e/2,t*.925,"logomain"),this.logomain.setOrigin(.5),this.logomain.setScale(i*1).setDepth(1),this.logomain.setInteractive({useHandCursor:!0}).on("pointerdown",()=>{openWindow()}),this.textChange=this.add.text(e*.1,t*.125,`SAMEN MAKEN 
WE HET 
ONMOGELIJKE 
MOGELIJK`,{fontFamily:"condensedextrabold",fontSize:200,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"left"}).setOrigin(0).setLineSpacing(-20),this.typewriteText(this,this.textChange,`DE ENERGIE- 
TRANSITIE IS  
ONMOGELIJK`,25),this.zonder=this.add.image(e*.25,t/2,"zonder"),this.zonder.setOrigin(.5),this.zonder.setScale(i*3.2).setAlpha(0),this.zonder.x=this.textChange.x+this.zonder.displayWidth/2,this.jou=this.add.image(e/2,t/2,"jou"),this.jou.setOrigin(.5),this.jou.setScale(i*3.2).setAlpha(0),this.jou.x=this.zonder.x+this.zonder.displayWidth*1.1125-this.jou.displayWidth/2,this.zonder.y=this.canvasHeight*.525,this.jou.y=this.canvasHeight*.525,this.textChangetap=this.add.text(e*.5,t*.65,"Tik om te starten",{fontFamily:"semibold",fontSize:80,color:"#A8EC58",stroke:"#000000",strokeThickness:0,align:"left"}).setOrigin(.5).setAlpha(0).setInteractive({useHandCursor:!0}),this.tweens.add({targets:[this.zonder,this.jou],alpha:1,delay:500,repeat:0,ease:"Power2"}),this.tweens.add({targets:this.textChangetap,alpha:1,delay:1e3,repeat:0,ease:"Power2"}),this.tweens.add({targets:this.textChangetap,scale:.9,duration:750,repeat:-1,yoyo:!0,ease:"Power2"});var h=this;this.textChangetap.on("pointerdown",()=>{console.log("Text clicked or tapped!"),h.fnfetchAPI(n[window.trackingType]+"OpenGame"),h.textChangetap.disableInteractive(),h.textChange.text="",h.textChangetap.text="",h.zonder.setVisible(!1),h.jou.setVisible(!1),h.tweens.add({targets:h.logo,x:e*.25,y:e*.1,scale:i*.8,duration:1e3,ease:"Power2"}),this.bg=this.add.image(e/2,0,"bg0"),this.bg.setOrigin(.5,0),this.bg.setScale(i*1.3),this.bg.y=0,this.textChange2=this.add.text(e*.15,t*.3,`Verbind de kabels en verlicht 
het Rijksmuseum`,{fontFamily:"semibold",fontSize:60,color:"#FFFFFF",stroke:"#000000",strokeThickness:0,align:"left"}).setOrigin(0),this.textChange2.y=this.bg.y+this.bg.displayHeight*1.1,this.typewriteText(this,this.textChange2,`Verbind de kabels en verlicht 
het Rijksmuseum`,20),this.wirebox=this.add.image(e/2,t/2,"wirebox"),this.wirebox.setOrigin(.5,.5),this.wirebox.setScale(i*.9),this.wirebox.y=this.canvasHeight*.65,this.wire1_1=this.add.image(e/2,t/2,"red"),this.wire1_1.setOrigin(.5,.5),this.wire1_1.setScale(i*.9),this.wire1_1.x=this.wirebox.x-this.wirebox.displayWidth*.25,this.wire1_1.y=this.wirebox.y-this.wirebox.displayHeight*.25-this.wire1_1.displayHeight*.32,this.wire1_2=this.add.image(e/2,t/2,"purple"),this.wire1_2.setOrigin(.5,.5),this.wire1_2.setScale(i*.9),this.wire1_2.x=this.wirebox.x,this.wire1_2.y=this.wirebox.y-this.wirebox.displayHeight*.25-this.wire1_2.displayHeight*.32,this.wire1_3=this.add.image(e/2,t/2,"orange"),this.wire1_3.setOrigin(.5,.5),this.wire1_3.setScale(i*.9),this.wire1_3.x=this.wirebox.x+this.wirebox.displayWidth*.25,this.wire1_3.y=this.wirebox.y-this.wirebox.displayHeight*.25-this.wire1_3.displayHeight*.32,this.wire2_1=this.add.image(e/2,t/2,"red"),this.wire2_1.setOrigin(.5,.5),this.wire2_1.setScale(i*.9),this.wire2_1.x=this.wirebox.x+this.wirebox.displayWidth*.25,this.wire2_1.y=this.wirebox.y+this.wirebox.displayHeight*.25+this.wire2_1.displayHeight*.32,this.wire2_2=this.add.image(e/2,t/2,"purple"),this.wire2_2.setOrigin(.5,.5),this.wire2_2.setScale(i*.9),this.wire2_2.x=this.wirebox.x-this.wirebox.displayWidth*.25,this.wire2_2.y=this.wirebox.y+this.wirebox.displayHeight*.25+this.wire2_2.displayHeight*.32,this.wire2_3=this.add.image(e/2,t/2,"orange"),this.wire2_3.setOrigin(.5,.5),this.wire2_3.setScale(i*.9),this.wire2_3.x=this.wirebox.x,this.wire2_3.y=this.wirebox.y+this.wirebox.displayHeight*.25+this.wire2_3.displayHeight*.32,this.wire2_1.setAngle(180),this.wire2_2.setAngle(180),this.wire2_3.setAngle(180),this.redcomplete=this.add.image(e/2,t/2,"redcomplete"),this.redcomplete.setOrigin(.5,.5),this.redcomplete.setScale(i*.9),this.redcomplete.x=this.wire1_1.x+this.redcomplete.displayWidth/2-this.wire1_1.displayWidth*.5,this.redcomplete.y=this.wirebox.y,this.purplecomplete=this.add.image(e/2,t/2,"purplecomplete"),this.purplecomplete.setOrigin(.5,.5),this.purplecomplete.setScale(i*.9),this.purplecomplete.x=this.wire1_2.x+this.purplecomplete.displayWidth/2-this.wire1_2.displayWidth*.5,this.purplecomplete.y=this.wirebox.y,this.orangecomplete=this.add.image(e/2,t/2,"orangecomplete"),this.orangecomplete.setOrigin(.5,.5),this.orangecomplete.setScale(i*.9),this.orangecomplete.x=this.wire1_3.x-this.orangecomplete.displayWidth/2+this.wire1_3.displayWidth*.5,this.orangecomplete.y=this.wirebox.y,this.wire2_1.x=this.redcomplete.x+this.redcomplete.displayWidth-this.wire2_1.displayWidth*.25,this.wire2_3.x=this.orangecomplete.x-this.orangecomplete.displayWidth/2+this.wire2_2.displayWidth/2,this.wire2_2.x=this.wire2_1.x,this.wire2_1.x=this.redcomplete.x+this.redcomplete.displayWidth/2-this.wire2_1.displayWidth*.5,this.graphics=this.add.graphics(),this.graphics.fillStyle(24881,1),this.graphics.fillRect(e/2-e*.6/2,this.wirebox.y-this.wirebox.displayHeight/2-t*.025,e*.6,t*.025),this.graphics2=this.add.graphics(),this.graphics2.fillStyle(24881,1),this.graphics2.fillRect(e/2-e*.6/2,this.wirebox.y+this.wirebox.displayHeight/2,e*.6,t*.025),this.rectborder=this.add.image(e/2,t/2,"rectborder"),this.rectborder.setOrigin(.5,.5),this.rectborder.setScale(i*.9),this.rectborder.y=this.canvasHeight*.65,this.redcomplete.setAlpha(0),this.purplecomplete.setAlpha(0),this.orangecomplete.setAlpha(0),this.wire1_1.setTexture("redHighlight"),this.setWireClick(),this.hand=this.add.image(e/2,t*.2,"hand"),this.hand.setOrigin(0),this.hand.setScale(i*.25).setDepth(1),this.hand.setAngle(-45),this.fnSetHand(this.wire1_1),this.tweens.add({targets:this.hand,scale:.225,duration:250,repeat:-1,yoyo:!0,ease:"Power2"})})}fnSetHand(e){this.hand.x=e.x-e.displayWidth*.1,this.hand.y=e.y+e.displayHeight*.3}setWireClick(){this.wire1_1.setInteractive(),this.wire1_1.on("pointerdown",()=>{this.wire1_1.disableInteractive(),this.fnSetHand(this.wire2_1),this.wire2_1.setTexture("redHighlight")}),this.wire2_1.setInteractive(),this.wire2_1.on("pointerdown",()=>{this.wire2_1.disableInteractive(),this.fnfetchAPI(n[window.trackingType]+"OrangePipe"),this.wire1_1.setVisible(!1),this.wire2_1.setVisible(!1),this.hand.x=this.canvasWidth*100,this.redcomplete.setTexture("redcompleteHighlight").setAlpha(1),setTimeout(()=>{this.redcomplete.setTexture("redcomplete").setAlpha(1),setTimeout(()=>{this.redcomplete.setTexture("redcompleteHighlight").setAlpha(1),setTimeout(()=>{this.redcomplete.setTexture("redcomplete").setAlpha(1),setTimeout(()=>{this.redcomplete.setTexture("redcompleteHighlight").setAlpha(1),setTimeout(()=>{this.redcomplete.setTexture("redcomplete").setAlpha(1),this.typewriteText(this,this.textChange2,`Lekker bezig! 
De eerste lichten branden al`,20),this.wire1_2.setInteractive(),this.wire2_2.setInteractive(),this.wire1_2.setTexture("purpleHighlight"),this.fnSetHand(this.wire1_2),this.bg.setTexture("bg1")},250)},250)},250)},250)},250)}),this.wire1_2.on("pointerdown",()=>{this.wire1_2.disableInteractive(),this.fnSetHand(this.wire2_2),this.wire2_2.setTexture("purpleHighlight")}),this.wire2_2.on("pointerdown",()=>{this.wire2_2.disableInteractive(),this.fnfetchAPI(n[window.trackingType]+"PurplePipe"),this.wire1_2.setVisible(!1),this.wire2_2.setVisible(!1),this.hand.x=this.canvasWidth*100,this.purplecomplete.setTexture("purplecompleteHighlight").setAlpha(1),setTimeout(()=>{this.purplecomplete.setTexture("purplecomplete").setAlpha(1),setTimeout(()=>{this.purplecomplete.setTexture("purplecompleteHighlight").setAlpha(1),setTimeout(()=>{this.purplecomplete.setTexture("purplecomplete").setAlpha(1),setTimeout(()=>{this.purplecomplete.setTexture("purplecompleteHighlight").setAlpha(1),setTimeout(()=>{this.purplecomplete.setTexture("purplecomplete").setAlpha(1),this.typewriteText(this,this.textChange2,"Super, je bent er bijna!",20),this.wire1_3.setInteractive(),this.wire2_3.setInteractive(),this.wire1_3.setTexture("orangeHighlight"),this.fnSetHand(this.wire1_3),this.bg.setTexture("bg2")},250)},250)},250)},250)},250)}),this.wire1_3.on("pointerdown",()=>{this.wire1_3.disableInteractive(),this.fnSetHand(this.wire2_3),this.wire2_3.setTexture("orangeHighlight")}),this.wire2_3.on("pointerdown",()=>{this.wire2_3.disableInteractive(),this.fnfetchAPI(n[window.trackingType]+"RedPipe"),this.wire1_3.setVisible(!1),this.wire2_3.setVisible(!1),this.hand.x=this.canvasWidth*100,this.orangecomplete.setTexture("orangecompleteHighlight").setAlpha(1),setTimeout(()=>{this.orangecomplete.setTexture("orangecomplete").setAlpha(1),setTimeout(()=>{this.orangecomplete.setTexture("orangecompleteHighlight").setAlpha(1),setTimeout(()=>{this.orangecomplete.setTexture("orangecomplete").setAlpha(1),setTimeout(()=>{this.orangecomplete.setTexture("orangecompleteHighlight").setAlpha(1),setTimeout(()=>{this.orangecomplete.setTexture("orangecomplete").setAlpha(1),this.typewriteText(this,this.textChange2,`Geweldig! Dankzij jou is het
Rijksmuseum helder verlicht! `,20),this.bg.setTexture("bg3"),setTimeout(()=>{this.bg.setTexture("bg4"),setTimeout(()=>{this.bg.setTexture("bg3"),setTimeout(()=>{this.bg.setTexture("bg4"),setTimeout(()=>{this.bg.setTexture("bg3"),setTimeout(()=>{this.bg.setTexture("bg4"),setTimeout(()=>{this.bg.setTexture("bg3"),setTimeout(()=>{this.fnsetFinalCTA()},1750)},100)},100)},150)},150)},200)},200)},250)},250)},250)},250)},250)})}fnsetFinalCTA(){var e=this;this.graphics.destroy(),this.graphics2.destroy(),this.textChange2.text="",this.wirebox.setVisible(!1),this.wire1_1.setVisible(!1),this.wire1_2.setVisible(!1),this.wire1_3.setVisible(!1),this.wire2_1.setVisible(!1),this.wire2_2.setVisible(!1),this.wire2_3.setVisible(!1),this.redcomplete.setVisible(!1),this.orangecomplete.setVisible(!1),this.purplecomplete.setVisible(!1),this.rectborder.setVisible(!1),this.bg.setVisible(!1),e.zonder.setVisible(!0),e.jou.setVisible(!0),this.typewriteText(this,this.textChange,`OOK WERKEN 
AAN HET 
ENERGIENET 
VAN DE 
TOEKOMST?`,25),e.tweens.add({targets:e.logo,x:this.canvasWidth*.5,y:this.canvasHeight*.2,scale:1,duration:1e3,ease:"Power2"}),e.zonder.setTexture("klik").setVisible(!1),e.jou.setTexture("hier").setVisible(!1),setTimeout(()=>{document.querySelector(".button-container").style.top="70%"},250),e.zonder.x=e.textChange.x+e.zonder.displayWidth/2,e.jou.x=e.zonder.x+e.zonder.displayWidth*1.705-e.jou.displayWidth/2,e.zonder.y=e.textChange.y+e.textChange.displayHeight*1.19,e.jou.y=e.textChange.y+e.textChange.displayHeight*1.19}fnfetchAPI(e){console.log(window.trackingType),fetch(e,{method:"GET"}).then(t=>console.log("Tracking sent:",t.status)).catch(t=>console.error("Tracking error:",t))}typewriteText(e,t,i,s){let r=0;t.text="",e.time.addEvent({delay:s,repeat:i.length-1,callback:()=>{t.text+=i[r],r++}})}openWindow(){const t=window.open("https://avowed.obsidian.net","_blank");!t||t.closed||typeof t.closed>"u"}}class u extends Phaser.Scene{constructor(){super("Preloader")}init(){l(this),console.log(l(this)),this.load.on("progress",e=>{})}preload(){this.load.setPath("https://tech-iion.github.io/advertiser-creatives/allianderAd/assets"),this.load.image("logo","logo.png")}create(){this.load.once("complete",this.startGame,this);let e=[{fileName:"bg0.png"},{fileName:"bg1.png"},{fileName:"bg2.png"},{fileName:"bg3.png"},{fileName:"bg4.png"},{fileName:"hand.png"},{fileName:"hier.png"},{fileName:"jou.png"},{fileName:"klik.png"},{fileName:"logomain.png"},{fileName:"orange.png"},{fileName:"orangeHighlight.png"},{fileName:"orangeblock.png"},{fileName:"orangecomplete.png"},{fileName:"orangecompleteHighlight.png"},{fileName:"purple.png"},{fileName:"purpleHighlight.png"},{fileName:"purpleblock.png"},{fileName:"purplecomplete.png"},{fileName:"purplecompleteHighlight.png"},{fileName:"rectborder.png"},{fileName:"red.png"},{fileName:"redHighlight.png"},{fileName:"redblock.png"},{fileName:"redcomplete.png"},{fileName:"redcompleteHighlight.png"},{fileName:"wirebox.png"},{fileName:"zonder.png"}];for(var t=0;t<e.length;t++)this.load.image(e[t].fileName.split(".png")[0],"https://tech-iion.github.io/advertiser-creatives/allianderAd/assets/"+e[t].fileName);this.load.start()}startGame(){this.scene.start("MainMenu")}}const w=/Mobi|Android/i.test(navigator.userAgent),x={type:Phaser.CANVAS,width:1280,height:1920,parent:"game-container",background:"transparent",scale:{mode:w?Phaser.Scale.WIDTH_CONTROLS_HEIGHT:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,dom:{createContainer:!0},scene:[c,u,m]};new Phaser.Game(x)})();
