import{P as r}from"./phaser-0RJB29YE.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();const i=640,n=960,f={YELLOW:16768256},p=30,m=50,u=[{id:"alpha-ava-2",name:`Alpha Ava 2 Senior Girls
Mary Jane School Shoes`,type:"formal",image:"shoe-alpha-ava-2"},{id:"alpha-bella-3",name:`Alpha Bella 3 Senior Girls
School Shoes`,type:"formal",image:"shoe-alpha-bella-3"},{id:"alpha-captain",name:`Alpha Captain Senior Boys
School Shoes`,type:"formal",image:"shoe-alpha-captain"},{id:"alpha-dux-junior",name:`Alpha Dux Junior Boys
School Shoes`,type:"formal",image:"shoe-alpha-dux-junior"},{id:"alpha-dux-senior",name:`Alpha Dux Senior (2E Wide)
Boys School Shoes`,type:"formal",image:"shoe-alpha-dux-senior"},{id:"alpha-rosie",name:`Alpha Rosie Senior Girls
School Shoes`,type:"formal",image:"shoe-alpha-rosie"},{id:"ascent-adela",name:`Ascent Adela Junior Girls
Mary Jane School Shoes`,type:"formal",image:"shoe-ascent-adela"},{id:"ascent-apex",name:`Ascent Apex Junior Boys
School Shoes`,type:"formal",image:"shoe-ascent-apex"},{id:"clarks-daytona",name:`Clarks Daytona Senior Boys
School Shoes`,type:"formal",image:"shoe-clarks-daytona"},{id:"harrison-indy-2",name:`Harrison Indy 2 Senior Girls
School Shoes`,type:"formal",image:"shoe-harrison-indy-2"},{id:"adidas-f50",name:`Adidas F50 League Indoor (GS)
Kids Football Boots`,type:"sports",image:"shoe-adidas-f50"},{id:"adidas-predator",name:`Adidas Predator League (FG)
(MG) (GS) Kids Football Boots`,type:"sports",image:"shoe-adidas-predator"},{id:"ascent-sustain-2",name:"Ascent Sustain 2 (GS) Kids",type:"sports",image:"shoe-ascent-sustain-2"},{id:"asics-ds-light",name:"ASICS DS Light JR (GS) Kids",type:"sports",image:"shoe-asics-ds-light"},{id:"asics-gel-550tr",name:"ASICS Gel-550TR (GS) Kids",type:"sports",image:"shoe-asics-gel-550tr"},{id:"asics-netburner",name:`ASICS Gel-Netburner 21 (GS)
Kids Netball Shoes`,type:"sports",image:"shoe-asics-netburner"},{id:"asics-gt-1000",name:"ASICS GT-1000 SL 2 (GS) Kids",type:"sports",image:"shoe-asics-gt-1000"},{id:"nb-tekela",name:`New Balance Tekela Magique
Jnr V4+ (FG) (GS) Kids`,type:"sports",image:"shoe-nb-tekela"},{id:"nike-tiempo",name:`Nike Jr. Tiempo Legend 10
Academy (GS) Kids Football Boots`,type:"sports",image:"shoe-nike-tiempo"},{id:"skechers-razor",name:`Skechers Razor 1.5 (FG) (GS)
Kids Football Boots`,type:"sports",image:"shoe-skechers-razor"}],S="https://www.theathletesfoot.com.au/school-hub";class y extends r.Scene{constructor(){super({key:"BootScene"})}preload(){const e=this.add.graphics(),t=this.add.graphics();t.fillStyle(2236962,.8),t.fillRect(i/2-150,n/2-20,300,40);const o=this.add.text(i/2,n/2-60,"Loading...",{font:"28px Arial",fill:"#ffffff"}).setOrigin(.5);this.load.on("progress",s=>{e.clear(),e.fillStyle(f.YELLOW,1),e.fillRect(i/2-140,n/2-12,280*s,24)}),this.load.on("complete",()=>{e.destroy(),t.destroy(),o.destroy()}),this.load.setPath(window.pathURL),this.load.image("screen-1-bg","assets/images/screens/screen-1-bg.png"),this.load.image("screen-1-play-button","assets/images/screens/screen-1-play-button.png"),this.load.image("screen-2","assets/images/screens/screen-2.png"),this.load.image("screen-2-arrows","assets/images/screens/screen-2-arrows.png"),this.load.image("screen-3","assets/images/screens/screen-3.png"),this.load.image("screen-4","assets/images/screens/screen-4.png"),this.load.image("screen-4-arrows","assets/images/screens/screen-4-arrows.png"),this.load.image("screen-4-button","assets/images/screens/screen-4-button.png"),this.load.image("shoe-alpha-ava-2","assets/images/shoes/formal/shoe-alpha-ava-2.png"),this.load.image("shoe-alpha-bella-3","assets/images/shoes/formal/shoe-alpha-bella-3.png"),this.load.image("shoe-alpha-captain","assets/images/shoes/formal/shoe-alpha-captain.png"),this.load.image("shoe-alpha-dux-junior","assets/images/shoes/formal/shoe-alpha-dux-junior.png"),this.load.image("shoe-alpha-dux-senior","assets/images/shoes/formal/shoe-alpha-dux-senior.png"),this.load.image("shoe-alpha-rosie","assets/images/shoes/formal/shoe-alpha-rosie.png"),this.load.image("shoe-ascent-adela","assets/images/shoes/formal/shoe-ascent-adela.png"),this.load.image("shoe-ascent-apex","assets/images/shoes/formal/shoe-ascent-apex.png"),this.load.image("shoe-clarks-daytona","assets/images/shoes/formal/shoe-clarks-daytona.png"),this.load.image("shoe-harrison-indy-2","assets/images/shoes/formal/shoe-harrison-indy-2.png"),this.load.image("shoe-adidas-f50","assets/images/shoes/sports/shoe-adidas-f50.png"),this.load.image("shoe-adidas-predator","assets/images/shoes/sports/shoe-adidas-predator.png"),this.load.image("shoe-ascent-sustain-2","assets/images/shoes/sports/shoe-ascent-sustain-2.png"),this.load.image("shoe-asics-ds-light","assets/images/shoes/sports/shoe-asics-ds-light.png"),this.load.image("shoe-asics-gel-550tr","assets/images/shoes/sports/shoe-asics-gel-550tr.png"),this.load.image("shoe-asics-netburner","assets/images/shoes/sports/shoe-asics-netburner.png"),this.load.image("shoe-asics-gt-1000","assets/images/shoes/sports/shoe-asics-gt-1000.png"),this.load.image("shoe-nb-tekela","assets/images/shoes/sports/shoe-nb-tekela.png"),this.load.image("shoe-nike-tiempo","assets/images/shoes/sports/shoe-nike-tiempo.png"),this.load.image("shoe-skechers-razor","assets/images/shoes/sports/shoe-skechers-razor.png"),this.load.image("bell","assets/images/ui/bell.png"),this.load.audio("bg-music",["assets/audio/bg-music.ogg","assets/audio/bg-music.mp3"]),this.load.audio("school-bell",["assets/audio/school-bell.ogg","assets/audio/school-bell.mp3"])}create(){this.time.delayedCall(100,()=>{this.scene.start("StartScene")})}}const d=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";class g{constructor(e){this.scene=e,this.enabled=!1,this.debugGraphics=null,this.coordsText=null,this.hitAreas=[],this.debugElements=[],d&&this.scene.input.keyboard.on("keydown-D",()=>{this.toggle()})}isEnabled(){return this.enabled}toggle(){this.enabled=!this.enabled,this.enabled?this.show():this.hide()}show(){this.scene.time.paused=!0,this.debugGraphics=this.scene.add.graphics(),this.debugGraphics.setDepth(1e3),this.coordsText=this.scene.add.text(630,950,`DEBUG MODE (Paused)
Click to get coords
Press D to exit`,{fontFamily:"monospace",fontSize:"16px",fill:"#00ff00",backgroundColor:"#000000dd",padding:{x:8,y:4}}),this.coordsText.setOrigin(1,1),this.coordsText.setDepth(1001),this.clickCatcher=this.scene.add.rectangle(320,480,640,960,0,.01),this.clickCatcher.setDepth(999),this.clickCatcher.setInteractive(),this.clickCatcher.on("pointerdown",e=>{this.showCoordinates(e.x,e.y)}),this.debugGraphics.lineStyle(1,3355443,.5);for(let e=0;e<=640;e+=50)this.debugGraphics.lineBetween(e,0,e,960);for(let e=0;e<=960;e+=50)this.debugGraphics.lineBetween(0,e,640,e);this.debugGraphics.lineStyle(2,16711680,.5),this.debugGraphics.lineBetween(320,0,320,960),this.debugGraphics.lineStyle(2,255,.5),this.debugGraphics.lineBetween(0,480,640,480),this.highlightHitAreas(),console.log("Debug Mode ON - Scene paused, Click to get coordinates, Press D to exit")}hide(){this.scene.time.paused=!1,this.debugGraphics&&(this.debugGraphics.destroy(),this.debugGraphics=null),this.coordsText&&(this.coordsText.destroy(),this.coordsText=null),this.clickCatcher&&(this.clickCatcher.destroy(),this.clickCatcher=null),this.debugElements.forEach(e=>e.destroy()),this.debugElements=[],console.log("Debug Mode OFF - Scene resumed")}showCoordinates(e,t){const o=Math.round(e),s=Math.round(t);this.coordsText&&this.coordsText.setText(`DEBUG MODE
X: ${o}
Y: ${s}

Copied to console!`),console.log(`Position: { x: ${o}, y: ${s} }`)}registerHitArea(e,t,o,s,a,h=65280){this.hitAreas.push({name:e,x:t,y:o,width:s,height:a,color:h})}highlightHitAreas(){this.debugGraphics&&this.hitAreas.forEach(e=>{this.debugGraphics.lineStyle(2,e.color,1),this.debugGraphics.strokeRect(e.x-e.width/2,e.y-e.height/2,e.width,e.height);const t=this.scene.add.text(e.x,e.y-e.height/2-15,`${e.name}
(${e.x}, ${e.y})`,{fontFamily:"monospace",fontSize:"11px",fill:"#"+e.color.toString(16).padStart(6,"0"),backgroundColor:"#000000cc",padding:{x:4,y:2},align:"center"});t.setOrigin(.5),t.setDepth(1001),this.debugElements.push(t)})}}class b extends r.Scene{constructor(){super({key:"StartScene"})}fnfetchAPI(e){fetch(e,{method:"GET"}).then(t=>console.log("Tracking sent:",t.status)).catch(t=>console.error("Tracking error:",t))}create(){this.add.image(i/2,n/2,"screen-1-bg");const e=this.add.image(i/2,n/2,"screen-1-play-button"),t=this.add.rectangle(i/2,n/2,i,n,0,0);t.setInteractive({useHandCursor:!0}),this.debug=new g(this),this.debug.registerHitArea("Full Screen (Play)",i/2,n/2,i,n,65280),d&&(this.input.keyboard.on("keydown-ONE",()=>this.scene.start("StartScene")),this.input.keyboard.on("keydown-TWO",()=>this.scene.start("InstructionScene")),this.input.keyboard.on("keydown-THREE",()=>this.scene.start("GameScene")),this.input.keyboard.on("keydown-FOUR",()=>this.scene.start("EndScene",{caughtShoes:[{id:"asics-ds-light",name:"ASICS DS Light JR (GS) Kids",image:"shoe-asics-ds-light",type:"sports"},{id:"alpha-captain",name:`Alpha Captain Senior Boys
School Shoes`,image:"shoe-alpha-captain",type:"formal"}]}))),t.on("pointerover",()=>{e.setTint(16770125)}),t.on("pointerout",()=>{e.clearTint()}),t.on("pointerdown",()=>{e.setTint(13412864)}),t.on("pointerup",async()=>{if(!this.registry.get("bgMusicStarted")){if(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){const s=new(window.AudioContext||window.webkitAudioContext);fetch("assets/audio/bg-music.ogg").then(a=>a.arrayBuffer()).then(a=>s.decodeAudioData(a)).then(a=>{const h=s.createBufferSource();h.buffer=a,h.loop=!0;const c=s.createGain();c.gain.value=.5,h.connect(c),c.connect(s.destination),h.start(0),this.registry.set("bgAudioContext",s),this.registry.set("bgAudioSource",h)}).catch(a=>console.log("iOS audio failed:",a))}else{this.sound.context&&this.sound.context.state==="suspended"&&await this.sound.context.resume();const s=this.sound.add("bg-music",{loop:!0,volume:.5});s.play(),this.registry.set("bgMusic",s)}this.fnfetchAPI(window.trackingType+"PlayableStart"),this.registry.set("bgMusicStarted",!0)}this.scene.start("InstructionScene")}),this.tweens.add({targets:e,scaleX:1.02,scaleY:1.02,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}class x extends r.Scene{constructor(){super({key:"InstructionScene"})}fnfetchAPI(e){fetch(e,{method:"GET"}).then(t=>console.log("Tracking sent:",t.status)).catch(t=>console.error("Tracking error:",t))}create(){this.add.image(i/2,n/2,"screen-2");const e=this.add.image(i/2,n/2,"screen-2-arrows");this.debug=new g(this),this.debug.registerHitArea("Tap Area",i/2,n/2,i,n,65280),d&&(this.input.keyboard.on("keydown-ONE",()=>this.scene.start("StartScene")),this.input.keyboard.on("keydown-TWO",()=>this.scene.start("InstructionScene")),this.input.keyboard.on("keydown-THREE",()=>this.scene.start("GameScene")),this.input.keyboard.on("keydown-FOUR",()=>this.scene.start("EndScene",{caughtShoes:[{id:"asics-ds-light",name:"ASICS DS Light JR (GS) Kids",image:"shoe-asics-ds-light",type:"sports"},{id:"alpha-captain",name:`Alpha Captain Senior Boys
School Shoes`,image:"shoe-alpha-captain",type:"formal"}]}))),this.tweens.add({targets:e,scaleX:1.03,scaleY:1.03,duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});const t=this.add.rectangle(i/2,n/2,i,n,0,0);t.setInteractive({useHandCursor:!0}),t.on("pointerup",()=>{this.fnfetchAPI(window.trackingType+"InstructionComplete"),this.scene.start("GameScene")}),this.time.delayedCall(4e3,()=>{this.scene.isActive("InstructionScene")&&(this.fnfetchAPI(window.trackingType+"InstructionComplete"),this.scene.start("GameScene"))})}}class w extends r.Scene{constructor(){super({key:"GameScene"})}fnfetchAPI(e){fetch(e,{method:"GET"}).then(t=>console.log("Tracking sent:",t.status)).catch(t=>console.error("Tracking error:",t))}init(){this.timeLeft=p,this.caughtShoes=[],this.currentShoe=null,this.isDragging=!1,this.dragStartX=0,this.dragStartY=0,this.dragStartTime=0,this.shoeQueue=this.shuffleShoes(),this.shoeIndex=0,this.canSwipe=!0,this.shoeFallSpeed=400,this.shoeRotationSpeed=.4,this.swipeVelocityThreshold=.15,this.gameEnding=!1,this.swipeCount=0}shuffleShoes(){const e=[...u,...u,...u];for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}create(){this.add.image(i/2,n/2,"screen-3"),this.fnfetchAPI(window.trackingType+"GameStart"),this.timerText=this.add.text(110,45,this.timeLeft+"s",{fontFamily:"Galano, Arial",fontSize:"32px",fill:"#ffffff"}),this.timerText.setOrigin(.5),this.createFeedbackText(),this.spawnShoe(),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,repeat:p-1}),this.input.on("pointerdown",this.onPointerDown,this),this.input.on("pointermove",this.onPointerMove,this),this.input.on("pointerup",this.onPointerUp,this),this.input.on("pointerupoutside",this.onPointerUp,this),this.game.canvas.addEventListener("mouseleave",()=>{this.isDragging&&this.resetShoeDrag()}),this.debug=new g(this),this.debug.registerHitArea("Timer",110,45,100,50,65280),d&&(this.input.keyboard.on("keydown-ONE",()=>this.scene.start("StartScene")),this.input.keyboard.on("keydown-TWO",()=>this.scene.start("InstructionScene")),this.input.keyboard.on("keydown-THREE",()=>this.scene.start("GameScene")),this.input.keyboard.on("keydown-FOUR",()=>this.scene.start("EndScene",{caughtShoes:this.caughtShoes.length>0?this.caughtShoes:[{id:"asics-ds-light",name:"ASICS DS Light JR (GS) Kids",image:"shoe-asics-ds-light",type:"sports"},{id:"alpha-captain",name:`Alpha Captain Senior Boys
School Shoes`,image:"shoe-alpha-captain",type:"formal"}]})))}createFeedbackText(){this.feedbackBg=this.add.graphics(),this.feedbackBg.setDepth(99),this.feedbackBg.setAlpha(0),this.feedbackText=this.add.text(i/2,n/2+100,"",{fontFamily:"Galano, Arial",fontSize:"24px",fill:"#ffffff"}),this.feedbackText.setOrigin(.5),this.feedbackText.setAlpha(0),this.feedbackText.setDepth(100)}spawnShoe(){this.shoeIndex>=this.shoeQueue.length&&(this.shoeIndex=0,this.shoeQueue=this.shuffleShoes());const e=this.shoeQueue[this.shoeIndex];this.shoeIndex++,this.currentShoe=this.add.image(i/2,-100,e.image),this.currentShoe.setScale(.4),this.currentShoe.setData("type",e.type),this.currentShoe.setData("shoeData",e),this.currentShoe.setData("rotationDirection",Math.random()>.5?1:-1),this.canSwipe=!0,this.isDragging=!1}update(e,t){if(!this.gameEnding&&this.currentShoe&&!this.isDragging&&this.canSwipe){this.currentShoe.y+=this.shoeFallSpeed*(t/1e3);const o=this.currentShoe.getData("rotationDirection");this.currentShoe.rotation+=this.shoeRotationSpeed*o*(t/1e3),this.currentShoe.y>n+150&&this.missShoe()}}resetShoeDrag(){this.currentShoe&&(this.isDragging=!1,this.currentShoe.clearTint(),this.tweens.add({targets:this.currentShoe,x:i/2,rotation:0,duration:200,ease:"Back.easeOut"}))}missShoe(){this.showFeedback("Missed!","#ff8844"),this.currentShoe&&(this.currentShoe.destroy(),this.currentShoe=null),this.timeLeft>0&&this.time.delayedCall(400,()=>{this.spawnShoe()})}onPointerDown(e){if(!this.currentShoe||!this.canSwipe)return;const t=this.currentShoe;r.Math.Distance.Between(e.x,e.y,t.x,t.y)<250&&(this.isDragging=!0,this.dragStartX=e.x,this.dragStartY=e.y,this.dragStartTime=Date.now(),this.shoeStartX=t.x,this.shoeStartY=t.y)}onPointerMove(e){if(!this.isDragging||!this.currentShoe)return;const t=e.x-this.dragStartX,o=e.y-this.dragStartY;this.currentShoe.x=this.shoeStartX+t,this.currentShoe.y=this.shoeStartY+o,this.currentShoe.rotation=t*.003,t<-25?this.currentShoe.setTint(11184895):t>25?this.currentShoe.setTint(16759705):this.currentShoe.clearTint()}onPointerUp(e){if(!this.isDragging||!this.currentShoe)return;this.isDragging=!1;const t=e.x-this.dragStartX,o=Date.now()-this.dragStartTime,a=Math.abs(t)/Math.max(o,1)>=this.swipeVelocityThreshold&&Math.abs(t)>20,h=Math.abs(t)>=m;if(a||h){this.canSwipe=!1;const c=t<0?"left":"right";this.handleSwipe(c)}else this.currentShoe.clearTint(),this.tweens.add({targets:this.currentShoe,x:i/2,rotation:0,duration:200,ease:"Back.easeOut"})}handleSwipe(e){const t=this.currentShoe.getData("type"),o=this.currentShoe.getData("shoeData");this.swipeCount++,this.fnfetchAPI(window.trackingType+"Swipe"+this.swipeCount),e==="left"&&t==="formal"||e==="right"&&t==="sports"?(this.showFeedback("Excellent...That's correct!","#ffffff",e),this.caughtShoes.push(o),t==="formal"?this.fnfetchAPI(window.trackingType+"FormalShoe"):t==="sports"&&this.fnfetchAPI(window.trackingType+"SportsShoe")):this.showFeedback("Oops...That's not right!","#ffffff",e);const a=e==="left"?-200:i+200,h=e==="left"?-1:1;this.tweens.add({targets:this.currentShoe,x:a,rotation:h,alpha:0,duration:300,ease:"Power2",onComplete:()=>{this.currentShoe&&(this.currentShoe.destroy(),this.currentShoe=null),this.timeLeft>0&&this.time.delayedCall(300,()=>{this.spawnShoe()})}})}showFeedback(e,t,o=null){if(this.feedbackText.setText(e),this.feedbackText.setStyle({fill:t,fontFamily:"Galano, Arial",fontSize:"24px"}),o==="left")this.feedbackText.setX(160),this.feedbackBg.setAlpha(0);else if(o==="right")this.feedbackText.setX(i-160),this.feedbackBg.setAlpha(0);else{this.feedbackText.setX(i/2),this.feedbackBg.clear(),this.feedbackBg.fillStyle(0,.7);const s=this.feedbackText.width+40,a=this.feedbackText.height+20;this.feedbackBg.fillRoundedRect(i/2-s/2,n/2+100-a/2,s,a,12),this.feedbackBg.setAlpha(1)}this.feedbackText.setAlpha(1),this.tweens.killTweensOf(this.feedbackText),this.tweens.killTweensOf(this.feedbackBg),this.tweens.add({targets:[this.feedbackText,this.feedbackBg],alpha:0,duration:600,delay:400})}updateTimer(){this.timeLeft--,this.timerText.setText(this.timeLeft+"s"),this.timeLeft<=5&&(this.timerText.setStyle({fill:"#ff4444",fontFamily:"Galano, Arial",fontSize:"32px"}),this.tweens.add({targets:this.timerText,scaleX:1.3,scaleY:1.3,duration:100,yoyo:!0})),this.timeLeft<=0&&!this.gameEnding&&(this.gameEnding=!0,this.timerEvent&&this.timerEvent.destroy(),this.canSwipe=!1,this.isDragging=!1,this.currentShoe&&this.currentShoe.clearTint(),this.sound.add("school-bell",{volume:.7}).play({seek:1}),this.time.delayedCall(2e3,()=>{this.endGame()}))}endGame(){this.timerEvent&&this.timerEvent.destroy(),this.currentShoe&&this.currentShoe.destroy(),this.fnfetchAPI(window.trackingType+"GameComplete"),this.scene.start("EndScene",{caughtShoes:this.caughtShoes})}}class k extends r.Scene{constructor(){super({key:"EndScene"})}fnfetchAPI(e){fetch(e,{method:"GET"}).then(t=>console.log("Tracking sent:",t.status)).catch(t=>console.error("Tracking error:",t))}init(e){this.caughtShoes=e.caughtShoes||[],this.currentIndex=0,this.autoCarouselComplete=!1}create(){this.add.image(i/2,n/2,"screen-4"),this.fnfetchAPI(window.trackingType+"Playable Complete"),this.createShoeDisplay(),this.add.image(i/2,n/2,"screen-4-arrows");const e=this.add.image(i/2,n/2,"screen-4-button");this.tweens.add({targets:e,scaleX:1.03,scaleY:1.03,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.createCTAHitArea(),this.debug=new g(this),this.debug.registerHitArea("Left Arrow",55,620,80,80,16776960),this.debug.registerHitArea("Right Arrow",i-55,620,80,80,16776960),this.debug.registerHitArea("Full Screen (CTA)",i/2,n/2,i,n,65280),d&&(this.input.keyboard.on("keydown-ONE",()=>this.scene.start("StartScene")),this.input.keyboard.on("keydown-TWO",()=>this.scene.start("InstructionScene")),this.input.keyboard.on("keydown-THREE",()=>this.scene.start("GameScene")),this.input.keyboard.on("keydown-FOUR",()=>this.scene.start("EndScene",{caughtShoes:[{id:"asics-ds-light",name:"ASICS DS Light JR (GS) Kids",image:"shoe-asics-ds-light",type:"sports"},{id:"alpha-captain",name:`Alpha Captain Senior Boys
School Shoes`,image:"shoe-alpha-captain",type:"formal"}]})))}createShoeDisplay(){if(this.caughtShoes.length===0){this.add.text(i/2,640,`No shoes caught!
Try again!`,{fontFamily:"Montserrat, Arial",fontSize:"28px",fill:"#ffffff",align:"center"}).setOrigin(.5);return}const t=[...new Map(this.caughtShoes.map(c=>[c.id,c])).values()],o=590,s=715;this.shoeImage=this.add.image(i/2,o,t[0].image),this.shoeImage.setScale(.45),this.shoeNameText=this.add.text(i/2,s,t[0].name,{fontFamily:"Galano, Arial",fontSize:"22px",fill:"#ffffff",align:"center",lineSpacing:4,wordWrap:{width:380},shadow:{offsetX:2,offsetY:2,color:"#000000",blur:4,fill:!0}}),this.shoeNameText.setOrigin(.5);const a=this.add.rectangle(55,620,80,80,0,0);a.setInteractive({useHandCursor:!0}),a.on("pointerup",()=>{this.autoCarouselComplete&&(this.currentIndex=(this.currentIndex-1+t.length)%t.length,this.updateShoeDisplay(t))});const h=this.add.rectangle(i-55,620,80,80,0,0);h.setInteractive({useHandCursor:!0}),h.on("pointerup",()=>{this.autoCarouselComplete&&(this.currentIndex=(this.currentIndex+1)%t.length,this.updateShoeDisplay(t))}),this.uniqueShoes=t,t.length>1?this.startAutoCarousel(t):this.autoCarouselComplete=!0}startAutoCarousel(e){const t=e.length;let o=0;const s=t,a=this.time.addEvent({delay:150,callback:()=>{o++,this.currentIndex=o%t,this.quickUpdateShoe(e[this.currentIndex]),o>=s&&(a.destroy(),this.autoCarouselComplete=!0,this.settleOnShoe(e[this.currentIndex]))},repeat:s-1})}quickUpdateShoe(e){this.shoeImage.setTexture(e.image),this.shoeNameText.setText(e.name),this.shoeImage.setScale(.4),this.tweens.add({targets:this.shoeImage,scaleX:.45,scaleY:.45,duration:80,ease:"Back.easeOut"})}settleOnShoe(e){this.tweens.add({targets:this.shoeImage,scaleX:.5,scaleY:.5,duration:200,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:this.shoeImage,scaleX:.45,scaleY:.45,duration:150})}})}updateShoeDisplay(e){const t=e[this.currentIndex];this.tweens.add({targets:this.shoeImage,alpha:0,scaleX:.25,duration:150,onComplete:()=>{this.shoeImage.setTexture(t.image),this.shoeNameText.setText(t.name),this.tweens.add({targets:this.shoeImage,alpha:1,scaleX:.45,duration:150})}})}createCTAHitArea(){const e=this.add.rectangle(i/2,n/2,i,n,0,0);e.setInteractive({useHandCursor:!0}),e.on("pointerup",()=>{this.fnfetchAPI(window.trackingType+"CTA Click"),this.openLandingPage()})}openLandingPage(){const e=window.landingPageUrl||S;try{window.open(e,"_blank")}catch{window.location.href=e}}}const T={type:r.AUTO,width:640,height:960,parent:"game-container",backgroundColor:"#000098",scale:{mode:r.Scale.FIT,autoCenter:r.Scale.CENTER_BOTH,width:640,height:960},render:{pixelArt:!1,antialias:!0,roundPixels:!1,resolution:window.devicePixelRatio||1},audio:{disableWebAudio:!1,context:null},input:{touch:!0},scene:[y,b,x,w,k]},A=new r.Game(T);window.game=A;
