import{p as t}from"./phaser-C2RWnc_5.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.add.text(100,100,"Loading...",{fontSize:20,fill:"#fff",fontFamily:"shellHeavy"}).setAlpha(0),this.add.text(100,150,"Loading...",{fontSize:20,fill:"#fff",fontFamily:"shellchsBook"}).setAlpha(0)}create(){this.scene.start("Preloader")}}function i(t,e){const i=/Mobi|Android/i.test(navigator.userAgent),a=/iPhone/i.test(navigator.userAgent),s=window.innerWidth,r=window.innerHeight;let h,n;h=t.game.canvas.width,n=t.game.canvas.height;const o=document.getElementsByTagName("canvas")[0],l=Math.abs(parseFloat(o.style.marginTop||0))/s*h+(a?130:0),c=Math.abs(parseFloat(o.style.marginLeft||0))/r*n;let d=r/(s+2*c)*.85;return i?{canvasWidth:h,canvasHeight:n,scaleFactor:d,topMarginOffset:l,leftMarginOffsetPercentage:c,isMobileDevice:i,isIphoneDevice:a}:(d=1.4,{canvasWidth:h,canvasHeight:n,scaleFactor:d,topMarginOffset:0,leftMarginOffsetPercentage:0})}class a extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}createTruck({textureKeys:t,startDelay:e=0,yOffsetFactor:i=0,duration:a=8e3,changeEvery:s=0,sc:r=.64*this.scaleFactor}){const h=Array.isArray(t)?t:[t],n=this.trackbg.x+1*this.trackbg.displayWidth,o=this.trackbg.x-.6*this.trackbg.displayWidth,l=this.trackbg.displayHeight*i,c=this.trackbg.y+.15*this.trackbg.displayHeight-.425*this.trackbg.displayHeight+l,d=this.trackbg.y-.66*this.trackbg.displayHeight-.425*this.trackbg.displayHeight+l,p=this.add.image(0,0,h[0]);p.setOrigin(0,1),p.setScale(.64*this.scaleFactor).setDepth(0),p.alpha=1,p.x=n,p.y=c;const g=this.tweens.add({targets:p,x:o,y:d,duration:a,ease:"Linear",yoyo:!1,repeat:-1,delay:e});let y=null;if(s&&h.length>1){let t=0;y=this.time.addEvent({delay:s,loop:!0,callback:()=>{t=(t+1)%h.length,p.setTexture(h[t])}})}return{sprite:p,tween:g,cycleEvent:y}}create(){console.log("MainMenu create"),this.gameStartTime=null,this.timerEvent=null;const{canvasWidth:t,canvasHeight:e,scaleFactor1:a,topMarginOffset:s,leftMarginOffsetPercentage:r,isMobileDevice:h,isIphoneDevice:n}=i(this);this.containerArr=[],this.sc=2,this.sc2=4,this.scaleFactor=1.4,this.canvasWidth=t,this.canvasHeight=e,this.cameras.main.setBackgroundColor(12594782),this.TLNlogo=this.add.image(.1*t,.5*t,"TLNlogo"),this.TLNlogo.setOrigin(0,0),this.TLNlogo.setScale(1.4*.7).setDepth(11111),this.TLNlogo.alpha=1,this.TLNlogo.setInteractive({useHandCursor:!0}),this.TLNlogo.on("pointerdown",(()=>{window.open(window.landingPageUrl,"_blank")})),this.TLNlogo.twn=this.tweens.add({targets:this.TLNlogo,x:.02*t,y:.02*t,scale:.21,duration:1125,delay:1875,yoyo:!1,repeat:0,ease:"Power2",onComplete:()=>{}}),setTimeout((()=>{this.starttt()}),1875)}starttt(){var t=this.canvasHeight,e=this.canvasWidth,i=this.scaleFactor;this.plamtagehoek=this.add.image(0,t,"plamtagehoek"),this.plamtagehoek.setOrigin(0,1),this.plamtagehoek.setScale(.5*i).setDepth(0),this.plamtagehoek.alpha=1,this.branderij=this.add.image(.65*e,t/2,"branderij"),this.branderij.setOrigin(.5,1),this.branderij.setScale(.64*i).setDepth(0),this.branderij.alpha=1,this.playerFinal=this.add.image(.565*e,t/2,"koffiecontainer"),this.playerFinal.setOrigin(.5,1),this.playerFinal.setScale(.64*i).setDepth(0),this.playerFinal.alpha=.75,this.playerFinal.setTexture("highlight"),this.trackbg=this.add.image(0,t,"trackbg"),this.trackbg.setOrigin(0,1),this.trackbg.setScale(.64*i).setDepth(0),this.trackbg.alpha=1,this.branderij.y=this.trackbg.y-.67*this.trackbg.displayHeight,this.playerFinal.y=this.branderij.y-.15*this.branderij.displayHeight,this.boat=this.add.image(0,t,"boat"),this.boat.setOrigin(0,1),this.boat.setScale(.64*i).setDepth(0),this.boat.alpha=1,this.boat.y=this.trackbg.y-.65*this.trackbg.displayHeight,this.boat.x=this.trackbg.x-.6*this.trackbg.displayWidth,this.boatContainers=[],[{x:.28*this.boat.displayWidth,y:.5*-this.boat.displayHeight,spr:"container",opacity:1},{x:.215*this.boat.displayWidth,y:.45*-this.boat.displayHeight,spr:"container",opacity:1},{x:.28*this.boat.displayWidth+.255*this.boat.displayWidth/2,y:.5*-this.boat.displayHeight+.21*this.boat.displayHeight/2,spr:"highlight",opacity:1},{x:.215*this.boat.displayWidth+.255*this.boat.displayWidth/2,y:.45*-this.boat.displayHeight+.21*this.boat.displayHeight/2,spr:"highlight",opacity:1},{x:.28*this.boat.displayWidth+.255*this.boat.displayWidth,y:.5*-this.boat.displayHeight+.21*this.boat.displayHeight,spr:"container",opacity:1},{x:.215*this.boat.displayWidth+.255*this.boat.displayWidth,y:.45*-this.boat.displayHeight+.21*this.boat.displayHeight,spr:"container",opacity:1}].forEach(((t,e)=>{const a=this.add.image(this.boat.x+t.x*i,this.boat.y-.65*this.boat.displayHeight+t.y*i,t.spr);a.setScale(.64*i).setDepth(0),a.alpha=t.opacity,"highlight"==t.spr&&this.containerArr.push(a),a.relativeX=t.x*i,a.relativeY=t.y*i,this.boatContainers.push(a)})),this.twn=this.tweens.add({targets:[this.boat,...this.boatContainers],x:this.trackbg.x+this.trackbg.displayWidth,y:this.trackbg.y+.15*this.trackbg.displayHeight,duration:8e3,ease:"Linear",yoyo:!1,repeat:-1,onUpdate:()=>{this.boatContainers.forEach((t=>{t.x=this.boat.x+t.relativeX,t.y=this.boat.y+t.relativeY}))}}),this.trein=this.add.image(0,t,"trein"),this.trein.setOrigin(0,1),this.trein.setScale(.64*i).setDepth(0),this.trein.alpha=1,this.trein.y=this.trackbg.y-.65*this.trackbg.displayHeight-.335*this.trackbg.displayHeight,this.trein.x=this.trackbg.x-this.trackbg.displayWidth,this.treinTween=this.tweens.add({targets:this.trein,x:this.trackbg.x+1*this.trackbg.displayWidth,y:this.trackbg.y+.365*this.trackbg.displayHeight-.335*this.trackbg.displayHeight,duration:6e3,ease:"Linear",yoyo:!1,repeat:-1}),this.treinContainers=[],[{x:.7*this.trein.displayWidth,y:.33*-this.trein.displayHeight,spr:"highlight",opacity:1},{x:.28*this.trein.displayWidth,y:.72*-this.trein.displayHeight,spr:"highlight",opacity:1}].forEach(((t,e)=>{const i=this.add.image(this.trein.x+t.x,this.trein.y+t.y,t.spr);i.setScale(.56*this.scaleFactor).setDepth(1),i.alpha=t.opacity,"highlight"==t.spr&&this.containerArr.push(i),i.relativeX=t.x,i.relativeY=t.y,this.treinContainers.push(i)})),this.treinTween.on("update",(()=>{this.treinContainers.forEach((t=>{t.x=this.trein.x+t.relativeX,t.y=this.trein.y+t.relativeY}))})),this.trucks=[],this.trucks.push(this.createTruck({textureKeys:["legetrailer"],startDelay:2800,yOffsetFactor:0,duration:8e3,changeEvery:11200})),this.legetrailer1=this.trucks[0],this.trucks.push(this.createTruck({textureKeys:["vrachtwagengroen"],startDelay:0,yOffsetFactor:0,duration:8e3,changeEvery:8e3})),this.truck1=this.trucks[1],this.trucks.push(this.createTruck({textureKeys:["vrachtwagenroze"],startDelay:1400,yOffsetFactor:0,duration:8e3,changeEvery:9400})),this.truck2=this.trucks[2],this.trucks.push(this.createTruck({textureKeys:["legetrailer"],startDelay:5600,yOffsetFactor:0,duration:8e3,changeEvery:13600})),this.legetrailer2=this.trucks[3],this.trucks.push(this.createTruck({textureKeys:["vrachtwagenoranje"],startDelay:4200,yOffsetFactor:0,duration:8e3,changeEvery:12200})),this.truck3=this.trucks[4],this.legetrailer1Containers=[],[{x:.6*this.legetrailer1.sprite.displayWidth,y:.55*-this.legetrailer1.sprite.displayHeight,spr:"highlight",opacity:1}].forEach(((t,e)=>{const i=this.add.image(this.legetrailer1.sprite.x+t.x,this.legetrailer1.sprite.y+t.y,t.spr);i.setScale(.64*this.scaleFactor).setDepth(1),i.alpha=t.opacity,"highlight"==t.spr&&this.containerArr.push(i),i.relativeX=t.x,i.relativeY=t.y,this.legetrailer1Containers.push(i)})),this.legetrailer2Containers=[],[{x:.6*this.legetrailer2.sprite.displayWidth,y:.55*-this.legetrailer2.sprite.displayHeight,spr:"highlight",opacity:1}].forEach(((t,e)=>{const i=this.add.image(this.legetrailer2.sprite.x+t.x,this.legetrailer2.sprite.y+t.y,t.spr);i.setScale(.64*this.scaleFactor).setDepth(1),i.alpha=t.opacity,"highlight"==t.spr&&this.containerArr.push(i),i.relativeX=t.x,i.relativeY=t.y,this.legetrailer2Containers.push(i)})),this.legetrailer1.tween.on("update",(()=>{this.legetrailer1Containers.forEach((t=>{t.x=this.legetrailer1.sprite.x+t.relativeX,t.y=this.legetrailer1.sprite.y+t.relativeY}))})),this.legetrailer2.tween.on("update",(()=>{this.legetrailer2Containers.forEach((t=>{t.x=this.legetrailer2.sprite.x+t.relativeX,t.y=this.legetrailer2.sprite.y+t.relativeY}))})),this.trucks.push(this.createTruck({textureKeys:["vrachtwagenroze"],startDelay:7e3,yOffsetFactor:0,duration:8e3,changeEvery:15e3})),this.truck4=this.trucks[5],console.log(this.legetrailer2,this.legetrailer1),this.startvak=this.add.image(.3*e,.5*t,"startvak"),this.startvak.setOrigin(.5),this.startvak.setScale(.6*i).setDepth(10),this.startvak.alpha=1,this.startvak.y=this.trackbg.y-.37*this.trackbg.displayHeight,this.player=this.add.image(.3*e,.5*t,"koffiecontainer"),this.player.setOrigin(.5),this.player.setScale(.7*i).setDepth(10),this.player.alpha=1,this.player.y=this.trackbg.y-.4*this.trackbg.displayHeight,this.yStopPositionArray=[],this.yStopPositionArray.push(this.trackbg.y-.4*this.trackbg.displayHeight),this.yStopPositionArray.push(this.trackbg.y-.37*this.trackbg.displayHeight),this.jumpCount=0,this.jumpCountMax=4,this.containercheckonstep2=null,this.containercheckonstep3=null,this.knop=this.add.image(.5*e,.825*t,"knop"),this.knop.setOrigin(.5),this.knop.setScale(.6*i).setDepth(10),this.knop.alpha=0,this.clickTimeout=!1,this.gameOver=!1,this.knop.on("pointerdown",(()=>{this.clickTimeout||(this.clickTimeout=!0,setTimeout((()=>{this.clickTimeout=!1}),500),this.tweens.add({targets:this.knop,scaleX:.85*this.knop.scaleX,scaleY:.85*this.knop.scaleY,duration:100,yoyo:!0,ease:"Cubic.easeOut",onComplete:()=>{0===this.jumpCount&&(this.gameStartTime||this.startGameTimer(),this.checkRange(this.player,this.containerArr[0])?(this.containerArr[1].setAlpha(1),this.containerSettleEffect(this.containerArr[1]),this.containerArr[1].setTexture("koffiecontainer"),this.player.setAlpha(0),setTimeout((()=>{this.jumpCount++}),250)):(this.cameras.main.shake(250,.05),this.cameras.main.flash(250,16711680),this.gameOver=!0,this.fadeOutGame())),1===this.jumpCount&&(this.containerArr[1].setAlpha(0),this.containerArr[0].setTexture("koffiecontainer"),this.containerSettleEffect(this.containerArr[0]),this.containerArr[0].setAlpha(1),setTimeout((()=>{this.jumpCount++}),250)),2===this.jumpCount&&(this.checkRange(this.containerArr[0],this.containerArr[4])?(this.containerArr[0].setAlpha(0),this.containerArr[4].setTexture("koffiecontainer"),this.containerSettleEffect(this.containerArr[4]),this.containerArr[4].setAlpha(1),this.containercheckonstep2=this.containerArr[4],setTimeout((()=>{this.jumpCount++}),250)):this.checkRange(this.containerArr[0],this.containerArr[5])?(this.containerArr[0].setAlpha(0),this.containerArr[5].setTexture("koffiecontainer"),this.containerSettleEffect(this.containerArr[5]),this.containerArr[5].setAlpha(1),this.containercheckonstep2=this.containerArr[5],setTimeout((()=>{this.jumpCount++}),250)):(this.cameras.main.shake(250,.05),this.cameras.main.flash(250,16711680),this.gameOver=!0,this.fadeOutGame())),3===this.jumpCount&&(this.checkRange(this.containercheckonstep2,this.containerArr[2])?(this.containercheckonstep2.setAlpha(0),this.containerArr[2].setTexture("koffiecontainer"),this.containerSettleEffect(this.containerArr[2]),this.containerArr[2].setAlpha(1),this.containercheckonstep3=this.containerArr[2],setTimeout((()=>{this.containerArr[2].setAlpha(0),this.trein.setTexture("trein1"),this.jumpCount++}),250)):this.checkRange(this.containercheckonstep2,this.containerArr[3])?(this.containercheckonstep2.setAlpha(0),this.containerArr[3].setTexture("koffiecontainer"),this.containerSettleEffect(this.containerArr[3]),this.containerArr[3].setAlpha(1),this.containercheckonstep3=this.containerArr[3],setTimeout((()=>{this.containerArr[3].setAlpha(0),this.trein.setTexture("trein2"),this.jumpCount++}),250)):(this.cameras.main.shake(250,.05),this.cameras.main.flash(250,16711680),this.gameOver=!0,this.fadeOutGame())),4===this.jumpCount&&(console.log(this.checkRange(this.containercheckonstep3,this.branderij)," cfrrfwfe"),this.checkRange(this.containercheckonstep3,this.branderij)?(this.containercheckonstep3.setAlpha(0),this.containerArr[3].setAlpha(0),this.containerArr[2].setAlpha(0),this.containerArr[4].setAlpha(0),this.containerArr[5].setAlpha(0),this.trein.setTexture("trein"),this.playerFinal.setTexture("koffiecontainer"),this.containerSettleEffect(this.playerFinal),this.playerFinal.setAlpha(1),this.createConfetti(),setTimeout((()=>{this.fadeOutGame()}),2e3)):(this.cameras.main.shake(250,.05),this.cameras.main.flash(250,16711680),this.gameOver=!0,this.fadeOutGame())),console.log(this.jumpCount)}}))})),setTimeout((()=>{this.titleTxt=this.add.image(this.canvasWidth/2,0*this.canvasHeight,"titleTxt"),this.titleTxt.setScale(.3*this.scaleFactor),this.titleTxt.setAlpha(0).setDepth(100),this.tweens.add({targets:this.titleTxt,alpha:1,y:.15*this.canvasHeight,duration:1e3,delay:500,ease:"Power2"}),this.ornajepijlmove=this.add.image(this.player.x-.65*this.player.displayWidth,this.player.y+.65*this.player.displayHeight,"ornajepijlmove"),this.ornajepijlmove.setScale(.4*this.scaleFactor),this.ornajepijlmove.setAlpha(1).setDepth(101),this.ornajepijlmove.twn=this.tweens.add({targets:this.ornajepijlmove,x:this.player.x-.55*this.player.displayWidth,y:this.player.y+.55*this.player.displayHeight,duration:375,delay:187.5,yoyo:!0,repeat:-1,ease:"Power2"}),this.ornajepijldownuitleg=this.add.image(this.playerFinal.x+.1*this.playerFinal.displayWidth,this.playerFinal.y-1.15*this.playerFinal.displayHeight,"ornajepijldownuitleg"),this.ornajepijldownuitleg.setScale(.4*this.scaleFactor),this.ornajepijldownuitleg.setAlpha(1).setDepth(101),this.ornajepijldownuitleg.twn=this.tweens.add({targets:this.ornajepijldownuitleg,y:this.playerFinal.y-1.2*this.playerFinal.displayHeight,duration:375,delay:187.5,yoyo:!0,repeat:-1,ease:"Power2"}),this.startbtn=this.add.image(this.canvasWidth/2,.8*this.canvasHeight,"startbtn"),this.startbtn.setScale(.6*this.scaleFactor),this.startbtn.setAlpha(0).setDepth(102),this.tweens.add({targets:this.startbtn,alpha:1,duration:1e3,delay:500,ease:"Power2"}),this.startbtn.setInteractive({useHandCursor:!0}),this.startbtn.on("pointerdown",(()=>{this.clickTimeout||(this.clickTimeout=!0,setTimeout((()=>{this.clickTimeout=!1}),500),this.tweens.add({targets:this.startbtn,scaleX:.85*this.startbtn.scaleX,scaleY:.85*this.startbtn.scaleY,duration:100,yoyo:!0,ease:"Cubic.easeOut",onComplete:()=>{this.tweens.add({targets:this.titleTxt,alpha:0,y:0*this.canvasHeight,duration:500,delay:0,ease:"Power2"}),this.startbtn.destroy(),this.startGame(this.scaleFactor)}}))}))}),1e3)}startGameTimer(){this.gameStartTime=new Date,this.timerEvent=this.time.addEvent({delay:100,callback:this.updateTimer,callbackScope:this,loop:!0})}updateTimer(){if(!this.gameStartTime)return;const t=new Date;this.elapsedTime=t-this.gameStartTime,this.formattedTime=this.formatTime(this.elapsedTime),console.log(this.formattedTime)}formatTime(t){const e=Math.floor(t/6e4),i=Math.floor(t%6e4/1e3),a=Math.floor(t%1e3/10);return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}stopGameTimer(){this.timerEvent&&(this.timerEvent.remove(),this.timerEvent=null)}startGame(t){this.gameCenterX=this.canvasWidth/2,this.gameCenterY=this.canvasHeight/2,this.fnfetchAPI(window.trackingType+"PlayableStart"),setTimeout((()=>{this.containerSettleEffect(this.player),this.cameras.main.zoomTo(1.25*t,500),this.cameras.main.pan(this.player.x,this.player.y,500),setTimeout((()=>{this.cameras.main.pan(this.branderij.x,this.branderij.y-.5*this.branderij.displayHeight,500),setTimeout((()=>{this.cameras.main.zoomTo(1,500),this.cameras.main.pan(this.gameCenterX,this.gameCenterY,500),this.knop.setInteractive({useHandCursor:!0}),this.tweens.add({targets:this.knop,alpha:1,duration:800,delay:500,ease:"Power2"}),this.ornajepijldownuitleg.twn.stop(),this.ornajepijldownuitleg.destroy(),this.ornajepijlmove.twn.stop(),this.ornajepijlmove.destroy(),this.titleTxt=this.add.image(this.canvasWidth/2,0*this.canvasHeight,"titleTxt2"),this.titleTxt.setScale(.3*this.scaleFactor),this.titleTxt.setAlpha(0).setDepth(100),this.tweens.add({targets:this.titleTxt,alpha:1,y:.1*this.canvasHeight,duration:1e3,delay:500,ease:"Power2"})}),1e3)}),700)}),500)}fadeOutGame(){this.stopGameTimer(),setTimeout((()=>{setTimeout((()=>{this.finalScene()}),1e3);const t=t=>{if(t&&"function"==typeof t.destroy)try{this.tweens.add({targets:t,alpha:0,duration:250,delay:250,ease:"Power2",onComplete:()=>{t.destroy()}})}catch(e){console.error("Error destroying object:",e)}},e=e=>{e&&Array.isArray(e)&&e.forEach((e=>t(e)))};this.tweens.killAll(),t(this.knop),t(this.player),t(this.branderij),t(this.startvak),t(this.playerFinal),t(this.titleTxt),t(this.trein),t(this.boat),e(this.legetrailer1Containers),e(this.legetrailer2Containers),e(this.containerArr),e(this.boatContainers),e(this.trainContainers),this.legetrailer1&&(this.legetrailer1.tween&&this.legetrailer1.tween.stop(),this.legetrailer1.sprite&&t(this.legetrailer1.sprite),t(this.legetrailer1)),this.legetrailer2&&(this.legetrailer2.tween&&this.legetrailer2.tween.stop(),this.legetrailer2.sprite&&t(this.legetrailer2.sprite),t(this.legetrailer2)),t(this.trackbg),t(this.rivier),t(this.plamtagehoek),t(this.klassiekoffie),this.trucks&&Array.isArray(this.trucks)&&this.trucks.forEach((e=>{e&&(e.tween&&e.tween.stop(),e.sprite&&t(e.sprite),t(e))}))}),250)}finalScene(){this.klasseKoffie=this.add.image(.7*this.canvasWidth,.625*this.canvasHeight,"klasseKoffie"),this.klasseKoffie.setScale(.55*this.scaleFactor).setAlpha(0).setOrigin(.5,1),this.tweens.add({targets:this.klasseKoffie,x:.5*this.canvasWidth,alpha:1,duration:1e3,ease:"Power2"}),this.headerText=this.add.text(.3*this.canvasWidth,.1*this.canvasHeight,"KLASSE!",{fontFamily:"BarlowCondensed-Bold",fontSize:100*this.scaleFactor,color:"#FFFFFF",align:"center"}).setOrigin(.5).setAlpha(0),this.gameOver?(this.fnfetchAPI(window.trackingType+"PlayableGameOver"),this.headerText.x=.5*this.canvasWidth,this.klasseKoffie.setTexture("slappebak"),this.headerText.setText("SLAPPE BAK!"),this.tweens.add({targets:this.headerText,y:.15*this.canvasHeight,alpha:1,duration:1e3,ease:"Power2"})):(this.fnfetchAPI(window.trackingType+"PlayableCompleted"),this.tweens.add({targets:this.headerText,x:.5*this.canvasWidth,alpha:1,duration:1e3,ease:"Power2"}),this.headerText.setText("KLASSE!"),this.createConfetti(),this.bgblock=this.add.image(this.canvasWidth/2,this.headerText.y+1.5*this.headerText.displayHeight,"bgblock"),this.bgblock.setScale(.6*this.scaleFactor),this.bgblockText=this.add.text(this.bgblock.x,this.bgblock.y,this.formattedTime,{fontFamily:"BarlowCondensed-SemiBold",fontSize:60*this.scaleFactor,color:"#FFFFFF",align:"center"}).setOrigin(.5)),this.finaltxt2=this.add.image(this.canvasWidth/2,.9*this.canvasHeight,"finaltxt2"),this.finaltxt2.setScale(.3*this.scaleFactor).setAlpha(0),this.finaltxt1=this.add.image(this.canvasWidth/2,.9*this.canvasHeight,"finaltxt1"),this.finaltxt1.setScale(.3*this.scaleFactor),this.finaltxt2.setInteractive({useHandCursor:!0}),this.finaltxt2.on("pointerdown",(()=>{window.open(window.landingPageUrl,"_blank")})),this.tweens.add({targets:this.finaltxt2,alpha:1,duration:1e3,delay:500,ease:"Power2"}),this.knopreplay=this.add.image(this.canvasWidth/2,.74*this.canvasHeight,"knopreplay"),this.knopreplay.setScale(.58*this.scaleFactor),this.knopreplay.setAlpha(0),this.tweens.add({targets:this.knopreplay,alpha:1,duration:1e3,ease:"Power2"}),this.knopreplay.setInteractive({useHandCursor:!0}),this.knopreplay.on("pointerdown",(()=>{this.clickTimeout||(this.clickTimeout=!0,setTimeout((()=>{this.clickTimeout=!1}),500),this.fnfetchAPI(window.trackingType+"PlayAgain"),this.tweens.add({targets:this.knopreplay,scaleX:.85*this.knopreplay.scaleX,scaleY:.85*this.knopreplay.scaleY,duration:100,yoyo:!0,ease:"Cubic.easeOut",onComplete:()=>{this.tweens.add({targets:[this.knopreplay,this.finaltxt1,this.finaltxt2,this.headerText,this.klasseKoffie],alpha:0,duration:250,ease:"Power2",onComplete:()=>{this.cameras.main.fadeOut(250),setTimeout((()=>{this.scene.start("Dummy")}),250)}})}}))}))}checkRange(t,e,i=70){if(!t||!e)return!1;const a=Phaser.Math.Distance.Between(t.x,t.y,e.x,e.y),s=(t.displayWidth+t.displayHeight)/4,r=(e.displayWidth+e.displayHeight)/4,h=a-(s+r);return console.log(`Distance: ${a}, Adjusted: ${h}, RadiusA: ${s}, RadiusB: ${r}`),h<i}containerSettleEffect(t,e=400,i=.15,a=.05){const s=t.scaleX,r=t.scaleY;this.cameras.main.shake(.2*e,.002),this.tweens.add({targets:t,scaleX:s*(1+i),scaleY:r*(1-i),duration:.2*e,ease:"Cubic.easeOut",onComplete:()=>{this.tweens.add({targets:t,scaleX:s*(1-a),scaleY:r*(1+a),duration:.2*e,ease:"Sine.easeInOut",onComplete:()=>{this.tweens.add({targets:t,scaleX:s*(1+.5*i),scaleY:r*(1-.5*i),duration:.2*e,ease:"Sine.easeInOut",onComplete:()=>{this.tweens.add({targets:t,scaleX:s,scaleY:r,duration:.4*e,ease:"Cubic.easeOut"})}})}})}})}jump(t,e,i,a,s,r){const h=new Phaser.Curves.Path(t,e);h.quadraticBezierTo(i,a,s,r);const n={t:0,vec:new Phaser.Math.Vector2};this.tweens.add({targets:n,t:1,ease:"Sine.easeInOut",duration:400,onUpdate:()=>{h.getPoint(n.t,n.vec),this.player.x=n.vec.x,this.player.y=n.vec.y},onComplete:()=>{console.log("Jump completed!")}}),this.tweens.add({targets:this.player,scaleX:1.1*this.player.scaleX,scaleY:.9*this.player.scaleY,duration:400,yoyo:!0,ease:"Sine.easeInOut"})}createConfetti(){const t=[16777215,13910129,14383e3];for(let e=0;e<250;e++){const e=Phaser.Math.Between(.05*this.canvasWidth,.95*this.canvasWidth),i=Phaser.Math.Between(.05*this.canvasHeight,.95*this.canvasHeight),a=t[Math.floor(Math.random()*t.length)],s=Phaser.Math.Between(5,15)*this.scaleFactor,r=Phaser.Math.Between(5,15)*this.scaleFactor,h=this.add.rectangle(e,i,s,r,a);h.setOrigin(.5),h.setDepth(20),h.rotation=Math.random()*Math.PI*2;const n=Phaser.Math.Between(-500,500)*this.scaleFactor,o=Phaser.Math.Between(-500,500)*this.scaleFactor;this.tweens.add({targets:h,x:h.x+n,y:h.y+o,scaleX:0,scaleY:0,rotation:h.rotation+(Math.random()>.5?5:-5),alpha:0,duration:5e3,ease:"Cubic.easeOut",onComplete:()=>h.destroy()})}this.time.delayedCall(100,(()=>this.createConfettiBurst(500,t)))}createConfettiBurst(t,e,i=!1){for(let a=0;a<t;a++){const t=i?.2:.1,a=i?.3:.2,s=Phaser.Math.Between(this.canvasWidth*t,this.canvasWidth*(1-t)),r=Phaser.Math.Between(.1*this.canvasHeight,this.canvasHeight*(.6+a)),h=e[Math.floor(Math.random()*e.length)],n=i?1.5:1,o=Phaser.Math.Between(4,12)*this.scaleFactor*n;let l;l=Math.random()>.3?this.add.rectangle(s,r,o,o*(Math.random()>.5?.5:2),h):this.add.circle(s,r,o/2,h),l.setOrigin(.5),l.setDepth(20),l.rotation=Math.random()*Math.PI*2;const c=i?1.5:1,d=Phaser.Math.Between(-150,150)*this.scaleFactor*c,p=Phaser.Math.Between(-50,300)*this.scaleFactor*c,g=i?Phaser.Math.Between(4e3,7e3):Phaser.Math.Between(3e3,6e3);this.tweens.add({targets:l,x:l.x+d,y:l.y+p,scaleX:{from:1,to:0},scaleY:{from:1,to:0},rotation:l.rotation+(Math.random()>.5?5:-5)*(i?2:1),alpha:{from:1,to:0},duration:g,ease:"Cubic.easeOut",onComplete:()=>l.destroy()})}}}class s extends t.Scene{constructor(){super("Dummy")}create(){setTimeout((()=>{this.scene.start("MainMenu")}),250)}}class r extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:e,scaleFactor:a,topMarginOffset:s,leftMarginOffsetPercentage:r,isMobileDevice:h,isIphoneDevice:n}=i(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=a,this.isMobileDevice=h}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"",{fontFamily:"PoppinsSemiBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,i=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,i),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,i),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=i,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{})),this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("boat_container","boat_container.png"),this.load.image("branderij","Branderij.png"),this.load.image("klasseKoffie","klasseKoffie.png"),this.load.image("knop","knop.png"),this.load.image("koffiecontainer","koffiecontainer.png"),this.load.image("legetrailer","legetrailer.png"),this.load.image("plamtagehoek","plamtagehoek.png"),this.load.image("rails","Rails.png"),this.load.image("rivier","rivier.png"),this.load.image("slappebak","slappe_bak.png"),this.load.image("startvak","startvak.png"),this.load.image("tikomtespelen","tikomtespelen.png"),this.load.image("trein","trein.png"),this.load.image("trein1","trein1.png"),this.load.image("trein2","trein2.png"),this.load.image("vrachtwagengroen","vrachtwagengroen.png"),this.load.image("vrachtwagenoranje","vrachtwagenoranje.png"),this.load.image("vrachtwagenroze","vrachtwagenroze.png"),this.load.image("weg","weg.png"),this.load.image("trackbg","trackbg.png"),this.load.image("container","container.png"),this.load.image("boat","boat.png"),this.load.image("outline","outline.png"),this.load.image("highlight","highlight.png"),this.load.image("bgblock","bgblock.png"),this.load.image("startbtn","tikomtespelen.png"),this.load.image("ornajepijlmove","ornajepijlmove.png"),this.load.image("ornajepijldownuitleg","ornajepijldownuitleg.png"),this.load.image("titleTxt","titleTxt.png"),this.load.image("titleTxt2","titletxt2.png"),this.load.image("finaltxt1","finaltxt1.png"),this.load.image("finaltxt2","finaltxt2.png"),this.load.image("knopreplay","knopreplay.png"),this.load.image("TLNlogo","TLN.png")}create(){document.querySelector("#loaderUI img").style.width="80%",document.querySelector("#loaderUI img").style.height="auto",setTimeout((()=>{document.getElementById("loaderUI").style.opacity="0",this.scene.start("MainMenu")}),1e3)}}const h={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,r,a,s]};new Phaser.Game(h);
