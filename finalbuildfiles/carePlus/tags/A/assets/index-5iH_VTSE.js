import{p as t}from"./phaser-C2RWnc_5.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("background",window.trackingPath+"/bg1.png")}create(){this.scene.start("Preloader")}}function s(t,e){const s=/Mobi|Android/i.test(navigator.userAgent),i=/iPhone/i.test(navigator.userAgent),a=window.innerWidth,o=window.innerHeight;let n,h;n=t.game.canvas.width,h=t.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],l=Math.abs(parseFloat(r.style.marginTop||0))/a*n+(i?130:0),c=Math.abs(parseFloat(r.style.marginLeft||0))/o*h;let u=o/(a+2*c)*.85;return s?{canvasWidth:n,canvasHeight:h,scaleFactor:u,topMarginOffset:l,leftMarginOffsetPercentage:c,isMobileDevice:s,isIphoneDevice:i}:(u=1.4,{canvasWidth:n,canvasHeight:h,scaleFactor:u,topMarginOffset:0,leftMarginOffsetPercentage:0})}var i={istryagain:!1};class a extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}addButtonClickEffects(t,e=1,s=.95,i=14540253){t.on("pointerdown",(()=>{if(t.setScale(s),t.setTint(i),t.style&&t.style.backgroundColor){const e=t.style.backgroundColor;t._originalBgColor=e,e.startsWith("#")&&t.setStyle({backgroundColor:"#006600"}),t._originalY=t.y,t.y+=2}})),t.on("pointerout",(()=>{t.setScale(e),t.clearTint(),t._originalBgColor&&t.setStyle({backgroundColor:t._originalBgColor}),t._originalY&&(t.y=t._originalY)}))}applyButtonEffect(t,e={}){const{isTextButton:s=!1,darkColor:i="#006600",scaleFactor:a=.95,moveY:o=2,tint:n=14540253}=e,h=t.scale,r=t.y;if(s&&t.style&&t.style.backgroundColor){const e=t.style.backgroundColor;t.on("pointerdown",(()=>{t.setStyle({backgroundColor:i}),t.y+=o,t.setScale(t.scale*a)})),t.on("pointerout",(()=>{t.setStyle({backgroundColor:e}),t.y=r,t.setScale(h)}));const s=t.listeners("pointerup");t.removeAllListeners("pointerup"),t.on("pointerup",(()=>{t.setStyle({backgroundColor:e}),t.y=r,t.setScale(h),s&&s.length>0&&s[0].fn.apply(s[0].context)}))}else t.on("pointerdown",(()=>{t.setTint(n),t.y+=o,t.setScale(t.scale*a)})),t.on("pointerout",(()=>{t.clearTint(),t.y=r,t.setScale(h)})),t.on("pointerup",(()=>{t.clearTint(),t.y=r,t.setScale(h)}));return t}create(){const{canvasWidth:t,canvasHeight:e,scaleFactor1:a,topMarginOffset:o,leftMarginOffsetPercentage:n,isMobileDevice:h,isIphoneDevice:r}=s(this);this.hellasbool=!1,this.gameOver=!1,this.disableShowQuiz=!1;this.scaleFactor=1.4;var l=this;this.canvasWidth=t,this.canvasHeight=e,this.isMobileDevice=h,this.background=this.add.image(t/2,e/2,"background"),this.background.setOrigin(.5),this.background.setScale(3.08).setDepth(-1),this.background.alpha=0,this.tweens.add({targets:this.background,alpha:1,duration:800,ease:"Power2"}),this.logo=this.add.image(t/2,.2*e,"logo"),this.logo.setOrigin(.5).setDepth(500),this.logo.setScale(.7*1.4),this.logo.alpha=0,this.tweens.add({targets:this.logo,alpha:1,y:.125*e,duration:800,delay:500,ease:"Power2",onComplete(){}}),this.btn1=this.add.image(t/2,.2*e,"btn1"),this.btn1.setOrigin(.5).setDepth(1),this.btn1.setScale(2.52),this.btn1.alpha=0,this.tweens.add({targets:this.btn1,alpha:1,y:.88*e,duration:800,delay:500,ease:"Power2",onComplete(){}}),this.text=this.add.text(.5*t,.65*e,"Muggen \nmeppen, hoe \ngoed kun jij dat?",{fontFamily:"AvenirNextBold",fontSize:98,color:"#FFFFFF",align:"left"}),this.text.setOrigin(.5),this.mep2=this.add.image(.6*t,.55*e,"mep2"),this.mep2.setOrigin(.8).setDepth(1),this.mep2.setScale(3.36),this.mep2.alpha=0,this.tweens.add({targets:this.mep2,alpha:1,y:.5*e,duration:800,delay:500,ease:"Power2",onComplete(){l.mep2.rotation=0,l.tweens.add({targets:l.mep2,rotation:.5,duration:500,ease:"Power2",yoyo:!0,repeat:-1,delay:200,onComplete(){}})}}),this.mosquitos=[];const c=new Phaser.Geom.Rectangle(0*t,.2*e,t,.3*e);this.graphics=this.add.graphics(),this.graphics.fillStyle(0,0),this.graphics.fillRect(c.x,c.y,c.width,c.height),this.graphics.setDepth(-1),this.mosquitoArea=c;for(let s=0;s<6;s++){const t=this.add.image(Phaser.Math.Between(c.x,c.x+c.width),Phaser.Math.Between(c.y,c.y+c.height),"mosquito");t.setOrigin(.5).setDepth(1),t.setScale(Phaser.Math.FloatBetween(1.4,2)),t.alpha=0,t.prevX=t.x,t.prevY=t.y,t.targetX=null,t.targetY=null,t.moving=!1,t.moveSpeed=Phaser.Math.Between(120,180),t.rotationSpeed=.05,this.mosquitos.push(t),this.tweens.add({targets:t,alpha:1,duration:800,delay:500+100*s,ease:"Linear",onComplete(){t.moving=!0,t.targetX=Phaser.Math.Between(c.x,c.x+c.width),t.targetY=Phaser.Math.Between(c.y,c.y+c.height);const e=Phaser.Math.Angle.Between(t.x,t.y,t.targetX,t.targetY);t.rotation=e+Math.PI/2}})}this.canClickPageButton=!0,this.input.on("pointerdown",(()=>{1==this.pageCount&&this.btn1&&(i.istryagain?this.fnfetchAPI(window.trackingType+"TapToPlay_on_TryAgain"):this.fnfetchAPI(window.trackingType+"TapToPlay"),this.btn1.setScale(1.7*this.scaleFactor))})),this.input.on("pointerup",(()=>{if(this.canClickPageButton){if(this.canClickPageButton=!1,this.btn1&&(this.btn1.setScale(1.8*this.scaleFactor),this.btn1.clearTint()),1==this.pageCount){this.pageCount=-1;const{canvasWidth:t,canvasHeight:e}=s(this);this.gameTimer=this.time.delayedCall(3e4,(()=>{this.gameOver=!0,this.input.off("pointerdown"),this.input.off("pointerup"),this.scorePage()})),this.timerEvent=this.time.addEvent({delay:1e3,callback:()=>{if(this.gameTimerText){const t=Math.ceil((3e4-this.gameTimer.getElapsed())/1e3);t>=0&&(this.gameTimerText.setText("00:"+t.toString().padStart(2,"0")),t<=10&&this.gameTimerText.setColor("#FF0000"))}},callbackScope:this,loop:!0}),this.gameTimerText=this.add.text(.5*t,.05*e,"00:30",{fontFamily:"AvenirNextRegular",fontSize:40,color:"#FFFFFF"}),this.gameTimerText.setOrigin(.5),this.startGame()}else 2==this.pageCount?(this.pageCount=-1,this.pauseGame(),this.showQuiz()):3==this.pageCount?(this.pageCount=-1,this.gameOver=!0,this.input.off("pointerdown"),this.input.off("pointerup"),this.scorePage()):4==this.pageCount&&(console.log("pageCount == 4"),this.pageCount=-1);this.time.delayedCall(300,(()=>{this.canClickPageButton=!0}))}})),this.pageCount=1,setTimeout((()=>{this.input.enabled=!0}),300)}startGame(){this.input.off("pointerdown"),this.input.off("pointerup"),this.mosquitos.forEach((t=>t.destroy())),this.mosquitos=[],this.graphics&&this.graphics.destroy(),this.mep2&&this.mep2.setVisible(!1),this.text&&this.text.setVisible(!1),this.btn1&&this.btn1.setVisible(!1);const{canvasWidth:t,canvasHeight:e,scaleFactor:i}=s(this);this.logo.x,this.logo.y,this.logo.scale;const a=.4*this.scaleFactor,o=.05*t+this.logo.width*a/2,n=.1*e;this.tweens.add({targets:this.logo,x:o,y:n,scale:a,duration:800,ease:"Power2",onStart:()=>{this.logo.setAlpha(1)},onComplete:()=>{this.logo.x=o,this.logo.y=n,this.logo.setScale(a)}}),this.score=0,this.mosquitosHit=0,this.quizRound=1,this.scoreText=this.add.text(.95*t,.05*e,"Score: 0",{fontFamily:"AvenirNextRegular",fontSize:40,color:"#FFFFFF"}),this.scoreText.setOrigin(1,.5),this.swatter=this.add.image(t/2,e/2,"mep1"),this.swatter.setScale(3),this.swatter.setDepth(10),this.swatter.setOrigin(.2,.5),this.swatter.rotation=.75,this.input.on("pointermove",(t=>{this.swatter.x=t.x,this.swatter.y=t.y})),this.mosquitoCount=0,this.ladybugCount=0,this.maxMosquitoes=12,this.maxLadybugs=2,this.mosquitoTimer=this.time.addEvent({delay:250,callback:this.spawnMosquitoFromEdge,callbackScope:this,loop:!0}),this.ladybugTimer=this.time.addEvent({delay:1e3,callback:this.spawnLadybugFromEdge,callbackScope:this,loop:!0}),this.canClick=!0,this.input.on("pointerdown",(t=>{this.gameOver||!this.quizActive&&this.canClick&&(this.canClick=!1,this.isMobileDevice&&(this.swatter.x=t.x,this.swatter.y=t.y),this.playSwatAnimation(t.x,t.y),this.checkForHits(t.x,t.y),this.time.delayedCall(200,(()=>{this.canClick=!0})))}))}pauseGame(){this.mosquitos.forEach((t=>{t.moving=!1,t.pausedMoving=!0})),this.mosquitoTimer&&(this.mosquitoTimer.paused=!0),this.ladybugTimer&&(this.ladybugTimer.paused=!0),this.swatter&&this.swatter.setVisible(!1)}showQuiz(){if(console.log("showQuiz123"),this.disableShowQuiz)return;this.disableShowQuiz=!0,console.log("showQuiz123123");const{canvasWidth:t,canvasHeight:e}=s(this);void 0===this.quizRound&&(this.quizRound=1);const i=[{id:1,text:"Muggen steken je met hun angel.",explanation:"Muggen hebben een zuigsnuit waarmee ze bloed opzuigen en geen angel.",answer:!1,fontSize:70*this.scaleFactor},{id:2,text:"Muggen bijten omdat ze bloed lekker vinden.",explanation:"Muggen hebben bloed nodig voor de eiwitten om eitjes te ontwikkelen. Ze bijten niet omdat ze bloed lekker vinden.",answer:!1,fontSize:70*this.scaleFactor},{id:3,text:"Muggen zijn alleen actief in de zomer.",explanation:"Muggen kunnen ook actief zijn in andere seizoenen, afhankelijk van de temperatuur en vochtigheid.",answer:!1,fontSize:70*this.scaleFactor},{id:4,text:"Mannetjesmuggen bijten mensen.",explanation:"Alleen vrouwtjesmuggen bijten mensen omdat ze eiwitten uit bloed nodig hebben voor hun eitjes.",answer:!1,fontSize:50*this.scaleFactor},{id:5,text:"Stilstaand water kan overlast van muggen verergeren.",explanation:"Stilstaand water is een broedplaats voor muggenlarven. Het verwijderen van stilstaand water helpt muggenoverlast te verminderen.",answer:!0,fontSize:70*this.scaleFactor},{id:6,text:"Sommige muggen kunnen ziektes overbrengen.",explanation:"Bepaalde soorten muggen kunnen inderdaad ziektes zoals malaria, dengue of zika overbrengen.",answer:!0,fontSize:70*this.scaleFactor}];let a;if(1===this.quizRound)a=i.find((t=>5===t.id));else{const t=this.usedQuestionIds||[5],e=i.filter((e=>!t.includes(e.id)));if(e.length>0)a=e[Math.floor(Math.random()*e.length)];else{const e=t[t.length-1];a=i.find((t=>t.id!==e))}}this.currentQuestion=a,this.fontSize=a.fontSize,this.usedQuestionIds?this.usedQuestionIds.includes(a.id)||this.usedQuestionIds.push(a.id):this.usedQuestionIds=[a.id],this.quizActive=!0,this.quizOverlay=this.add.rectangle(0,0,2*t,2*e,0,0),this.quizOverlay.setOrigin(0),this.quizOverlay.setDepth(20),this.quizCard=this.add.image(t/2,.6*e,"dialog"),this.quizCard.setOrigin(.5),this.quizCard.setDepth(21),this.quizCard.setScale(2*this.scaleFactor),this.quizHeader=this.add.text(t/2,.3*e,"Weetje",{fontFamily:"AvenirNextBold",fontSize:40*this.scaleFactor,color:"#E35912"}),this.quizHeader.setOrigin(0,.5),this.quizHeader.setDepth(22),this.quizHeader.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.quizQuestion=this.add.text(t/2,.4*e,this.currentQuestion.text,{fontFamily:"AvenirNextBold",fontSize:this.fontSize,color:"#006B2E",wordWrap:{width:.7*t}}),this.quizQuestion.setOrigin(0,1),this.quizQuestion.setDepth(22),this.quizQuestion.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.quizExplanation=this.add.text(t/2,.48*e,"",{fontFamily:"AvenirNextRegular",fontSize:24,color:"#000000",align:"center",lineSpacing:10}),this.quizExplanation.setOrigin(.5,0),this.quizExplanation.setDepth(22),this.trueButton=this.add.image(t/2,.85*e,"waar").setScale(2*this.scaleFactor).setAlpha(0),this.trueButton.setOrigin(1,.5),this.trueButton.setDepth(22).setAlpha(0),this.falseButton=this.add.image(t/2,.85*e,"onwaar").setScale(2*this.scaleFactor).setAlpha(0),this.falseButton.setOrigin(0,.5),this.falseButton.setDepth(22).setAlpha(0),this.quizQuestion.y=this.trueButton.y-this.trueButton.displayHeight,this.tweens.add({targets:[this.trueButton,this.falseButton],alpha:1,duration:250,delay:250,ease:"Power2",onComplete:()=>{this.quizButtonsClickable=!0,this.trueButton&&(this.trueButton.setInteractive({useHandCursor:!0}),this.trueButton.on("pointerdown",(()=>{this.quizButtonsClickable&&this.trueButton.setScale(1.9*this.scaleFactor)})),this.trueButton.on("pointerout",(()=>{this.quizButtonsClickable&&(this.trueButton.setScale(2*this.scaleFactor),this.trueButton.clearTint())})),this.trueButton.on("pointerup",(()=>{this.quizButtonsClickable&&(this.trueButton.setScale(2*this.scaleFactor),this.trueButton.clearTint(),this.quizButtonsClickable=!1,this.showQuizFeedback(!0===this.currentQuestion.answer,this.trueButton))}))),this.falseButton&&(this.falseButton.setInteractive({useHandCursor:!0}),this.falseButton.on("pointerdown",(()=>{this.quizButtonsClickable&&this.falseButton.setScale(1.9*this.scaleFactor)})),this.falseButton.on("pointerout",(()=>{this.quizButtonsClickable&&(this.falseButton.setScale(2*this.scaleFactor),this.falseButton.clearTint())})),this.falseButton.on("pointerup",(()=>{this.quizButtonsClickable&&(this.falseButton.setScale(2*this.scaleFactor),this.falseButton.clearTint(),this.quizButtonsClickable=!1,this.showQuizFeedback(!1===this.currentQuestion.answer,this.falseButton))})))}})}showQuizFeedback(t,e){e.setScale(1.8*this.scaleFactor),setTimeout((()=>{e.setScale(2*this.scaleFactor)}),100),this.trueButton.disableInteractive(),this.falseButton.disableInteractive(),this.trueButton.x=3*this.canvasWidth,this.falseButton.x=3*this.canvasWidth;const{canvasWidth:i,canvasHeight:a}=s(this);if(this.quizQuestion&&this.quizQuestion.destroy(),this.quizExplanation&&this.quizExplanation.destroy(),this.trueButton&&this.trueButton.destroy(),this.trueText&&this.trueText.destroy(),this.falseButton&&this.falseButton.destroy(),this.falseText&&this.falseText.destroy(),this.feedbackHeader=t?this.add.text(i/2,.5*a,"Dat is juist!",{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#006B2E"}):this.add.text(i/2,.5*a,"Helaas!",{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#006B2E"}),this.feedbackHeader.setOrigin(0,.5),this.feedbackHeader.setDepth(22),this.feedbackHeader.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.feedbackText=this.add.text(i/2,.57*a,this.currentQuestion.explanation,{fontFamily:"AvenirNextRegular",fontSize:32*this.scaleFactor,color:"#006B2E",align:"left",lineSpacing:10,wordWrap:{width:.7*i}}),this.feedbackText.setOrigin(0,0),this.feedbackText.setDepth(22),this.feedbackText.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.continueButton=this.add.image(i/2,.65*a,"speel"),this.continueButton.setOrigin(.5),this.continueButton.setDepth(22).setScale(2*this.scaleFactor),this.continueButton.y=.85*a,this.continueButton&&(this.continueButton.setInteractive({useHandCursor:!0}),this.addButtonClickEffects(this.continueButton,1.8*this.scaleFactor,1.7*this.scaleFactor),this.continueButton.on("pointerup",(()=>{this.continueButton.setScale(1.8*this.scaleFactor),this.continueButton.clearTint(),this.disableShowQuiz=!1,this.continueButton.disableInteractive(),this.resumeGame()}))),this.lastAnswerCorrect=t,this.correctAnswers||(this.correctAnswers=0),t){this.correctAnswers++,this.score+=25,this.scoreText&&this.scoreText.setText(`Score: ${this.score}`);const t=this.cameras.main.width,e=this.cameras.main.height;this.showFloatingScore(t/2,.4*e,25)}this.swatter.setScale(3)}resumeGame(){if(this.continueButton&&this.continueButton.disableInteractive(),this.continueButton&&(this.continueButton.x=3*this.canvasWidth),this.quizOverlay&&this.quizOverlay.destroy(),this.quizCard&&this.quizCard.destroy(),this.quizHeaderBg&&this.quizHeaderBg.destroy(),this.quizHeader&&this.quizHeader.destroy(),this.quizQuestion&&this.quizQuestion.destroy(),this.quizExplanation&&this.quizExplanation.destroy(),this.trueButton&&this.trueButton.destroy(),this.falseButton&&this.falseButton.destroy(),this.quizScore&&this.quizScore.destroy(),this.feedbackHeader&&this.feedbackHeader.destroy(),this.feedbackText&&this.feedbackText.destroy(),this.continueButton&&this.continueButton.destroy(),this.quizActive=!1,this.quizRound>=3){const t=this.correctAnswers&&this.correctAnswers>0,e=this.score>50,s=!(t&&e);this.scorePage(s)}else this.quizRound++,this.mosquitosHit=0,this.mosquitos.forEach((t=>{t.pausedMoving&&(t.moving=!0,t.pausedMoving=!1)})),this.mosquitoTimer&&(this.mosquitoTimer.paused=!1),this.ladybugTimer&&(this.ladybugTimer.paused=!1),this.swatter&&this.swatter.setVisible(!0),this.input.enabled=!0}scorePage(t=!1){if(this.fnfetchAPI(window.trackingType+"PlayableCompleted"),this.hellasbool=t,this.cleanup(),this.input.off("pointerup"),this.input.off("pointerdown"),this.gameTimerText&&(this.gameTimerText.destroy(),this.gameTimerText=null),this.timerEvent&&(this.timerEvent.remove(),this.timerEvent=null),this.time.clearPendingEvents(),this.mosquitos&&this.mosquitos.length>0){for(let t=this.mosquitos.length-1;t>=0;t--)this.mosquitos[t]&&this.mosquitos[t].destroy&&this.mosquitos[t].destroy();this.mosquitos=[]}this.tweens.add({targets:this.logo,x:.5*this.canvasWidth,y:.2*this.canvasHeight,scale:.9*this.scaleFactor,duration:800,ease:"Power2"}),this.mosquitoTimer&&this.mosquitoTimer.remove&&(this.mosquitoTimer.remove(),this.mosquitoTimer=null),this.ladybugTimer&&this.ladybugTimer.remove&&(this.ladybugTimer.remove(),this.ladybugTimer=null),this.swatter&&this.swatter.setVisible(!1),this.physics&&this.physics.pause&&this.physics.pause();const{canvasWidth:e,canvasHeight:a}=s(this);if(this.background1=this.add.image(e/2,a/2,"background"),this.background1.setOrigin(.5),this.background1.setScale(2.2*this.scaleFactor).setDepth(100),this.tweens.add({targets:this.logo,y:.2*a,duration:800,ease:"Power2"}),this.bekijk=this.add.image(e/2,1.2*a,"bekijk").setOrigin(.5).setDepth(101).setScale(2*this.scaleFactor),this.tweens.add({targets:this.bekijk,y:.85*a,duration:800,ease:"Power2",onComplete:()=>{console.log("Pointer up4"),this.bekijk.setInteractive({useHandCursor:!0})}}),t=!1)this.bekijk.on("pointerdown",(()=>{this.canClickPageButton&&(this.input.enabled=!1,this.bekijk.setScale(1.75*this.scaleFactor),this.scene.start("GameOver"))})),this.bekijk.setTexture("begin"),this.add.text(e/2,.45*a,"Helaas!",{fontFamily:"AvenirNextBold",fontSize:80*this.scaleFactor,color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(101),this.add.text(e/2,.6*a,"Je mepte het \nlieveheersbeestje",{fontFamily:"AvenirNextRegular",fontSize:45*this.scaleFactor,color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(101);else{this.spellOpnieuw=this.add.image(e/2,.9*a,"spellOpnieuw"),this.spellOpnieuw.setOrigin(.5).setDepth(101),this.spellOpnieuw.setScale(2*this.scaleFactor).setAlpha(0),this.tweens.add({targets:this.spellOpnieuw,alpha:1,duration:1e3,ease:"Power2"});var o=this;document.getElementById("ontryagainButton").onclick=()=>{o.canClickPageButton&&(o.input.enabled=!1,this.fnfetchAPI(window.trackingType+"TryAgain"),i.istryagain=!0,document.getElementById("ontryagainButton").style.zIndex=-1,document.getElementById("ontryagainButton").style.width="0%",document.getElementById("ontryagainButton").style.height="0%",document.getElementById("openctaButton").style.zIndex=-1,document.getElementById("openctaButton").style.width="0%",document.getElementById("openctaButton").style.height="0%",o.scene.start("GameOver"))},this.bekijk.on("pointerdown",(()=>{this.canClickPageButton&&(this.input.enabled=!1,this.bekijk.setScale(1.75*this.scaleFactor))})),document.getElementById("openctaButton").style.zIndex=1,document.getElementById("openctaButton").style.width="100%",document.getElementById("openctaButton").style.height="88%",document.getElementById("ontryagainButton").style.zIndex=1,document.getElementById("ontryagainButton").style.width="100%",document.getElementById("ontryagainButton").style.height="12%",this.add.text(e/2,.425*a,"Goed gedaan!",{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#ffffff"}).setOrigin(.5).setDepth(101),this.add.text(e/2,.5*a,"Jouw score",{fontFamily:"AvenirNextRegular",fontSize:45*this.scaleFactor,color:"#ffffff"}).setOrigin(.5).setDepth(101),this.add.text(e/2,.665*a,`${this.score}`,{fontFamily:"AvenirNextBold",fontSize:155*this.scaleFactor,color:"#ffffff"}).setOrigin(.5).setDepth(101)}this.pageCount=4,this.tweens.add({targets:this.bekijk,y:t?.88*a:.82*a,duration:800,ease:"Power2",onComplete:()=>{this.bekijk.setInteractive({useHandCursor:!0}),this.bekijk.on("pointerout",(()=>{this.bekijk.setScale(1.85*this.scaleFactor),this.bekijk.clearTint()})),this.tweens.add({targets:this.bekijk,scale:1.85*this.scaleFactor,duration:800,ease:"Power2"})}}),this.careplusproduct=this.add.image(.825*this.canvasWidth,t?.92*this.canvasHeight:.83*this.canvasHeight,"careplusproduct"),this.careplusproduct.setDepth(1e5),this.careplusproduct.setScale(t?.225*this.scaleFactor:.3*this.scaleFactor).setOrigin(.5,1),this.careplusproduct.alpha=0,this.tweens.add({targets:this.careplusproduct,alpha:1,duration:800,ease:"Power2"})}resetGame(){this.score=0,this.mosquitosHit=0,this.isMenuActive=!1,this.gameHasEnded=!1,this.mosquitoCount=0,this.ladybugCount=0,this.mosquitoTimer&&this.mosquitoTimer.remove(),this.ladybugTimer&&this.ladybugTimer.remove(),this.hasEnded=!1,this.pageCount=1,this.quizRound=1,this.lastAnswerCorrect=!1,this.quizActive=!1,this.correctAnswers=0,this.usedQuestionIds=[],this.mosquitos=[],this.input.enabled=!0}cleanup(){this.mosquitoTimer&&this.mosquitoTimer.destroy(),this.ladybugTimer&&this.ladybugTimer.destroy(),this.gameTimerText&&(this.gameTimerText.destroy(),this.gameTimerText=null),this.timerEvent&&(this.timerEvent.remove(),this.timerEvent=null),this.mosquitos.forEach((t=>{t&&t.sprite&&t.sprite.destroy()})),this.swatter&&this.swatter.setVisible(!1),this.mosquitos=[]}finalPage(){}spawnMosquitoes(t){const{canvasWidth:e,canvasHeight:i}=s(this),a=new Phaser.Geom.Rectangle(0,0,e,i);this.mosquitos||(this.mosquitos=[]);for(let s=0;s<t;s++){const t=this.add.image(Phaser.Math.Between(a.x,a.x+a.width),Phaser.Math.Between(a.y,a.y+a.height),"mosquito"),e=Phaser.Math.FloatBetween(1.4,2);t.setScale(e),t.setOrigin(.5).setDepth(1),t.isLadybug=!1,t.scale=e,t.pointValue=Math.floor(2/e*10),t.prevX=t.x,t.prevY=t.y,t.targetX=null,t.targetY=null,t.moving=!0,t.moveSpeed=Phaser.Math.Between(120,180),t.rotationSpeed=.05,t.targetX=Phaser.Math.Between(a.x,a.x+a.width),t.targetY=Phaser.Math.Between(a.y,a.y+a.height);const s=Phaser.Math.Angle.Between(t.x,t.y,t.targetX,t.targetY);t.rotation=s+Math.PI/2,this.mosquitos.push(t)}}spawnSingleMosquito(){const{canvasWidth:t,canvasHeight:e}=s(this),i=this.add.image(Phaser.Math.Between(0,t),Phaser.Math.Between(0,e),"mosquito"),a=Phaser.Math.FloatBetween(1.4,2.4);i.setScale(a),i.setOrigin(.5).setDepth(1),i.isLadybug=!1,i.scale=a,i.pointValue=Math.floor(2/a*10),i.prevX=i.x,i.prevY=i.y,i.targetX=null,i.targetY=null,i.moving=!0,i.moveSpeed=Phaser.Math.Between(120,180),i.rotationSpeed=.05,i.targetX=Phaser.Math.Between(0,t),i.targetY=Phaser.Math.Between(0,e);const o=Phaser.Math.Angle.Between(i.x,i.y,i.targetX,i.targetY);return i.rotation=o+Math.PI/2,this.mosquitos.push(i),this.mosquitoCount++,i}spawnMosquitoFromEdge(){if(this.mosquitoCount>=this.maxMosquitoes)return;const{canvasWidth:t,canvasHeight:e}=s(this);let i,a;switch(Phaser.Math.Between(0,3)){case 0:i=Phaser.Math.Between(0,t),a=-50;break;case 1:i=t+50,a=Phaser.Math.Between(0,e);break;case 2:i=Phaser.Math.Between(0,t),a=e+50;break;case 3:i=-50,a=Phaser.Math.Between(0,e)}const o=this.add.image(i,a,"mosquito"),n=Phaser.Math.FloatBetween(1.4,2.4);o.setScale(n),o.setOrigin(.5).setDepth(1),o.isLadybug=!1,o.scale=n,o.pointValue=Math.floor(2/n*10),o.prevX=o.x,o.prevY=o.y,o.moving=!0,o.moveSpeed=Phaser.Math.Between(120,180),o.rotationSpeed=.05,o.targetX=Phaser.Math.Between(.2*t,.8*t),o.targetY=Phaser.Math.Between(.2*e,.8*e);const h=Phaser.Math.Angle.Between(o.x,o.y,o.targetX,o.targetY);return o.rotation=h+Math.PI/2,this.mosquitos.push(o),this.mosquitoCount++,o}spawnLadybugFromEdge(){if(this.ladybugCount>=this.maxLadybugs)return;const{canvasWidth:t,canvasHeight:e}=s(this);let i,a;switch(Phaser.Math.Between(0,3)){case 0:i=Phaser.Math.Between(0,t),a=-50;break;case 1:i=t+50,a=Phaser.Math.Between(0,e);break;case 2:i=Phaser.Math.Between(0,t),a=e+50;break;case 3:i=-50,a=Phaser.Math.Between(0,e)}const o=this.add.image(i,a,"bug");o.setScale(1.6),o.setOrigin(.5).setDepth(1),o.isLadybug=!0,o.prevX=o.x,o.prevY=o.y,o.moving=!0,o.moveSpeed=100,o.rotationSpeed=.05,o.targetX=Phaser.Math.Between(.2*t,.8*t),o.targetY=Phaser.Math.Between(.2*e,.8*e);const n=Phaser.Math.Angle.Between(o.x,o.y,o.targetX,o.targetY);return o.rotation=n+Math.PI/2,this.mosquitos.push(o),this.ladybugCount++,o}spawnLadybug(){const{canvasWidth:t,canvasHeight:e}=s(this),i=this.add.image(Phaser.Math.Between(0,t),Phaser.Math.Between(0,e),"bug");i.setScale(1.6),i.setOrigin(.5).setDepth(1),i.isLadybug=!0,i.prevX=i.x,i.prevY=i.y,i.targetX=null,i.targetY=null,i.moving=!0,i.moveSpeed=100,i.rotationSpeed=.05,i.targetX=Phaser.Math.Between(0,t),i.targetY=Phaser.Math.Between(0,e);const a=Phaser.Math.Angle.Between(i.x,i.y,i.targetX,i.targetY);i.rotation=a+Math.PI/2,this.mosquitos.push(i)}playSwatAnimation(t,e){console.log("Swat animation : ",t,e);this.tweens.add({targets:this.swatter,rotation:.25,scale:3*1.1,duration:70,ease:"Power1",onComplete:()=>{this.tweens.add({targets:this.swatter,rotation:1.05,scale:2.7,duration:100,ease:"Power3",onComplete:()=>{this.tweens.add({targets:this.swatter,rotation:.75,scale:3,duration:150,ease:"Elastic"})}})}}),this.cameras.main.flash(100,255,255,255,.3),this.cameras.main.shake(100,.005)}showFloatingScore(t,e,s){const i=s>=0?"#ffffff":"#ff0000",a=s>=0?"+":"",o=this.scaleFactor||1,n=this.add.text(t,e,`${a}${s}`,{fontFamily:"AvenirNextBold",fontSize:48*o,color:i}).setOrigin(.5).setDepth(50);this.tweens.add({targets:n,y:e-100,alpha:0,duration:1500,ease:"Power2",onComplete:()=>{n.destroy()}})}checkForHits(t,e){for(let s=0;s<this.mosquitos.length;s++){const i=this.mosquitos[s];if(Phaser.Math.Distance.Between(t,e,i.x,i.y)<80){if(i.isLadybug)return this.ladybugCount--,this.score-=20,this.score<0&&(this.score=0),this.scoreText.setText(`Score: ${this.score}`),this.showFloatingScore(t,e,-20),this.sound.get("ladybugSound")&&this.sound.play("ladybugSound"),this.cameras.main.flash(500,255,0,0,!0),this.cameras.main.shake(200,.02),i.destroy(),void this.mosquitos.splice(s,1);{this.score+=i.pointValue,this.scoreText.setText(`Score: ${this.score}`),this.showFloatingScore(t,e,i.pointValue),this.mosquitosHit++,i.moving=!1,i.setTint(16711680);for(let t=0;t<15;t++){const t=this.add.graphics();t.fillStyle(16711680,.9);const e=Phaser.Math.Between(4,10);t.fillCircle(0,0,e),t.x=i.x,t.y=i.y,t.setDepth(15),t.lineStyle(1,10027008,1),t.strokeCircle(0,0,e),this.tweens.add({targets:t,x:i.x+Phaser.Math.Between(-80,80),y:i.y+Phaser.Math.Between(-80,80),alpha:{from:1,to:0},scale:{from:Phaser.Math.FloatBetween(.8,1.5),to:.3},duration:Phaser.Math.Between(400,700),ease:"Cubic.easeOut",onComplete:()=>{t.destroy()}})}const s=this.add.graphics();s.fillStyle(16711680,1),s.fillCircle(0,0,15),s.x=i.x,s.y=i.y,s.setDepth(15),this.tweens.add({targets:s,alpha:0,scale:1.5,duration:200,onComplete:()=>{s.destroy()}}),this.tweens.add({targets:i,alpha:0,scale:.5*i.scale,duration:200,onComplete:()=>{const t=this.mosquitos.indexOf(i);t>-1&&(this.mosquitos.splice(t,1),this.mosquitoCount--,i.destroy())}})}}}}update(t,e){if(!this.mosquitos||0===this.mosquitos.length)return;const{canvasWidth:i,canvasHeight:a}=s(this),o=e/1e3;for(let s=this.mosquitos.length-1;s>=0;s--){const t=this.mosquitos[s];if(!t.moving)continue;t.prevX=t.x,t.prevY=t.y,Phaser.Math.Distance.Between(t.x,t.y,t.targetX,t.targetY)<10&&(t.targetX=Phaser.Math.Between(0,i),t.targetY=Phaser.Math.Between(0,a));const e=Phaser.Math.Angle.Between(t.x,t.y,t.targetX,t.targetY);let n=t.rotation-Math.PI/2;for(;n<-Math.PI;)n+=2*Math.PI;for(;n>Math.PI;)n-=2*Math.PI;let h=e-n;for(;h<-Math.PI;)h+=2*Math.PI;for(;h>Math.PI;)h-=2*Math.PI;Math.abs(h)>.05&&(h>0?n+=t.rotationSpeed:n-=t.rotationSpeed),t.rotation=n+Math.PI/2;const r=t.isLadybug?.8:1,l=t.moveSpeed*o*r;t.x+=Math.cos(n)*l,t.y+=Math.sin(n)*l;const c=100;(t.x<-100||t.x>i+c||t.y<-100||t.y>a+c)&&(this.isHeadingTowardScreen(t,i,a)||(this.mosquitos.splice(s,1),t.isLadybug?this.ladybugCount--:this.mosquitoCount--,t.destroy()))}}isHeadingTowardScreen(t,e,s){const i=t.rotation-Math.PI/2,a=Math.cos(i),o=Math.sin(i);return t.x<-50&&a>0||t.x>e+50&&a<0||t.y<-50&&o>0||t.y>s+50&&o<0}}class o extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:e,scaleFactor:i,topMarginOffset:a,leftMarginOffsetPercentage:o,isMobileDevice:n,isIphoneDevice:h}=s(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=i}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"",{fontFamily:"PoppinsSemiBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,s=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=s,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{})),this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("logo","logo.png"),this.load.image("btn1","btn1.png"),this.load.image("mosquito","mosquito.png"),this.load.image("bug","bug.png"),this.load.image("mep1","mep1.png"),this.load.image("mep2","mep2.png"),this.load.image("dialog","dialog.png"),this.load.image("waar","waar.png"),this.load.image("onwaar","onwaar.png"),this.load.image("speel","speel.png"),this.load.image("bekijk","bekijk.png"),this.load.image("begin","begin.png"),this.load.image("careplusproduct","careplusproduct.png"),this.load.image("spellOpnieuw","spellOpnieuw.png")}create(){console.log(document.querySelector("#game-container canvas").style.width),console.log(document.querySelector("#game-container canvas").style.height),document.getElementById("btnPosID").style.width=document.querySelector("#game-container canvas").style.width,document.getElementById("btnPosID").style.height=document.querySelector("#game-container canvas").style.height,this.scene.start("MainMenu")}}class n extends t.Scene{constructor(){super("GameOver")}create(){this.scene.start("MainMenu")}}const h={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,o,a,n]};new Phaser.Game(h);
