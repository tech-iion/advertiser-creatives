import{p as t}from"./phaser-C2RWnc_5.js";function i(t,i){const e=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),a=window.innerWidth,h=window.innerHeight;let n,o;n=t.game.canvas.width,o=t.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],l=Math.abs(parseFloat(r.style.marginTop||0))/a*n+(s?130:0),d=Math.abs(parseFloat(r.style.marginLeft||0))/h*o;let g=h/(a+2*d)*.85;return e?{canvasWidth:n,canvasHeight:o,scaleFactor:g,topMarginOffset:l,leftMarginOffsetPercentage:d,isMobileDevice:e,isIphoneDevice:s}:(g=1.4,{canvasWidth:n,canvasHeight:o,scaleFactor:g,topMarginOffset:0,leftMarginOffsetPercentage:0})}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t of e.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&i(t)})).observe(document,{childList:!0,subtree:!0})}function i(t){if(t.ep)return;t.ep=!0;const i=function(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?i.credentials="include":"anonymous"===t.crossOrigin?i.credentials="omit":i.credentials="same-origin",i}(t);fetch(t.href,i)}}();var e={option:0};class s extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}shuffleArray(t){for(let i=t.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[t[i],t[e]]=[t[e],t[i]]}return t}create(){this.startTime=Date.now();const{canvasWidth:t,canvasHeight:s,scaleFactor1:a,topMarginOffset:h,leftMarginOffsetPercentage:n,isMobileDevice:o,isIphoneDevice:r}=i(this);this.optxt1="",this.optxt2="",this.optxt3="","op1"===window.option&&(this.optxt1="Belangrijke melding",this.optxt2="Binnen 12 uur",this.optxt3="Betaallink"),"op2"===window.option&&(this.optxt1="Nimbus air",this.optxt2="Binnen 24 uur",this.optxt3="Link naar feedback formulier"),"op3"===window.option&&(this.optxt1="the word direct",this.optxt2="the link and:",this.optxt3="binnen 15 minuten"),"op4"===window.option&&(this.optxt1="the word Vanavond",this.optxt2="buiten het platform om",this.optxt3="the paylink"),this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=1.4,this.TIMER_DURATION=1e4,this.timerActive=!1,this.timerTween=null,this.bg=this.add.image(.5*t,.5*s,"bg"),this.bg.setOrigin(.5).setDepth(1),this.bg.setScale(1.1*this.scaleFactor),this.bg.alpha=1,this.logo=this.add.image(.5*t,0*s,"logo"),this.logo.setOrigin(0,0).setDepth(5),this.logo.setScale(.2*this.scaleFactor),this.logo.alpha=1,this.logo.x=.425*this.canvasWidth,this.tweens.add({targets:this.logo,scale:.2*this.scaleFactor,duration:1500,ease:"Expo.Out"}),this.notifyTxt=this.add.text(.5*t,.5*s,"Je ontvangt een bericht \nvan een pakketdienst......\nlijkt echt, maar klopt het?",{fontFamily:"rBold",fontSize:45*this.scaleFactor,color:"#FFFFFF",align:"center"}).setDepth(1).setOrigin(.5).setAlpha(0),console.log(e.option.split("op")[1]);var l=parseInt(e.option.split("op")[1]);2==l&&(this.notifyTxt.text="Je ontvangt een bericht \nvan een luchtvaartmaatschappij...\nlijkt echt, maar klopt het?"),3==l&&(this.notifyTxt.text="Je ontvangt een bericht \nvan IT support......\nlijkt echt, maar klopt het?"),4==l&&(this.notifyTxt.text="Je ontvangt een bericht van \nje aankoop via een \ntweedehands platform......\nlijkt echt, maar klopt het?"),this.notifyTxt2=this.add.text(.5*t,.6*s,"Sleep de red flags naar de verdachte  \nsituaties in dit bericht, je hebt 10 seconden.",{fontFamily:"rBold",fontSize:35*this.scaleFactor,color:"#FFFFFF",align:"center"}).setDepth(1).setOrigin(.5).setAlpha(0),this.tweens.add({targets:this.notifyTxt,alpha:1,duration:1e3,ease:"Expo.Out",delay:500}),this.txt1=this.add.image(.5*t,1.25*s,"txt1"),this.txt1.setOrigin(.5).setDepth(1),this.txt1.setScale(1.1*this.scaleFactor),this.txt1.alpha=1,this.tweens.add({targets:this.txt1,y:.8*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:500}),this.txt2=this.add.image(.5*t,1.25*s,"txt2"),this.txt2.setOrigin(.5).setDepth(1),this.txt2.setScale(1.1*this.scaleFactor),this.txt2.alpha=1,this.txt3=this.add.image(.5*t,1.25*s,"txt3"),this.txt3.setOrigin(.5).setDepth(1),this.txt3.setScale(1.1*this.scaleFactor),this.txt3.alpha=1,this.txt4=this.add.image(.5*t,1.25*s,"bgflag"),this.txt4.setOrigin(.5).setDepth(1),this.txt4.setScale(1.1*this.scaleFactor),this.txt4.alpha=1,this.redflag=this.add.image(.55*t,1.25*s,"redflag"),this.redflag.setOrigin(.5).setDepth(1),this.redflag.setScale(1.1*this.scaleFactor),this.redflag.alpha=1,this.tappedOptionsCount=0,setTimeout((()=>{this.tweens.add({targets:this.notifyTxt,alpha:0,duration:1500,ease:"Expo.Out",delay:800}),this.tweens.add({targets:this.txt1,y:.25*this.canvasHeight,duration:800,ease:"Expo.Out",delay:2e3}),this.tweens.add({targets:this.txt2,y:.525*this.canvasHeight,duration:800,ease:"Expo.Out",delay:2500}),setTimeout((()=>{this.notifyTxt.setText("Kun jij de red flags herkennen?"),this.notifyTxt.y=.77*this.canvasHeight,this.tweens.add({targets:this.notifyTxt,alpha:1,duration:1800,ease:"Expo.Out",delay:1e3}),this.tweens.add({targets:this.txt3,y:.9*this.canvasHeight,duration:800,ease:"Expo.Out",delay:1500,onComplete:()=>{this.tweens.add({targets:this.txt3,scale:1.05*this.scaleFactor,duration:800,ease:"Expo.Out",delay:1500,yoyo:!0,repeat:-1}),this.input.on("pointerdown",(()=>{this.input.off("pointerdown"),this.openQuiz()}))}})}),2e3)}),5e3)}openQuiz(){this.fnfetchAPI(window.trackingType+"StartQuiz"),this.tweens.add({targets:this.txt3,y:1.25*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.notifyTxt,alpha:0,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.txt1,alpha:0,y:.1*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.txt2,y:.35*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400}),this.tweens.add({targets:this.notifyTxt2,alpha:1,duration:1200,ease:"Expo.Out",delay:600}),this.tweens.add({targets:this.txt4,y:.76*this.canvasHeight,duration:1200,ease:"Expo.Out",delay:400,onComplete:()=>{this.addredflags()}})}addredflags(){this.redflag1=this.add.image(this.txt4.x,this.txt4.y+.03*this.txt4.displayHeight,"redflag"),this.redflag1.setOrigin(.5).setDepth(100),this.redflag1.setScale(1.1*this.scaleFactor),this.redflag1.alpha=1,this.redflag1.setInteractive({draggable:!0}),this.redflag2=this.add.image(this.redflag1.x-1.2*this.redflag1.displayWidth,this.txt4.y+.03*this.txt4.displayHeight,"redflag"),this.redflag2.setOrigin(.5).setDepth(100),this.redflag2.setScale(1.1*this.scaleFactor),this.redflag2.alpha=1,this.redflag2.setInteractive({draggable:!0}),this.redflag3=this.add.image(this.redflag1.x+1.2*this.redflag1.displayWidth,this.txt4.y+.03*this.txt4.displayHeight,"redflag"),this.redflag3.setOrigin(.5).setDepth(100),this.redflag3.setScale(1.1*this.scaleFactor),this.redflag3.alpha=1,this.redflag3.setInteractive({draggable:!0}),this.redflag1.originalX=this.redflag1.x,this.redflag1.originalY=this.redflag1.y,this.redflag2.originalX=this.redflag2.x,this.redflag2.originalY=this.redflag2.y,this.redflag3.originalX=this.redflag3.x,this.redflag3.originalY=this.redflag3.y,this.createDropZones(),this.setupDragAndDrop(),setTimeout((()=>{this.showHandTutorial()}),1e3),setTimeout((()=>{this.createTimerProgressBar(),this.startFlagTimer()}),1500)}createDropZones(){this.dropZone={x:.3*this.canvasWidth,y:.3*this.canvasHeight,width:.4*this.canvasWidth,height:.15*this.canvasHeight},this.availableTextKeys=["txt2_1","txt2_2","txt2_3"],this.flagPositions=[{x:this.txt2.x-.2*this.txt2.displayWidth,y:this.txt2.y-.3*this.txt2.displayHeight},{x:this.txt2.x+.3*this.txt2.displayWidth,y:this.txt2.y-.1*this.txt2.displayHeight},{x:this.txt2.x,y:this.txt2.y+.1*this.txt2.displayHeight}],"op2"===e.option&&(this.flagPositions=[{x:this.txt2.x-.2*this.txt2.displayWidth,y:this.txt2.y-.155*this.txt2.displayHeight},{x:this.txt2.x+.335*this.txt2.displayWidth,y:this.txt2.y-.055*this.txt2.displayHeight},{x:this.txt2.x,y:this.txt2.y+.1*this.txt2.displayHeight}]),"op3"===e.option&&(this.flagPositions=[{x:this.txt2.x+.25*this.txt2.displayWidth,y:this.txt2.y-.15*this.txt2.displayHeight},{x:this.txt2.x-.1*this.txt2.displayWidth,y:this.txt2.y},{x:this.txt2.x+.1*this.txt2.displayWidth,y:this.txt2.y}]),"op4"===e.option&&(this.flagPositions=[{x:this.txt2.x-.1*this.txt2.displayWidth,y:this.txt2.y-.25*this.txt2.displayHeight},{x:this.txt2.x+.335*this.txt2.displayWidth,y:this.txt2.y-.15*this.txt2.displayHeight},{x:this.txt2.x,y:this.txt2.y+.1*this.txt2.displayHeight}])}showHandTutorial(){this.tutorialHand=this.add.image(this.redflag1.x-0*this.scaleFactor,this.bg.y+.3*this.bg.displayHeight,"hand"),this.tutorialHand.setOrigin(.5).setDepth(2500),this.tutorialHand.setScale(1*this.scaleFactor),this.tutorialHand.alpha=0,this.tweens.add({targets:this.tutorialHand,alpha:1,duration:250,ease:"Expo.Out",onComplete:()=>{this.animateDragTutorial()}})}animateDragTutorial(){this.tutorialHand&&(this.tweens.add({targets:this.tutorialHand,x:this.txt2.x,y:this.txt2.y,duration:1500,delay:800,ease:"Power2.out",repeat:3,onComplete:()=>{this.tutorialHand&&this.tweens.add({targets:this.tutorialHand,alpha:0,duration:500,ease:"Expo.Out",onComplete:()=>{this.tutorialHand&&(this.tutorialHand.destroy(),this.tutorialHand=null)}})}}),this.tweens.add({targets:this.tutorialHand,scaleX:.9*this.scaleFactor,scaleY:.9*this.scaleFactor,duration:1500,ease:"Sine.inOut",yoyo:!0,repeat:3}))}setupDragAndDrop(){this.input.on("dragstart",((t,i)=>{i.setDepth(20),i.setTint(16737894),this.tutorialHand&&(this.tutorialHand.destroy(),this.tutorialHand=null)})),this.input.on("drag",((t,i,e,s)=>{i.x=e,i.y=s})),this.input.on("dragend",((t,i)=>{i.setDepth(10),i.clearTint();let e=!1;if(this.dropZone&&this.availableTextKeys.length>0){const t={left:this.dropZone.x,right:this.dropZone.x+this.dropZone.width,top:this.dropZone.y,bottom:this.dropZone.y+this.dropZone.height},s={left:i.x-i.displayWidth/2,right:i.x+i.displayWidth/2,top:i.y-i.displayHeight/2,bottom:i.y+i.displayHeight/2};e=s.left<t.right&&s.right>t.left&&s.top<t.bottom&&s.bottom>t.top}e&&this.handleFlagDrop(i)}))}isInDropZone(t,i){const e=t.x-t.displayWidth/2,s=t.x+t.displayWidth/2,a=t.y-t.displayHeight/2,h=t.y+t.displayHeight/2,n=i.x-i.width/2,o=i.x+i.width/2,r=i.y-i.height/2,l=i.y+i.height/2;return e<o&&s>n&&a<l&&h>r}handleFlagDrop(t,i=!1){t.disableInteractive();const e=this.availableTextKeys.shift(),s=this.flagPositions.shift();this.tweens.add({targets:t,x:s.x,y:s.y,scale:.6*this.scaleFactor,duration:500,ease:"Back.out",onComplete:()=>{this[e]=this.add.image(this.txt2.x,this.txt2.y,e),this[e].setOrigin(.5).setDepth(115),this[e].setScale(1.1*this.scaleFactor),this[e].alpha=1,this.tappedOptionsCount++,i||this.fnfetchAPI(window.trackingType+"FlagDropped"+this.tappedOptionsCount),3===this.tappedOptionsCount&&(this.stopTimer(),setTimeout((()=>{this.finalAnimations()}),3e3))}})}finalAnimations(){console.log("finalAnimations"),this.txt2_1&&this.tweens.add({targets:this.txt2_1,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.txt2_2&&this.tweens.add({targets:this.txt2_2,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.txt2_3&&this.tweens.add({targets:this.txt2_3,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.notifyTxt2&&this.tweens.add({targets:this.notifyTxt2,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.redflag1&&this.tweens.add({targets:this.redflag1,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.redflag2&&this.tweens.add({targets:this.redflag2,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.redflag3&&this.tweens.add({targets:this.redflag3,alpha:0,duration:1e3,ease:"Expo.Out",delay:200}),this.tweens.add({targets:this.txt2,alpha:0,y:.1*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),this.tweens.add({targets:this.txt4,alpha:0,y:1.3*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:200}),setTimeout((()=>{this.txt5=this.add.image(.5*this.canvasWidth,2.25*this.canvasHeight,"txt5"),this.txt5.setOrigin(.5).setDepth(1),this.txt5.setScale(1.1*this.scaleFactor),this.txt5.alpha=1,this.tweens.add({targets:this.txt5,y:.45*this.canvasHeight,duration:1e3,ease:"Expo.Out",delay:500,onComplete:()=>{this.flag2=this.add.image(.3*this.canvasWidth,.95*this.canvasHeight,"flag2"),this.flag2.setAngle(-5),this.flag2.setOrigin(.5).setDepth(1),this.flag2.setScale(.5*this.scaleFactor),this.flag2.alpha=1,this.tweens.add({targets:this.flag2,angle:0,duration:1e3,ease:"Expo.Out",delay:0,onComplete:()=>{}}),this.tweens.add({targets:this.txt5,alpha:0,duration:500,ease:"Expo.Out",delay:4500,onComplete:()=>{this.fnfetchAPI(window.trackingType+"FinalMessageDisplayed"),this.txt6=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt6"),this.txt6.setOrigin(.5).setDepth(10),this.txt6.setScale(1.1*this.scaleFactor),this.txt6.alpha=1,this.txt7=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt7"),this.txt7.setOrigin(.5).setDepth(10),this.txt7.setScale(1.1*this.scaleFactor),this.txt7.alpha=1,this.txt8=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt8"),this.txt8.setOrigin(.5).setDepth(10),this.txt8.setScale(1.1*this.scaleFactor),this.txt8.alpha=1,this.txt9=this.add.image(.5*this.canvasWidth,.35*-this.canvasHeight,"txt9"),this.txt9.setOrigin(.5).setDepth(10),this.txt9.setScale(1.1*this.scaleFactor),this.txt9.alpha=1,this.playAnimationInStyle()}})}})}),1e3)}loopmsg(t,i){console.log("loopmsg"),t.y=.35*this.canvasHeight,i.y=.35*this.canvasHeight,t.setAlpha(1),i.setAlpha(1),t.setDepth(i.depth-1),i.setScale(.7*this.scaleFactor),this.tweens.add({targets:t,y:t.y-i.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{this.tweens.add({targets:t,scale:.7*this.scaleFactor,y:t.y+i.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{}})}}),this.tweens.add({targets:i,y:i.y+i.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{i.setDepth(t.depth+1),this.tweens.add({targets:i,scale:1.1*this.scaleFactor,y:i.y-i.displayHeight,duration:700,ease:"Expo.Out",delay:0,onComplete:()=>{t.setAlpha(0)}})}})}playAnimationInStyle(){console.log("playAnimationInStyle"),this.txt6.y=.35*this.canvasHeight,this.txt7.y=.35*this.canvasHeight,this.txt8.y=.35*this.canvasHeight,this.txt9.y=2.25*this.canvasHeight,this.txt6.setAlpha(0),this.txt7.setAlpha(0),this.txt8.setAlpha(0),this.txt9.setAlpha(1),this.txt7.setDepth(this.txt6.depth-1),this.txt8.setDepth(this.txt6.depth-2),this.txt9.setDepth(this.txt6.depth-3),this.txt7.setScale(.7*this.scaleFactor),this.txt8.setScale(.7*this.scaleFactor),this.tweens.add({targets:this.txt6,alpha:1,duration:500,ease:"Expo.Out",delay:0,onComplete:()=>{this.loopmsg(this.txt6,this.txt7),setTimeout((()=>{this.loopmsg(this.txt7,this.txt8),setTimeout((()=>{this.tweens.add({targets:this.flag2,x:.7*this.canvasWidth,y:.85*this.canvasHeight,scale:.5*this.scaleFactor,angle:40,duration:1e3,ease:"Expo.Out",delay:400,onComplete:()=>{}}),this.tweens.add({targets:this.txt9,y:this.txt8.y+this.txt8.displayHeight,scale:1.3*this.scaleFactor,duration:1500,ease:"Expo.Out",delay:300,onComplete:()=>{}}),this.tweens.add({targets:this.txt8,y:this.txt8.x-.7*this.txt8.displayHeight,scale:.9*this.scaleFactor,duration:1500,ease:"Expo.Out",delay:300,onComplete:()=>{this.endTime=Date.now();const t=Math.round((this.endTime-this.startTime)/1e3),i=Math.floor(t/60),e=t%60;this.timeSpent=`${i.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`,setTimeout((()=>{this.timeText=this.add.text(.5*-this.canvasWidth,.75*this.canvasHeight,this.timeSpent,{fontFamily:"rBold",fontSize:40*this.scaleFactor,color:"#FFFFFF",align:"center"}),this.timeText.setOrigin(.5).setDepth(10).setAlpha(0),this.tweens.add({targets:this.timeText,alpha:1,duration:1500,ease:"Expo.Out"}),this.cta=this.add.image(.5*this.canvasWidth,.85*this.canvasHeight,"cta"),this.cta.setOrigin(.5).setDepth(10).setAlpha(0),this.tweens.add({targets:this.cta,alpha:1,duration:1500,ease:"Expo.Out"})}),0),this.fnfetchAPI(window.trackingType+"PlayableComplete"),this.input.on("pointerdown",(()=>{window.open(window.landingPageUrl,"_blank")}))}})}),3500)}),3500)}})}createTimerProgressBar(){console.log("createTimerProgressBar");const t=.7*this.canvasWidth,i=15*this.scaleFactor,e=.5*this.canvasWidth,s=.93*this.canvasHeight;this.timerBarBg=this.add.graphics(),this.timerBarBg.fillStyle(3355443,.8),this.timerBarBg.fillRect(e-t/2,s-i/2,t,i),this.timerBarBg.setDepth(150),this.timerBarFill=this.add.graphics(),this.timerBarFill.setDepth(151),this.timerBarWidth=t,this.timerBarHeight=i,this.timerBarX=e,this.timerBarY=s,this.updateTimerBar(1),this.timerText=this.add.text(e,2*this.canvasHeight,Math.ceil(this.TIMER_DURATION/1e3).toString(),{fontFamily:"rBold",fontSize:32*this.scaleFactor,color:"#FFFFFF",align:"center"}),this.timerText.setOrigin(.5).setDepth(152)}updateTimerBar(t){this.timerBarFill.clear();let i=5025616;t<.5&&(i=16761095),t<.25&&(i=16007990),this.timerBarFill.fillStyle(i,1),this.timerBarFill.fillRect(this.timerBarX-this.timerBarWidth/2+2,this.timerBarY-this.timerBarHeight/2+2,(this.timerBarWidth-4)*t,this.timerBarHeight-4)}startFlagTimer(){this.timerActive=!0;const t=Date.now();this.fnfetchAPI(window.trackingType+"FlagTimerStarted"),this.timerEvent=this.time.addEvent({delay:100,callback:()=>{if(!this.timerActive)return;const i=Date.now()-t,e=Math.max(0,this.TIMER_DURATION-i),s=e/this.TIMER_DURATION;this.updateTimerBar(s),this.timerText&&this.timerText.setText(Math.ceil(e/1e3).toString()),e<=0&&(this.timerActive=!1,this.timerEvent.remove(),this.autoCompleteFlagChallenge())},loop:!0})}autoCompleteFlagChallenge(){const t=[];this.redflag1&&this.redflag1.input&&this.redflag1.input.enabled&&(t.push(this.redflag1),this.fnfetchAPI(window.trackingType+"FlagAutoSet1")),this.redflag2&&this.redflag2.input&&this.redflag2.input.enabled&&(t.push(this.redflag2),this.fnfetchAPI(window.trackingType+"FlagAutoSet2")),this.redflag3&&this.redflag3.input&&this.redflag3.input.enabled&&(t.push(this.redflag3),this.fnfetchAPI(window.trackingType+"FlagAutoSet3")),t.forEach(((t,i)=>{setTimeout((()=>{this.handleFlagDrop(t,!0)}),800*i)})),this.stopTimer()}stopTimer(){this.timerActive=!1,this.timerEvent&&(this.timerEvent.remove(),this.timerEvent=null),this.timerBarBg&&this.tweens.add({targets:this.timerBarBg,alpha:0,duration:500,onComplete:()=>{this.timerBarBg&&(this.timerBarBg.destroy(),this.timerBarBg=null)}}),this.timerBarFill&&this.tweens.add({targets:this.timerBarFill,alpha:0,duration:500,onComplete:()=>{this.timerBarFill&&(this.timerBarFill.destroy(),this.timerBarFill=null)}}),this.timerText&&this.tweens.add({targets:this.timerText,alpha:0,duration:500,onComplete:()=>{this.timerText&&(this.timerText.destroy(),this.timerText=null)}})}}class a extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:e,scaleFactor:s,topMarginOffset:a,leftMarginOffsetPercentage:h,isMobileDevice:n,isIphoneDevice:o}=i(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=s}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"LOADING...",{fontFamily:"FlameBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,i=25*this.scaleFactor,e=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-i/2,t,i,e),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-i/2,t,i,e),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=i,this.borderRadius=e,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-i/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{}));let t=Math.floor(5*Math.random());t>=5&&(t=1),0===t&&(t=1);let i="op"+t;console.log(i," optionnn"),window.option=i,e.option=i,this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("bg","bg.png"),this.load.image("logo","logo.png"),this.load.image("txt1",i+"/txt1.png"),this.load.image("txt2",i+"/txt2.png"),this.load.image("txt3","txt3.png"),this.load.image("txt4","txt4.png"),this.load.image("txt5",i+"/txt5.png"),this.load.image("txt6",i+"/txt6.png"),this.load.image("txt7",i+"/txt7.png"),this.load.image("txt8","txt8.png"),this.load.image("txt9",i+"/txt9.png"),this.load.image("txt2_1",i+"/txt2_1.png"),this.load.image("txt2_2",i+"/txt2_2.png"),this.load.image("txt2_3",i+"/txt2_3.png"),this.load.image("bgflag","bgflag.png"),this.load.image("redflag","redflag.png"),this.load.image("cta","cta.png"),this.load.image("flag2","flag2.png"),this.load.image("hand","hand.png")}create(){this.scene.start("MainMenu")}}const h={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[a,s]};new Phaser.Game(h);
