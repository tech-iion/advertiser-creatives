import{p as t}from"./phaser-C2RWnc_5.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("logo",window.trackingPath+"/logo.png")}create(){this.scene.start("Preloader")}}function i(t,e){const i=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),a=window.innerWidth,o=window.innerHeight;let h,n;h=t.game.canvas.width,n=t.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],l=Math.abs(parseFloat(r.style.marginTop||0))/a*h+(s?130:0),d=Math.abs(parseFloat(r.style.marginLeft||0))/o*n;let c=o/(a+2*d)*.85;return i?{canvasWidth:h,canvasHeight:n,scaleFactor:c,topMarginOffset:l,leftMarginOffsetPercentage:d,isMobileDevice:i,isIphoneDevice:s}:(c=1.4,{canvasWidth:h,canvasHeight:n,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}class s extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}create(){this.winmp3=this.sound.add("winmp3"),this.errormp3=this.sound.add("errormp3");const{canvasWidth:t,canvasHeight:e,scaleFactor1:s,topMarginOffset:a,leftMarginOffsetPercentage:o,isMobileDevice:h,isIphoneDevice:n}=i(this);this.scaleFactor=1.4,this.canvasWidth=t,this.canvasHeight=e,this.snackArr=[{name:"Volkoren nacho's",image:"nachos",question:"Past dit in de Schijf van Vijf?",answer:"right",correct:!0,score:1},{name:"Pita tosti met kip",image:"pitatostimetkip",question:"Past dit in de Schijf van Vijf?",answer:"right",correct:!0,score:1},{name:"Sandwich tonijnsalade",image:"sandwichtonijnsalade",question:"Past dit in de Schijf van Vijf?",answer:"right",correct:!0,score:1},{name:"Saotosoep van Jennifer",image:"saotosoep",question:"Past dit in de Schijf van Vijf?",answer:"right",correct:!0,score:1},{name:"TikTok wrap Mexican style",image:"tiktokwrapMexicanstyle",question:"Past dit in de Schijf van Vijf?",answer:"right",correct:!0,score:1}],this.currentSnackIndex=0,this.score=0,this.shuffleSnacks(),this.firstPage()}shuffleSnacks(){for(let t=this.snackArr.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[this.snackArr[t],this.snackArr[e]]=[this.snackArr[e],this.snackArr[t]]}}firstPage(){this.logo=this.add.image(.1*this.canvasWidth,.08*this.canvasWidth,"logo"),this.logo.setOrigin(.5).setDepth(1),this.logo.setScale(.7*this.scaleFactor),this.logo.alpha=0,this.logo.x=.5*this.canvasWidth,this.logo.y=.15*this.canvasWidth,this.tweens.add({targets:this.logo,y:.11*this.canvasHeight,duration:400,alpha:1,ease:"Power2",delay:0}),this.text=this.add.text(.5*this.canvasWidth,.235*this.canvasHeight,"Test je kennis! ",{fontSize:45*this.scaleFactor,fontFamily:"ArcherBold",fill:"#036640",align:"center"}).setOrigin(.5).setDepth(100),this.titlelogo=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"titlelogo"),this.titlelogo.setOrigin(.5).setDepth(1),this.titlelogo.setScale(.95*this.scaleFactor),this.titlelogo.setAlpha(0),this.titlelogo.x=.5*this.canvasWidth,this.titlelogo.y=.25*this.canvasWidth,this.tweens.add({targets:this.titlelogo,y:.475*this.canvasHeight,duration:1e3,alpha:1,ease:"Back.out",delay:0}),this.text2=this.add.text(.5*this.canvasWidth,.75*this.canvasHeight,"Snack slimmer met de \nSchijf van Vijf!",{fontSize:45*this.scaleFactor,fontFamily:"ArcherBold",fill:"#036640",align:"center"}).setOrigin(.5),this.logobottom=this.add.image(.5*this.canvasWidth,.9*this.canvasHeight,"logobottom"),this.logobottom.setOrigin(.5).setDepth(1),this.logobottom.setScale(.67*this.scaleFactor),this.logobottom.alpha=0,this.logobottom.x=.5*this.canvasWidth,this.logobottom.y=.965*this.canvasHeight,this.tweens.add({targets:this.logobottom,alpha:1,duration:400,ease:"Power2",delay:0}),this.startButton=this.add.image(.5*this.canvasWidth,.9*this.canvasHeight,"btn1"),this.startButton.setOrigin(.5).setDepth(1),this.startButton.setScale(1.1*this.scaleFactor),this.startButton.alpha=0,this.startButton.x=.5*this.canvasWidth,this.startButton.y=1.2*this.canvasHeight,this.tweens.add({targets:this.startButton,y:.87*this.canvasHeight,duration:400,alpha:1,ease:"Power2",delay:0,onComplete:()=>{this.tweens.add({targets:this.startButton,scale:1*this.scaleFactor,duration:400,ease:"Power2",delay:0,repeat:-1,yoyo:!0})}}),this.pageCount=1,this.input.on("pointerdown",(()=>{this.startButton.setScale(1*this.scaleFactor)})),this.input.on("pointerup",(()=>{console.log("pointerup pageCount::",this.pageCount),this.startButton.setScale(1.1*this.scaleFactor),1==this.pageCount&&(this.pageCount=-1,this.fnfetchAPI(window.trackingType+"TapToPlay"),this.removefirstPage()),2==this.pageCount&&(this.pageCount=-1,window.open(window.landingPageUrl,"_blank"))}))}removefirstPage(){this.tweens.add({targets:this.logo,alpha:0,y:this.logo.y-50,duration:300,ease:"Power2",onComplete:()=>{this.logo.destroy()}}),this.tweens.add({targets:this.text,alpha:0,y:this.text.y-50,duration:300,ease:"Power2",onComplete:()=>{this.text.destroy()}}),this.tweens.add({targets:this.titlelogo,alpha:0,y:this.titlelogo.y+50,duration:300,ease:"Power2",onComplete:()=>{this.titlelogo.destroy()}}),this.tweens.add({targets:this.text2,alpha:0,y:this.text2.y+50,duration:300,ease:"Power2",onComplete:()=>{this.text2.destroy()}}),this.tweens.add({targets:this.startButton,alpha:0,y:this.startButton.y+100,duration:300,ease:"Power2",onComplete:()=>{this.startButton.destroy(),this.secondPage()}})}secondPage(){this.loadSnack(this.currentSnackIndex),this.arrows=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"arrows").setScale(1*this.scaleFactor),this.arrows.setOrigin(.5).setDepth(10),this.arrows.alpha=0,this.pointer=this.add.image(.55*this.canvasWidth,.55*this.canvasHeight,"pointer").setScale(.5*this.scaleFactor),this.pointer.setOrigin(.5).setDepth(10),this.pointer.alpha=0,this.tweens.add({targets:[this.pointer],alpha:1,duration:500,ease:"Power2",onComplete:()=>{}}),this.tweens.add({targets:this.pointer,x:.45*this.canvasWidth,duration:1e3,ease:"Linear",yoyo:!0,repeat:-1})}loadSnack(t){const e=this.snackArr[t];this.dialog1=this.add.image(.04*this.canvasWidth,.04*this.canvasWidth,"dialog1"),this.dialog1.setOrigin(0,0).setDepth(10),this.dialog1.setScale(1*this.scaleFactor),this.dialog1.alpha=0,this.tweens.add({targets:this.dialog1,alpha:1,duration:400,ease:"Power2"});const i="Pizza met tomaat, courgette en rucola"===e.name?25*this.scaleFactor:35*this.scaleFactor;this.snackname=this.add.text(this.dialog1.x+.05*this.dialog1.displayWidth,this.dialog1.y+.325*this.dialog1.displayHeight,e.name,{fontSize:i,fontFamily:"ArcherBold",fill:"#FFFFFF",align:"center"}),this.snackname.setOrigin(0,.5).setDepth(10),this.snackname.alpha=0,this.snackname.x-=50,this.tweens.add({targets:this.snackname,alpha:1,x:this.dialog1.x+.05*this.dialog1.displayWidth,duration:500,ease:"Power2",delay:100}),this.question=this.add.text(this.dialog1.x+.05*this.dialog1.displayWidth,this.dialog1.y+.65*this.dialog1.displayHeight,e.question,{fontSize:30*this.scaleFactor,fontFamily:"ArcherBold",fill:"#0B1F05",align:"center"}),this.question.setOrigin(0,.5).setDepth(10),this.question.alpha=0,this.question.x-=50,this.tweens.add({targets:this.question,alpha:1,x:this.dialog1.x+.05*this.dialog1.displayWidth,duration:500,ease:"Power2",delay:200}),this.snack=this.add.image(.5*this.canvasWidth,.51*this.canvasHeight,e.image),this.snack.setOrigin(.5,.5).setDepth(2),this.snack.setScale(0),this.tweens.add({targets:this.snack,scale:.6*this.scaleFactor,duration:600,ease:"Back.out",delay:300}),this.correctAnswers=0,this.vantext?this.vantext.setText(`${this.currentSnackIndex+1} van ${this.snackArr.length}`):(this.vantext=this.add.text(.97*this.canvasWidth,this.dialog1.y+.3*this.dialog1.displayHeight,`1 van ${this.snackArr.length}`,{fontSize:40*this.scaleFactor,fontFamily:"ArcherBold",fill:"#036640",align:"center"}),this.vantext.setOrigin(1,.5).setDepth(10)),this.text3=this.add.text(.5*this.canvasWidth,this.dialog1.y+1.6*this.dialog1.displayHeight,"Swipe links of rechts",{fontSize:50*this.scaleFactor,fontFamily:"ArcherBold",fill:"#036640",align:"center"}),this.text3.setOrigin(.5).setDepth(10),this.text3.alpha=0,this.text3.y+=50,this.tweens.add({targets:this.text3,alpha:1,y:this.dialog1.y+1.6*this.dialog1.displayHeight,duration:500,ease:"Power2",delay:400}),this.notxt=this.add.text(.25*this.canvasWidth,.75*this.canvasHeight,"Past niet in de \nSchijf van Vijf",{fontSize:35*this.scaleFactor,fontFamily:"ArcherBold",fill:"#EE151F",align:"center"}),this.notxt.setOrigin(.5).setDepth(10),this.notxt.alpha=0,this.tweens.add({targets:this.notxt,alpha:1,duration:500,ease:"Power2",delay:500}),this.yestxt=this.add.text(.75*this.canvasWidth,.75*this.canvasHeight,"Past in de \nSchijf van Vijf",{fontSize:35*this.scaleFactor,fontFamily:"ArcherBold",fill:"#036640",align:"center"}),this.yestxt.setOrigin(.5).setDepth(10),this.yestxt.alpha=0,this.tweens.add({targets:this.yestxt,alpha:1,duration:500,ease:"Power2",delay:500}),this.nopng=this.add.image(.25*this.canvasWidth,this.yestxt.y+1.25*this.yestxt.displayHeight,"close"),this.nopng.setOrigin(.5).setDepth(10),this.nopng.setScale(0),this.tweens.add({targets:this.nopng,scale:1*this.scaleFactor,duration:500,ease:"Back.out",delay:600}),this.yespng=this.add.image(.75*this.canvasWidth,this.yestxt.y+1.25*this.yestxt.displayHeight,"right"),this.yespng.setOrigin(.5).setDepth(10),this.yespng.setScale(0),this.tweens.add({targets:this.yespng,scale:1*this.scaleFactor,duration:500,ease:"Back.out",delay:600}),this.setupSwipeInteraction()}setupSwipeInteraction(){let t=0;this.input.on("pointerdown",(e=>{t=e.x,this.tweens.add({targets:this.pointer,alpha:0,duration:500,ease:"Power2",onComplete:()=>{}})})),this.input.on("pointerup",(e=>{const i=e.x-t;i<-50?(console.log("Swiped left"),this.handleSwipe("left")):i>50&&(console.log("Swiped right"),this.handleSwipe("right"))}))}handleSwipe(t){const e=this.snackArr[this.currentSnackIndex],i=t===e.answer;console.log("Swiped_"+t+"_"+e.name.trim().replace(/\s/g,"").replace("'","")+"_"+(i?"Correct":"Incorrect")),this.fnfetchAPI(window.trackingType+"Swipe_"+t+"_"+e.name.trim().replace(/\s/g,"").replace("'","")+"_"+(i?"Correct":"Incorrect")),i?(this.winmp3.play(),this.score+=e.score,this.correctAnswers++,console.log(this.correctAnswers),console.log(`Correct! Score: ${this.score}, Correct answers: ${this.correctAnswers}`)):(this.errormp3.play(),console.log(`Incorrect! The correct answer was ${e.answer}`)),this.input.off("pointerdown"),this.input.off("pointerup");const s="left"===t?.5*-this.canvasWidth:1.5*this.canvasWidth;this.tweens.add({targets:this.snack,x:s,rotation:"left"===t?-.5:.5,alpha:0,duration:500,ease:"Back.in",onComplete:()=>{this.cleanupSnackElements(),this.currentSnackIndex++,this.currentSnackIndex<this.snackArr.length?this.loadSnack(this.currentSnackIndex):(this.fnfetchAPI(window.trackingType+"PlayableCompleted"),console.log("Game completed with score:",this.score),this.fnfinalPage())}}),"left"===t?this.tweens.add({targets:[this.notxt,this.nopng],scale:1.2*this.scaleFactor,duration:300,yoyo:!0,ease:"Power2"}):this.tweens.add({targets:[this.yestxt,this.yespng],scale:1.2*this.scaleFactor,duration:300,yoyo:!0,ease:"Power2"});const a=i?"Goed!\nSchijf van Vijf":"Fout!",o=this.add.text(.5*this.canvasWidth,.5*this.canvasHeight,a,{fontSize:60*this.scaleFactor,fontFamily:"ArcherBold",fill:i?"#00AA00":"#AA0000",stroke:"#FFFFFF",strokeThickness:5,align:"center"});o.setOrigin(.5),o.setDepth(10),o.setScale(0),this.tweens.add({targets:o,scale:1,duration:300,ease:"Back.out",yoyo:!0,hold:300,onComplete:()=>{o.destroy()}})}fnfinalPage(){this.vantext.destroy(),this.dialog2=this.add.image(.04*this.canvasWidth,.04*this.canvasWidth,"dialog2"),this.dialog2.setOrigin(0,0).setDepth(10),this.dialog2.setScale(1*this.scaleFactor),this.dialog2.alpha=0,this.tweens.add({targets:this.dialog2,alpha:1,duration:400,ease:"Power2"}),this.finalscoretext=this.add.text(this.dialog2.x+.05*this.dialog2.displayWidth,this.dialog2.y+.15*this.dialog2.displayHeight,"Je score:",{fontSize:40*this.scaleFactor,fontFamily:"ArcherBold",fill:"#FFFFFF",align:"center"}),this.finalscoretext.setOrigin(0,.5).setDepth(10),this.finalscoretext.alpha=0,this.finalscoretext.x-=50,this.finalscore=this.add.text(this.dialog2.x+.05*this.dialog2.displayWidth,this.dialog2.y+.15*this.dialog2.displayHeight,this.score+" van de 5!",{fontSize:55*this.scaleFactor,fontFamily:"ArcherBold",fill:"#0B1F05",align:"center"}),this.finalscore.setOrigin(0,.5).setDepth(10),this.finalscore.alpha=0,this.finalscore.x-=50,this.tweens.add({targets:this.finalscoretext,alpha:1,x:this.dialog2.x+.05*this.dialog2.displayWidth,duration:500,ease:"Power2",delay:100}),this.tweens.add({targets:this.finalscore,alpha:1,x:this.dialog2.x+.38*this.dialog2.displayWidth,duration:500,ease:"Power2",delay:100}),this.finalname=this.add.text(this.dialog2.x+.05*this.dialog2.displayWidth,this.dialog2.y+.4*this.dialog2.displayHeight,this.score<=4?"Dat kan wel beter...":this.score<=6?"Goed bezig!":"Wow, heel goed! ",{fontSize:50*this.scaleFactor,fontFamily:"ArcherBold",fill:"#FFFFFF",align:"center"}),this.finalname.setOrigin(0,.5).setDepth(10),this.finalname.alpha=0,this.finalname.x-=50,this.tweens.add({targets:this.finalname,alpha:1,x:this.dialog2.x+.05*this.dialog2.displayWidth,duration:500,ease:"Power2",delay:100}),this.finaltext=this.add.text(this.dialog2.x+.05*this.dialog2.displayWidth,this.dialog2.y+.72*this.dialog2.displayHeight,"Ja, lekker hè? Dit is allemaal \neten met de Schijf van Vijf!",{fontSize:27*this.scaleFactor,fontFamily:"ArcherBold",fill:"#0B1F05",align:"left"}),this.finaltext.setOrigin(0,.5).setDepth(10),this.finaltext.alpha=0,this.finaltext.x-=50,this.tweens.add({targets:this.finaltext,alpha:1,x:this.dialog2.x+.05*this.dialog2.displayWidth,duration:500,ease:"Power2",delay:200}),this.cta=this.add.image(.5*this.canvasWidth,.87*this.canvasHeight,"cta"),this.cta.setOrigin(.5,.5).setDepth(10).setScale(1.1*this.scaleFactor),this.cta.alpha=0,this.cta.y=1.2*this.canvasHeight,this.tweens.add({targets:this.cta,y:.87*this.canvasHeight,duration:400,alpha:1,ease:"Power2",delay:200,onComplete:()=>{this.tweens.add({targets:this.cta,scale:1*this.scaleFactor,duration:400,ease:"Power2",delay:0,repeat:-1,yoyo:!0})}}),this.fnfetchAPI(window.trackingType+"OnFinalPage"),this.input.off("pointerdown"),this.input.off("pointerup"),this.pageCount=2,this.input.on("pointerup",(()=>{console.log("pointerup pageCount::",this.pageCount),2==this.pageCount&&(this.pageCount=-1,window.open(window.landingPageUrl,"_blank"))})),this.lastlogo=this.add.image(.5*this.canvasWidth,.95*this.canvasHeight,"lastlogo"),this.lastlogo.setOrigin(.5,.5).setDepth(10).setScale(1.2*this.scaleFactor),this.lastlogo.alpha=0,this.lastlogo.y=1.2*this.canvasHeight,this.tweens.add({targets:this.lastlogo,y:.525*this.canvasHeight,duration:400,alpha:1,ease:"Power2",delay:0})}cleanupSnackElements(){this.dialog1&&this.dialog1.destroy(),this.snackname&&this.snackname.destroy(),this.question&&this.question.destroy(),this.snack&&this.snack.destroy(),this.text3&&this.text3.destroy(),this.notxt&&this.notxt.destroy(),this.yestxt&&this.yestxt.destroy(),this.nopng&&this.nopng.destroy(),this.yespng&&this.yespng.destroy()}}class a extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:e,scaleFactor:s,topMarginOffset:a,leftMarginOffsetPercentage:o,isMobileDevice:h,isIphoneDevice:n}=i(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=s,this.loader=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"logo"),this.loader.setOrigin(1,0).setDepth(1),this.loader.setScale(.6*this.scaleFactor),this.loader.alpha=1,this.loader.x=.5*this.canvasWidth+.5*this.loader.displayWidth,this.loader.y=.5*this.canvasHeight-.5*this.loader.displayHeight}createLoadingUI(){const t=.6*this.canvasWidth,e=25*this.scaleFactor,i=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,i),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,i),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=i,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{})),this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("logo","logo.png"),this.load.image("dialog1","dialog1.png"),this.load.image("logobottom","logobottom.png"),this.load.image("btn1","btn1.png"),this.load.image("titlelogo","titlelogo.png"),this.load.image("dialog2","dialog2.png"),this.load.image("hartigehavermoutmuffins","snacks2/hartigehavermoutmuffins.png"),this.load.image("kanneelbroodjes","snacks2/kaneelbroodjes.png"),this.load.image("nachos","snacks2/nachos.png"),this.load.image("pitatostimetkip","snacks2/pitatostimetkip.png"),this.load.image("pizzamettomaatcourgetteenrucola","snacks2/pizzamettomaatcourgetteenrucola.png"),this.load.image("saladevooronderweg","snacks2/saladevooronderweg.png"),this.load.image("sandwichtonijnsalade","snacks2/sandwichtonijnsalade.png"),this.load.image("saotosoep","snacks2/saotosoep.png"),this.load.image("spicymangosmoothiebowl","snacks2/spicymangosmoothiebowl.png"),this.load.image("tiktokwrapMexicanstyle","snacks2/tiktokwrapMexicanstyle.png"),this.load.image("cta","cta.png"),this.load.image("close","close.png"),this.load.image("right","right.png"),this.load.image("lastlogo","lastlogo.png"),this.load.image("arrows","arrows.png"),this.load.image("pointer","pointer.png"),this.load.audio("winmp3","win.mp3"),this.load.audio("errormp3","error.mp3")}create(){this.tweens.add({targets:this.loader,alpha:0,duration:1e3,ease:"Linear",onComplete:()=>{this.scene.start("MainMenu")}})}}const o={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,a,s]};new Phaser.Game(o);
