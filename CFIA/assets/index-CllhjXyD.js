import{p as e}from"./phaser-DM0uoNMb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t extends e.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class s extends e.Scene{constructor(){super("Game")}create(){this.cameras.main.setBackgroundColor(65280),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Want to make something fun!\nContact me at:\nsnktcodes@gmail.com",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("GameOver")}))}}class a extends e.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function i(e,t){const s=/Mobi|Android/i.test(navigator.userAgent),a=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,o=window.innerHeight;let n,r;n=e.game.canvas.width,r=e.game.canvas.height;const h=document.getElementsByTagName("canvas")[0],l=Math.abs(parseFloat(h.style.marginTop||0))/i*n+(a?130:0),d=Math.abs(parseFloat(h.style.marginLeft||0))/o*r;let c=o/(i+2*d)*.85;return s?{canvasWidth:n,canvasHeight:r,scaleFactor:c,topMarginOffset:l,leftMarginOffsetPercentage:d,isMobileDevice:s,isIphoneDevice:a}:(c=1.4,{canvasWidth:n,canvasHeight:r,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}class o extends e.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:e,canvasHeight:t,scaleFactor1:s,topMarginOffset:a,leftMarginOffsetPercentage:o,isMobileDevice:n,isIphoneDevice:r}=i(this);this.clickBG=!1,this.image=this.add.image(e/2,t/2,"background"),this.image.setOrigin(.5),this.image.setScale(.77),this.image.alpha=0,this.tweens.add({targets:this.image,alpha:1,duration:800,ease:"Power2"});const h=this.add.text(e/2,.125*t,"SAFE TEMP TAP",{fontSize:`${Math.floor(48*1.4)}px`,fontFamily:"Asap",fill:"#ffffff",stroke:"#000000",strokeThickness:0,shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5);h.alpha=0,h.y-=50,this.tweens.add({targets:h,alpha:1,y:.125*t,duration:1e3,ease:"Back.easeOut",delay:300});const l=this.add.text(e/2,.225*t,"Tap the digital thermometer to reach\nthe safe cooking temperature in the\ncooking time!",{fontSize:`${Math.floor(50.4)}px`,fontFamily:"Asap",fill:"#ffffff",align:"center",stroke:"#000000",strokeThickness:0,shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5);l.alpha=0,this.tweens.add({targets:l,alpha:1,duration:800,delay:800,ease:"Power2"}),this.salmon=this.add.image(e/2,.625*t,"salmon_uncooked"),this.salmon.setScale(.7),this.salmon.setOrigin(.5),this.salmon.alpha=0,this.salmon.x+=200,this.tweens.add({targets:this.salmon,x:e/2,alpha:1,duration:1e3,ease:"Power2",delay:1200,onComplete:()=>{this.tweens.add({targets:this.salmon,angle:{from:-3,to:3},duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.salmon,x:"+=15",duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.salmon,y:"+=5",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:200})}}),this.thermometer=this.add.image(.395*e,.45*t,"indicator2"),this.thermometer.setScale(.42),this.thermometer.setOrigin(.5),this.thermometer.alpha=0,this.thermometer.x-=200,this.tweens.add({targets:this.thermometer,x:.395*e,alpha:1,duration:1e3,ease:"Power2",delay:1200}),this.tempText=this.add.text(.395*e,.45*t,"70°C",{fontSize:`${Math.floor(22*1.4)}px`,fontFamily:"Montserrat",fill:"#000000",align:"center",shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5).setAngle(60),this.tempText.alpha=0,setTimeout((()=>{this.tempText.x=this.thermometer.x-.22*this.thermometer.displayWidth,this.tempText.y=this.thermometer.y-.3*this.thermometer.displayHeight}),2e3),this.tweens.add({targets:this.tempText,alpha:1,duration:800,delay:2e3,ease:"Power2"}),this.startButton=this.add.text(e/2,.85*t,"Start Cooking!",{fontSize:`${Math.floor(98)}px`,fontFamily:"Asap",fill:"#FFD700",stroke:"#000000",strokeThickness:0,shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5),this.startButton.alpha=0,this.startButton.y+=50,this.tweens.add({targets:this.startButton,alpha:1,y:.85*t,duration:1e3,ease:"Back.easeOut",delay:2e3,onComplete:()=>{this.tweens.add({targets:this.startButton,scaleX:1.1,scaleY:1.1,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.startButton,strokeThickness:{from:4,to:8},duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.startButton.setInteractive({useHandCursor:!0}),this.startButton.on("pointerover",(()=>{this.isTransitioning||this.tweens.add({targets:this.startButton,scale:1.1,duration:200,ease:"Power2"})})),this.startButton.on("pointerout",(()=>{this.isTransitioning||this.tweens.add({targets:this.startButton,scale:1,duration:200,ease:"Power2"})})),this.startButton.on("pointerdown",(()=>{this.isTransitioning||(this.isTransitioning=!0,console.log("Start button clicked!"),this.startButton.removeInteractive(),this.tweens.killTweensOf(this.startButton),this.startButton.setScale(1),this.tweens.add({targets:[h,l,this.salmon,this.thermometer,this.tempText,this.startButton],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.showSelectionPage()}}))}))}showSelectionPage(){this.isTransitioning=!0;const{canvasWidth:e,canvasHeight:t,scaleFactor1:s}=i(this);let a=1.4;this.selectionTitle=this.add.text(e/2,.125*t,"Pick the choice of Meat",{fontSize:`${Math.floor(48*a)}px`,fontFamily:"Asap",fill:"#ffffff",stroke:"#000000",strokeThickness:0,shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5),this.selectionTitle.alpha=0,this.optionContainers=[],[{name:"chicken_uncooked",text:"Chicken drumstick : 74°C (165°F)",y:.2},{name:"beef_uncooked",text:"Beef hamburger : 71°C (160°F)",y:.45},{name:"salmon_uncooked",text:"Fish : 70°C (158°F)",y:.7}].forEach(((s,i)=>{const o=this.add.container(e/2,t*s.y);o.alpha=0;const n=this.add.image(0,0,s.name);n.setScale(.325*a).setOrigin(.5,0);const r=this.add.text(0,1.15*n.displayHeight,s.text,{fontSize:`${Math.floor(42)}px`,fontFamily:"Asap",fill:"#ffffff",align:"center",stroke:"#000000",strokeThickness:0,shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5);o.add([n,r]);const h=new Phaser.Geom.Rectangle(-n.displayWidth/2,-n.displayHeight/2,n.displayWidth,n.displayHeight+r.displayHeight);o.setInteractive(h,Phaser.Geom.Rectangle.Contains),o.input.cursor="pointer",o.on("pointerover",(()=>{})),o.on("pointerout",(()=>{})),o.on("pointerdown",(()=>{if(console.log("container clicked",o.input.enabled),!this.isTransitioning){this.isTransitioning=!0,this.optionContainers.forEach((e=>{e.removeInteractive()})),this.tweens.killAll(),this.optionContainers.forEach((e=>{e.list[0].preFX.clear()})),this.optionContainers.forEach((e=>{e!==o&&this.tweens.add({targets:e,alpha:0,scale:.8,duration:300,ease:"Power2"})})),this.tweens.add({targets:[this.selectionTitle],alpha:0,duration:300,ease:"Power2"});const i=o.list[0],n=o.list[1];this.tweens.add({targets:o,x:this.cameras.main.centerX,y:this.cameras.main.centerY,duration:500,ease:"Power2",onComplete:()=>{this.tweens.add({targets:i,scale:.7,duration:600,ease:"Back.easeOut",onComplete:()=>{console.log("Selected option:",s.name),i.setDepth(1);const r=this.add.image(o.x,o.y,`${s.name.split("_")[0]}_cooked`);r.setScale(i.scale),r.setDepth(2),r.setOrigin(.5,0),r.setAlpha(0);const h=this.add.image(.395*e,.45*t,"indicator1");h.setScale(.42),h.setOrigin(.5),h.setDepth(3),h.alpha=0,h.x-=200;const l=this.add.text(.395*e,.45*t,"0°C",{fontSize:`${Math.floor(25.2)}px`,fontFamily:"Montserrat",fill:"#ffffff",align:"center",shadow:{color:"#000000",blur:0,fill:!0}}).setOrigin(.5).setAngle(60);l.setDepth(4),l.alpha=0;const d=this.add.image(h.x+.3*h.displayWidth,h.y+.3*h.displayHeight,"taphand");d.setScale(1),d.setOrigin(0),d.setDepth(5),d.setAlpha(0);const c=()=>{this.tweens.add({targets:d,scale:.8,duration:150,yoyo:!0,repeat:2,ease:"Bounce.easeIn",onComplete:()=>{}})};this.tweens.add({targets:h,x:.395*e,alpha:1,duration:1e3,ease:"Power2",onComplete:()=>{l.x=h.x-.22*h.displayWidth,l.y=h.y-.3*h.displayHeight,d.x=h.x-.22*h.displayWidth,d.y=h.y-.3*h.displayHeight,this.tweens.add({targets:[l,d],alpha:1,duration:500,ease:"Power2",onComplete:()=>{c();const e=(e=>{switch((e=e.replace("_uncooked","")).toLowerCase()){case"salmon":return"Fish";case"chicken":return"Chicken";case"beef":return"Beef";default:return e}})(s.name),g=this.add.text(this.cameras.main.centerX,.2*t,`Start cooking the ${e} by\ntapping on the thermometer`,{fontSize:`${Math.floor(48*a)}px`,fontFamily:"Asap",fill:"#ffffff",align:"center",shadow:{color:"#000000",blur:2,fill:!0}}).setOrigin(.5);if(g.alpha=0,!document.querySelector(".cooking-progress-container")){const e=document.createElement("div");e.className="cooking-progress-container";const t=document.createElement("div");t.className="cooking-progress-text",t.textContent="Cooking Bar";const s=document.createElement("div");s.className="cooking-progress-bar";const a=document.createElement("div");a.className="cooking-progress-fill",s.appendChild(a),e.appendChild(t),e.appendChild(s),document.body.appendChild(e)}this.cookingProgress=0;const p=document.querySelector(".cooking-progress-container"),m=document.querySelector(".cooking-progress-fill");this.time.delayedCall(1200,(()=>{p.style.display="block",this.progressTimer=this.time.addEvent({delay:20,callback:()=>{if(this.cookingProgress=Math.min(100,this.cookingProgress+.1),m.style.width=`${this.cookingProgress}%`,this.cookingProgress>=50){const e=(this.cookingProgress-50)/50;r.setAlpha(e),this.smoke&&this.smoke.destroy(),this.smoke=this.add.image(r.x,r.y-.2*r.displayHeight,"smoke"),this.smoke.setScale(.7),this.smoke.setAlpha(0),this.smoke.setDepth(3),this.tweens.add({targets:this.smoke,alpha:.8,duration:800,ease:"Power2"}),this.tweens.add({targets:this.smoke,y:this.smoke.y-70,duration:2500,ease:"Power1",yoyo:!0,repeat:-1})}this.cookingProgress>=100&&(this.progressTimer&&this.progressTimer.remove(),this.time.delayedCall(500,(()=>{p.style.display="none"})))},loop:!0})})),this.events.once("shutdown",(()=>{p&&p.remove(),this.progressTimer&&this.progressTimer.remove()})),this.tweens.add({targets:g,alpha:1,duration:500,ease:"Power2",delay:1200});let f,u=0,y=0,w="start";const k=(e,t)=>{g.flashTween&&g.flashTween.remove(),g.setText(e),g.setStyle({fill:t}),g.setAlpha(1),g.flashTween=this.tweens.add({targets:g,alpha:.5,delay:500,duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})};k(`Start cooking the ${e} by\ntapping on the thermometer`,"#ffffff");const S=()=>{if(l.setText(`${Math.round(u)}°C`),y>=3&&"start"===w&&(w="monitoring"),this.cookingProgress>=100)return f&&f.remove(),g.flashTween&&g.flashTween.remove(),this.tweens.add({targets:[h,l,g,p],alpha:0,duration:500,ease:"Power2",onComplete:()=>{h.destroy(),l.destroy(),g.destroy(),p.style.display="none",this.time.delayedCall(2e3,(()=>{this.tweens.add({targets:[i,r,o,this.image,this.smoke],alpha:0,duration:500,ease:"Power2",onComplete:()=>{i.destroy(),r.destroy(),o.destroy(),this.image.destroy(),this.showFinalScreen()}})}))}}),void this.tweens.add({targets:i,alpha:0,duration:500,ease:"Power2"});"start"!==w&&(u>=70?"safe"!==w&&(w="safe",k(`Great! ${e} is at the\ncorrect safe temperature.`,"#FBDF42")):"unsafe"!==w&&(w="unsafe",k(`Oops! ${e} is not at a\nsafe temperature.`,"#ff0000"))),u>=70?(l.setStyle({fill:"#000000"}),h.setTexture("indicator2")):u>=49?(l.setStyle({fill:"#490103"}),h.setTexture("indicator2")):(l.setStyle({fill:"#ffffff"}),h.setTexture("indicator1"))};this.events.once("shutdown",(()=>{g.flashTween&&g.flashTween.remove()})),h.setInteractive({useHandCursor:!0}),h.on("pointerdown",(()=>{d&&d.active&&this.tweens.add({targets:d,alpha:0,duration:200,ease:"Power2",onComplete:()=>{d.destroy()}}),y++,u=Math.min(100,u+5),S(),this.tweens.add({targets:[h],scaleX:"*=1.02",scaleY:"*=1.02",duration:50,yoyo:!0,ease:"Power2"}),this.tweens.add({targets:[l],scaleX:"*=1.1",scaleY:"*=1.1",duration:50,yoyo:!0,ease:"Power2"})})),(()=>{f=this.time.addEvent({delay:100,callback:()=>{u>0&&(u=Math.max(0,u-.2),S())},loop:!0})})(),this.tweens.add({targets:n,alpha:0,duration:300,ease:"Power2"})}})}}),this.tweens.add({targets:n,alpha:0,duration:300,ease:"Power2"})}})}})}})),this.optionContainers.push(o)})),this.tweens.add({targets:this.selectionTitle,alpha:1,duration:500,ease:"Power2"}),this.optionContainers.forEach(((e,t)=>{this.tweens.add({targets:e,alpha:1,duration:500,ease:"Power2",delay:300+200*t,onComplete:()=>{t===this.optionContainers.length-1&&(this.isTransitioning=!1,this.startGlowSequence(a))}})}))}startGlowSequence(e){this.optionContainers.forEach(((e,t)=>{const s=e.list[0];e.list[1];const a=s.preFX.addGlow(16777215,0,0,!1);this.tweens.add({targets:a,outerStrength:4,innerStrength:1,duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:1e3*t}),this.tweens.add({targets:s,scaleX:1.05*s.scaleX,scaleY:1.05*s.scaleY,duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:1e3*t})}))}showFinalScreen(){if(this.clickBG)return;this.clickBG=!0;const e=this.cameras.main.centerX;this.cameras.main.centerY;const t=this.cameras.main.width,s=this.cameras.main.height,a=this.add.text(e,.2*s,"Well Done!",{fontSize:"80px",fontFamily:"Asap",fill:"#ffffff",align:"center"}).setOrigin(.5),i=this.add.text(e,.35*s,"For more food safety tips, visit",{fontSize:"50px",fontFamily:"Asap",fill:"#ffffff",align:"center"}).setOrigin(.5),o=this.add.text(e,.4*s,"Canada.ca/foodsafety",{fontSize:"50px",fontFamily:"Asap",fill:"#FBDF42",align:"center"}).setOrigin(.5),n=this.add.image(e,.6*s,"tryagainbtn").setInteractive({useHandCursor:!0}).setScale(.5),r=this.add.image(e,s,"learnBtn").setInteractive({useHandCursor:!0}).setScale(.56).setOrigin(.5,1).setDepth(1);r.on("pointerover",(()=>{this.tweens.add({targets:r,scale:.6,duration:100,ease:"Power2"})})),r.on("pointerout",(()=>{this.tweens.add({targets:r,scale:.56,duration:100,ease:"Power2"})})),r.on("pointerdown",(()=>{window.open("https://www.Canada.ca/foodsafety","_blank"),this.tweens.add({targets:r,scale:.5,duration:100,ease:"Power2",onComplete:()=>{this.tweens.add({targets:r,scale:.56,duration:100,ease:"Back.easeOut",onComplete:()=>{window.open("https://www.Canada.ca/foodsafety","_blank")}})}})})),n.on("pointerover",(()=>{this.tweens.add({targets:n,scale:.54,duration:100,ease:"Power2"})})),n.on("pointerout",(()=>{this.tweens.add({targets:n,scale:.5,duration:100,ease:"Power2"})})),n.on("pointerdown",(()=>{this.smoke.destroy(),this.clickBG=!1,this.image=this.add.image(t/2,s/2,"background"),this.image.setOrigin(.5),this.image.setScale(.77),this.image.alpha=0;const e=[a,i,o,n,r];this.tweens.add({targets:e,alpha:0,duration:500,ease:"Power2",onComplete:()=>{e.forEach((e=>e.destroy())),this.isGameStarted=!1,this.isCooking=!1,this.cookingProgress=0;const t=document.querySelector(".cooking-progress-container");t&&t.remove(),this.image&&this.image.setAlpha(1),this.showSelectionPage()}})}));const h=[a,i,o,n];r.setAlpha(0),r.y+=50,h.forEach(((e,t)=>{e.setAlpha(0),e.y+=20*t})),this.tweens.add({targets:h,alpha:1,y:"-=20",duration:500,ease:"Back.easeOut",delay:this.tweens.stagger(200),onComplete:()=>{h.forEach((e=>{this.tweens.add({targets:e,y:"+=5",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})})),this.tweens.add({targets:r,alpha:1,y:"-=50",duration:700,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:r,y:"+=8",duration:2500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}})}})}}class n extends e.Scene{constructor(){super("Preloader")}init(){i(this),console.log(i(this)),this.add.image(512,384,"background")}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png"),this.load.image("indicator1","indicator1.png"),this.load.image("indicator2","indicator2.png"),this.load.image("beef_uncooked","beef_uncooked.png"),this.load.image("salmon_uncooked","salmon_uncooked.png"),this.load.image("chicken_uncooked","chicken_uncooked.png"),this.load.image("beef_cooked","beef_cooked.png"),this.load.image("salmon_cooked","salmon_cooked.png"),this.load.image("chicken_cooked","chicken_cooked.png"),this.load.image("tryagainbtn","tryagainbtn.png"),this.load.image("learnBtn","learnBtn.png"),this.load.image("smoke","smoke.png"),this.load.image("taphand","taphand.png")}create(){this.scene.start("MainMenu")}}const r={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[t,n,o,s,a]};new Phaser.Game(r);
