import{p as t}from"./phaser-C2RWnc_5.js";function s(t,s){const e=/Mobi|Android/i.test(navigator.userAgent),a=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,h=window.innerHeight;let n,o;n=t.game.canvas.width,o=t.game.canvas.height;const l=document.getElementsByTagName("canvas")[0],r=Math.abs(parseFloat(l.style.marginTop||0))/i*n+(a?130:0),c=Math.abs(parseFloat(l.style.marginLeft||0))/h*o;let d=h/(i+2*c)*.85;return e?{canvasWidth:n,canvasHeight:o,scaleFactor:d,topMarginOffset:r,leftMarginOffsetPercentage:c,isMobileDevice:e,isIphoneDevice:a}:(d=1.4,{canvasWidth:n,canvasHeight:o,scaleFactor:d,topMarginOffset:0,leftMarginOffsetPercentage:0})}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver((t=>{for(const e of t)if("childList"===e.type)for(const t of e.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&s(t)})).observe(document,{childList:!0,subtree:!0})}function s(t){if(t.ep)return;t.ep=!0;const s=function(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?s.credentials="include":"anonymous"===t.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(t);fetch(t.href,s)}}();class e extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}shuffleArray(t){for(let s=t.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}return t}create(){const{canvasWidth:t,canvasHeight:e,scaleFactor1:a,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:n,isIphoneDevice:o}=s(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=1.4,this.bg=this.add.image(.5*t,.5*e,"bg"),this.bg.setOrigin(.5).setDepth(1),this.bg.setScale(1.1*this.scaleFactor),this.bg.alpha=1,this.anims.create({key:"playeridleAnim",frames:this.anims.generateFrameNames("playeridle",{start:1,end:20,zeroPad:2,prefix:"playeridle",suffix:".png"}),frameRate:8,yoyo:!0,repeat:-1}),this.anims.create({key:"enemyidleAnim",frames:this.anims.generateFrameNames("enemyidle",{start:1,end:10,zeroPad:2,prefix:"enemyidle",suffix:".png"}),frameRate:8,repeat:-1}),this.anims.create({key:"enemythrowAnim",frames:this.anims.generateFrameNames("enemythrow",{start:1,end:20,zeroPad:2,prefix:"enemythrow",suffix:".png"}),frameRate:16,yoyo:!1,repeat:0}),this.anims.create({key:"playerswingAnim",frames:this.anims.generateFrameNames("playerswing",{start:1,end:12,zeroPad:2,prefix:"playerswing",suffix:".png"}),frameRate:20,repeat:0}),this.anims.create({key:"ballAnim",frames:this.anims.generateFrameNames("ball",{start:1,end:4,zeroPad:2,prefix:"ball",suffix:".png"}),frameRate:12,repeat:-1}),this.anims.create({key:"stumpBreakAnim",frames:Array.from({length:10},((t,s)=>({key:`stump${("00"+s).slice(-2)}`}))),frameRate:10,repeat:0}),this.titlePage()}titlePage(){this.smashbtn=this.add.image(.5*this.canvasWidth,.75*this.canvasHeight,"smashbtn"),this.smashbtn.setOrigin(.5).setDepth(2),this.smashbtn.setScale(0),this.smashbtn.alpha=0,this.tweens.add({targets:this.smashbtn,scale:this.scaleFactor,alpha:1,duration:600,ease:"Back.easeOut",delay:200}),this.tweens.add({targets:this.smashbtn,scale:1.05*this.scaleFactor,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:800}),this.smashbtn.on("pointerover",(()=>{this.tweens.add({targets:this.smashbtn,scale:1.1*this.scaleFactor,duration:200,ease:"Power2"})})),this.smashbtn.on("pointerout",(()=>{this.tweens.add({targets:this.smashbtn,scale:this.scaleFactor,duration:200,ease:"Power2"})})),this.logo=this.add.image(.88*this.canvasWidth,.925*this.canvasHeight,"logo"),this.logo.setOrigin(.5).setDepth(2),this.logo.setScale(0),this.logo.alpha=0,this.tweens.add({targets:this.logo,scale:.4*this.scaleFactor,alpha:1,duration:500,ease:"Back.easeOut",delay:400}),this.input.on("pointerdown",(()=>{this.input.off("pointerdown"),this.tweens.add({targets:this.logo,alpha:0,scale:.3*this.scaleFactor,duration:400,ease:"Power2.easeIn"}),this.tweens.add({targets:this.smashbtn,alpha:0,scale:.8*this.scaleFactor,duration:400,ease:"Power2.easeIn",onComplete:()=>{this.logo&&this.logo.destroy(),this.smashbtn&&this.smashbtn.destroy(),this.gamePage()}})}))}gamePage(){console.log("gamePage"),this.bg.alpha=0,this.gamebg2=this.add.image(.5*this.canvasWidth,0,"gamebg2"),this.gamebg2.setOrigin(.5,0).setDepth(1),this.gamebg2.setScale(1.1*this.scaleFactor),this.gamebg2.alpha=1,this.poster=this.add.image(.5*this.canvasWidth,0,"poster"),this.poster.setOrigin(.5,.05).setDepth(2),this.poster.setScale(1*this.scaleFactor),this.poster.alpha=1,this.gamebg1=this.add.image(.5*this.canvasWidth,this.canvasHeight,"gamebg1"),this.gamebg1.setOrigin(.5,1).setDepth(3),this.gamebg1.setScale(1.1*this.scaleFactor),this.gamebg1.alpha=1,this.stump=this.add.image(.5*this.canvasWidth,1.05*this.canvasHeight,"stump00"),this.stump.setOrigin(.5,1).setDepth(14),this.stump.setScale(1*this.scaleFactor),this.stump.alpha=1,this.bowler=this.add.sprite(.575*this.canvasWidth,.435*this.canvasHeight,"enemyidle01"),this.bowler.setOrigin(.5).setDepth(11),this.bowler.setScale(1.15*this.scaleFactor),this.bowler.alpha=1,this.bowler.play("enemyidleAnim"),this.bowler.on("animationcomplete",(()=>{setTimeout((()=>{this.bowler.play("enemyidleAnim")}),250)})),this.batsman=this.add.sprite(.3*this.canvasWidth,.72*this.canvasHeight,"playeridle"),this.batsman.setOrigin(.5).setDepth(13),this.batsman.setScale(1.25*this.scaleFactor),this.batsman.alpha=1,this.batsman.play("playeridleAnim"),this.batsman.on("animationcomplete",(()=>{this.batsman.x=.3*this.canvasWidth,this.batsman.play("playeridleAnim")})),this.ballInFlight=!1,this.playerHasSwung=!1,this.ballReachedEnd=!1,this.ballDirection=null,this.score=0,this.ballsPlayed=0,this.totalBalls=6,this.gameOver=!1,this.isFirstTap=!0,this.scoreText1=this.add.text(.05*this.canvasWidth,.05*this.canvasHeight,"0",{fontFamily:"BTBrikRegular",fontSize:"32px",color:"#F41286"}).setDepth(2e3),this.scoreText1.x=this.poster.x-.4375*this.poster.displayWidth,this.scoreText1.y=this.poster.y+.465*this.poster.displayHeight,this.scoreText2=this.add.text(.05*this.canvasWidth,.05*this.canvasHeight,"0",{fontFamily:"BTBrikRegular",fontSize:"32px",color:"#FFFFFF"}).setDepth(2e3),this.scoreText2.x=this.poster.x-.35*this.poster.displayWidth,this.scoreText2.y=this.poster.y+.465*this.poster.displayHeight,this.scoreText3=this.add.text(.05*this.canvasWidth,.05*this.canvasHeight,"0",{fontFamily:"BTBrikRegular",fontSize:"32px",color:"#FFFFFF"}).setDepth(2e3),this.scoreText3.x=this.poster.x-.26*this.poster.displayWidth,this.scoreText3.y=this.poster.y+.465*this.poster.displayHeight,this.scoreText4=this.add.text(.05*this.canvasWidth,.05*this.canvasHeight,"0",{fontFamily:"BTBrikRegular",fontSize:"32px",color:"#FFFFFF"}).setDepth(2e3),this.scoreText4.x=this.poster.x-.175*this.poster.displayWidth,this.scoreText4.y=this.poster.y+.465*this.poster.displayHeight,this.scoreText5=this.add.text(.05*this.canvasWidth,.05*this.canvasHeight,"0",{fontFamily:"BTBrikRegular",fontSize:"32px",color:"#FFFFFF"}).setDepth(2e3),this.scoreText5.x=this.poster.x-.09*this.poster.displayWidth,this.scoreText5.y=this.poster.y+.465*this.poster.displayHeight,this.scoreText6=this.add.text(.05*this.canvasWidth,.05*this.canvasHeight,"0",{fontFamily:"BTBrikRegular",fontSize:"32px",color:"#FFFFFF"}).setDepth(2e3),this.scoreText6.x=this.poster.x-0*this.poster.displayWidth,this.scoreText6.y=this.poster.y+.465*this.poster.displayHeight,this.ballCounterText=this.add.text(1.95*this.canvasWidth,.05*this.canvasHeight,"Balls: 0/6",{fontSize:"28px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:4}).setOrigin(1,0).setDepth(20),this.instructionText1=this.add.text(.5*this.canvasWidth,.65*this.canvasHeight,"Hit the Ball!",{fontFamily:"BTBrikOblique",fontSize:"80px",color:"#FFFFFF",stroke:"#000000",strokeThickness:8}).setOrigin(.5).setDepth(25).setAlpha(0),this.tweens.add({targets:this.instructionText1,alpha:1,duration:500,ease:"Power2"}),this.instructionText=this.add.text(.5*this.canvasWidth,.75*this.canvasHeight,"TAP TO START!",{fontFamily:"BTBrikOblique",fontSize:"60px",color:"#FFFFFF",stroke:"#000000",strokeThickness:8}).setOrigin(.5).setDepth(25).setAlpha(0),this.tweens.add({targets:this.instructionText,alpha:1,duration:500,ease:"Power2"}),this.tweens.add({targets:this.instructionText,scale:1.1,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.input.on("pointerdown",(()=>{console.log("Tapped!"),this.isFirstTap&&this.instructionText&&(this.tweens.add({targets:this.instructionText,alpha:0,scale:.8,duration:300,ease:"Power2",onComplete:()=>{this.instructionText.destroy()}}),this.tweens.add({targets:this.instructionText1,alpha:0,scale:.8,duration:300,ease:"Power2",onComplete:()=>{this.instructionText1.destroy()}}),this.playBowler(),this.isFirstTap=!1),!this.ballInFlight||this.playerHasSwung||this.gameOver||this.hitBall()}))}playBowler(){const t=this.add.text(.5*this.canvasWidth,.5*this.canvasHeight,"READY...",{fontFamily:"BTBrikOblique",fontSize:"90px",color:"#FFD700",stroke:"#000000",strokeThickness:10}).setOrigin(.5).setDepth(30).setAlpha(0);this.tweens.add({targets:t,alpha:1,scale:1.2,duration:400,ease:"Back.easeOut"}),this.time.delayedCall(800,(()=>{t.setText(" GO! "),t.setColor("#E6FF00"),this.tweens.add({targets:t,scale:1.4,duration:300,ease:"Back.easeOut"})})),this.time.delayedCall(1500,(()=>{this.tweens.add({targets:t,alpha:0,duration:300,ease:"Power2",onComplete:()=>t.destroy()})})),setTimeout((()=>{this.bowler.play("enemythrowAnim");let t=!1;this.bowler.on("animationupdate",(()=>{12!==this.bowler.anims.currentFrame.index||t||(t=!0,this.ballInFlight=!0,this.playerHasSwung=!1,this.ballReachedEnd=!1,this.throwBall())}))}),2e3)}throwBall(){this.ball=this.add.sprite(.575*this.canvasWidth,.435*this.canvasHeight,"ball"),this.ball.setOrigin(.5).setDepth(12),this.ball.setScale(.25*this.scaleFactor),this.ball.alpha=1,this.ball.play("ballAnim"),this.ballDirection=["right","left","mid"][Math.floor(3*Math.random())],console.log("Ball direction:",this.ballDirection);const t=.55*this.canvasWidth,s=.375*this.canvasHeight;let e=.55*this.canvasWidth,a=.62*this.canvasHeight,i=.5*this.canvasWidth,h=.85*this.canvasHeight;"right"==this.ballDirection&&(e=Math.random()*(.5*this.canvasWidth-.4*this.canvasWidth)+.4*this.canvasWidth,a=.7*this.canvasHeight,i=.5*this.canvasWidth,h=.85*this.canvasHeight),"mid"==this.ballDirection&&(e=Math.random()*(.6*this.canvasWidth-.5*this.canvasWidth)+.5*this.canvasWidth,a=.72*this.canvasHeight,i=.55*this.canvasWidth,h=.85*this.canvasHeight),"left"==this.ballDirection&&(e=Math.random()*(.65*this.canvasWidth-.6*this.canvasWidth)+.6*this.canvasWidth,a=.72*this.canvasHeight,i=.55*this.canvasWidth,h=.85*this.canvasHeight),console.log(e,a,i,h);const n=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(t,s),new Phaser.Math.Vector2(t-.5*(t-e),s+.3*(a-s)),new Phaser.Math.Vector2(e,a)),o=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(e,a),new Phaser.Math.Vector2(e-.5*(e-i),a-.8*(a-h)),new Phaser.Math.Vector2(i,h));this.path2Active=!1,this.ballTween1=this.tweens.add({targets:{t:0},t:1,duration:1e3,ease:"Cubic.easeIn",onUpdate:t=>{const s=t.getValue(),e=n.getPoint(s);this.ball.x=e.x,this.ball.y=e.y;const a=this.scaleFactor*(.5+.4*s);this.ball.setScale(a)},onComplete:()=>{this.path2Active=!0,this.ballTween2=this.tweens.add({targets:{t:0},t:1,duration:800,delay:50,ease:"Cubic.easeOut",onUpdate:t=>{const s=t.getValue(),e=o.getPoint(s);this.ball.x=e.x,this.ball.y=e.y;const a=this.scaleFactor*(.9+.5*s);this.ball.setScale(a),s>=.8&&!this.ballReachedEnd&&!this.playerHasSwung&&(this.ballReachedEnd=!0,this.ballInFlight=!1,console.log("âœ— BOWLED OUT! Player didn't hit the ball"),this.playStumpBreak())},onComplete:()=>{this.ball&&this.ball.destroy()}})}})}hitBall(){this.batsman.x=.4*this.canvasWidth,this.batsman.play("playerswingAnim"),this.ball&&this.ballInFlight&&!this.ballReachedEnd&&(this.batsman.off("animationupdate"),this.batsman.on("animationupdate",(()=>{const t=this.batsman.anims.currentFrame;if("playerswing"===t.textureKey&&!this.playerHasSwung&&this.ball){console.log("Swing frame:",t.index,"Ball Y:",this.ball.y);const s=.7*this.canvasHeight,e=.825*this.canvasHeight;this.ball.y>s&&this.ball.y<=e&&t.index>4?(this.playerHasSwung=!0,console.log("âœ“ PERFECT HIT! Ball at Y:",this.ball.y,"Frame:",t.index),this.ballTween1.remove(),this.ballTween2.remove(),this.ballInFlight=!1,this.ballReachedEnd=!0,this.batsman.off("animationupdate"),this.bounceBallAway()):this.ball.y>e?(this.playerHasSwung=!1,console.log("âœ— SWING TOO LATE! Ball at Y:",this.ball.y,"- OUT!"),this.batsman.off("animationupdate")):this.ball.y<s&&(this.playerHasSwung=!1,console.log("âœ— SWING TOO EARLY! Ball at Y:",this.ball.y,"- OUT!"),this.batsman.off("animationupdate"))}})))}bounceBallAway(){if(!this.ball)return;let t,s=0;const e=Math.random();switch("right"===this.ballDirection?e>.8?(t="straight",s=6):(t=Math.random()>.5?"right":"left",s="right"===t?4:2):"left"===this.ballDirection?e>.8?(t="straight",s=6):(t=Math.random()>.5?"left":"right",s="left"===t?4:2):e>.8?(t="straight",s=6):(t=Math.random()>.5?"left":"right",s=2),this.score+=s,this.ballsPlayed+1){case 1:this.scoreText1.setText(`${s}`),this.scoreText1.setColor("#E6FF00"),this.scoreText2&&this.scoreText2.setColor("#F41286");break;case 2:this.scoreText2.setText(`${s}`),this.scoreText2.setColor("#E6FF00"),this.scoreText3&&this.scoreText3.setColor("#F41286");break;case 3:this.scoreText3.setText(`${s}`),this.scoreText3.setColor("#E6FF00"),this.scoreText4&&this.scoreText4.setColor("#F41286");break;case 4:this.scoreText4.setText(`${s}`),this.scoreText4.setColor("#E6FF00"),this.scoreText5&&this.scoreText5.setColor("#F41286");break;case 5:this.scoreText5.setText(`${s}`),this.scoreText5.setColor("#E6FF00"),this.scoreText6&&this.scoreText6.setColor("#F41286");break;case 6:this.scoreText6.setText(`${s}`),this.scoreText6.setColor("#E6FF00")}const a=this.ball.x,i=this.ball.y;let h,n,o,l;"straight"===t?(h=.6*this.canvasWidth,n=-.3*this.canvasHeight,o=.55*this.canvasWidth,l=.1*this.canvasHeight):"left"===t?(h=-.2*this.canvasWidth,n=.3*this.canvasHeight,o=a+.5*(h-a),l=.2*this.canvasHeight):(h=1.2*this.canvasWidth,n=.3*this.canvasHeight,o=a+.5*(h-a),l=.2*this.canvasHeight);const r=new Phaser.Curves.QuadraticBezier(new Phaser.Math.Vector2(a,i),new Phaser.Math.Vector2(o,l),new Phaser.Math.Vector2(h,n));"straight"===t?console.log(`ðŸŽ¯ STRAIGHT SIX! +${s} points (Total: ${this.score})`):console.log(`âœ“ Ball bouncing ${t}! +${s} points (Total: ${this.score})`);const c=this.add.text(.65*this.canvasWidth,.75*this.canvasHeight,6===s?"SIX!":`+${s}`,{fontSize:6===s?"180px":"150px",color:"#592A23",stroke:"#ffffff",strokeThickness:6===s?20:15,fontFamily:"BTBrikOblique"}).setOrigin(.5).setDepth(25).setAlpha(0);this.tweens.add({targets:c,alpha:1,duration:300,delay:350,ease:"Power2"}),this.tweens.add({targets:c,alpha:0,y:.3*this.canvasHeight,duration:1500,delay:850,ease:"Power2",onComplete:()=>c.destroy()}),this.tweens.add({targets:{t:0},t:1,duration:"straight"===t?1500:1200,ease:"Quad.easeOut",onUpdate:s=>{if(!this.ball)return;const e=s.getValue(),a=r.getPoint(e);this.ball.x=a.x,this.ball.y=a.y;const i=this.scaleFactor*(1.4-.9*e);this.ball.setScale(i),this.ball.angle+="straight"===t?20:15,(e>=.9||this.ball.y<-50||this.ball.x<-50||this.ball.x>this.canvasWidth+50)&&(this.ball.setActive(!1),this.ball.setVisible(!1))},onComplete:()=>{this.ball&&(this.ball.destroy(),this.ball=null),this.time.delayedCall(500,(()=>{this.resetBall()}))}})}resetBall(){if(!this.gameOver){if(this.ballsPlayed++,!this.playerHasSwung)switch(this.ballsPlayed){case 1:this.scoreText1.setText("-"),this.scoreText1.setColor("#FFFFFF"),this.scoreText2&&this.scoreText2.setColor("#F41286");break;case 2:this.scoreText2.setText("-"),this.scoreText2.setColor("#FFFFFF"),this.scoreText3&&this.scoreText3.setColor("#F41286");break;case 3:this.scoreText3.setText("-"),this.scoreText3.setColor("#FFFFFF"),this.scoreText4&&this.scoreText4.setColor("#F41286");break;case 4:this.scoreText4.setText("-"),this.scoreText4.setColor("#FFFFFF"),this.scoreText5&&this.scoreText5.setColor("#F41286");break;case 5:this.scoreText5.setText("-"),this.scoreText5.setColor("#FFFFFF"),this.scoreText6&&this.scoreText6.setColor("#F41286");break;case 6:this.scoreText6.setText("-"),this.scoreText6.setColor("#FFFFFF")}if(this.ballCounterText.setText(`Balls: ${this.ballsPlayed}/${this.totalBalls}`),console.log(`\n--- Ball ${this.ballsPlayed}/${this.totalBalls} complete ---`),this.ballsPlayed>=this.totalBalls)return this.gameOver=!0,void this.finalPage();if(this.ballInFlight=!1,this.playerHasSwung=!1,this.ballReachedEnd=!1,this.ballDirection=null,this.ball&&this.ball.destroy(),this.stump&&this.stump.anims&&this.stump.anims.currentAnim&&"stumpBreakAnim"===this.stump.anims.currentAnim.key){const t=this.stump.x,s=this.stump.y,e=this.stump.scaleX;this.stump.destroy(),this.stump=this.add.image(t,s,"stump00"),this.stump.setOrigin(.5,1).setDepth(14),this.stump.setScale(e)}this.batsman.x=.3*this.canvasWidth,this.batsman.play("playeridleAnim"),this.time.delayedCall(1e3,(()=>{console.log(`\n=== Starting Ball ${this.ballsPlayed+1}/${this.totalBalls} ===`),this.playBowler()}))}}showGameOver(){console.log(`\nðŸ GAME OVER! Final Score: ${this.score} ðŸ`),this.add.rectangle(.5*this.canvasWidth,.5*this.canvasHeight,this.canvasWidth,this.canvasHeight,0,.7).setDepth(30);const t=this.add.text(.5*this.canvasWidth,.35*this.canvasHeight,"GAME OVER!",{fontSize:"64px",color:"#FFD700",fontStyle:"bold",stroke:"#000000",strokeThickness:8}).setOrigin(.5).setDepth(31),s=this.add.text(.5*this.canvasWidth,.5*this.canvasHeight,`Final Score: ${this.score}`,{fontSize:"48px",color:"#FFFFFF",fontStyle:"bold",stroke:"#000000",strokeThickness:6}).setOrigin(.5).setDepth(31),e=this.add.text(.5*this.canvasWidth,.6*this.canvasHeight,`Balls Played: ${this.ballsPlayed}`,{fontSize:"32px",color:"#FFFFFF",fontStyle:"bold",stroke:"#000000",strokeThickness:4}).setOrigin(.5).setDepth(31);this.tweens.add({targets:[t,s,e],scale:{from:0,to:1},duration:500,ease:"Back.easeOut"})}drawHitZone(){const t=.7*this.canvasHeight,s=.85*this.canvasHeight,e=this.add.graphics();e.fillStyle(65280,.2),e.fillRect(0,t,this.canvasWidth,s-t),e.setDepth(15),this.add.text(.05*this.canvasWidth,t+10,"HIT ZONE",{fontSize:"16px",color:"#00ff00",fontStyle:"bold"}).setDepth(15)}playStumpBreak(){const t=this.stump.x,s=this.stump.y,e=this.stump.scaleX;this.stump.destroy(),this.stump=this.add.sprite(t,s,"stump00"),this.stump.setOrigin(.5,1).setDepth(14),this.stump.setScale(e),this.stump.play("stumpBreakAnim"),console.log("âœ— Bowled out!");const a=this.add.text(.5*this.canvasWidth,.5*this.canvasHeight,"BOWLED OUT!",{fontFamily:"BTBrikOblique",fontSize:"120px",color:"#FF0000",stroke:"#000000",strokeThickness:12}).setOrigin(.5).setDepth(35).setAlpha(0);this.tweens.add({targets:a,alpha:1,scale:1.2,duration:300,ease:"Back.easeOut"}),this.tweens.add({targets:a,alpha:0,y:.4*this.canvasHeight,duration:1e3,delay:800,ease:"Power2",onComplete:()=>a.destroy()}),this.stump.on("animationcomplete",(()=>{this.resetBall()}))}finalPage(){this.scoreText1.x=2.5*this.canvasWidth,this.scoreText1.y=2.5*this.canvasHeight,this.scoreText2.x=2.5*this.canvasWidth,this.scoreText2.y=2.5*this.canvasHeight,this.scoreText3.x=2.5*this.canvasWidth,this.scoreText3.y=2.5*this.canvasHeight,this.scoreText4.x=2.5*this.canvasWidth,this.scoreText4.y=2.5*this.canvasHeight,this.scoreText5.x=2.5*this.canvasWidth,this.scoreText5.y=2.5*this.canvasHeight,this.scoreText6.x=2.5*this.canvasWidth,this.scoreText6.y=2.5*this.canvasHeight,this.bg.setTexture("bg2"),this.bg.alpha=1,this.bg.setDepth(1e3),this.cta=this.add.image(.5*this.canvasWidth,.76*this.canvasHeight,"cta"),this.cta.setOrigin(.5).setDepth(1e3),this.cta.setScale(0),this.cta.alpha=0,this.tweens.add({targets:this.cta,scale:1.1*this.scaleFactor,alpha:1,duration:600,ease:"Back.easeOut",delay:200}),this.ctabtn=this.add.image(.5*this.canvasWidth,.91*this.canvasHeight,"ctabtn"),this.ctabtn.setOrigin(.5).setDepth(1e3),this.ctabtn.setScale(0),this.ctabtn.alpha=0,this.tweens.add({targets:this.ctabtn,scale:1.4*this.scaleFactor,alpha:1,duration:600,ease:"Back.easeOut",delay:300}),this.tweens.add({targets:this.ctabtn,scale:1.45*this.scaleFactor,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:900}),this.ctabtn.setInteractive({useHandCursor:!0}),this.ctabtn.on("pointerover",(()=>{this.tweens.add({targets:this.ctabtn,scale:1.5*this.scaleFactor,duration:200,ease:"Power2"})})),this.ctabtn.on("pointerout",(()=>{this.tweens.add({targets:this.ctabtn,scale:1.4*this.scaleFactor,duration:200,ease:"Power2"})})),this.logo=this.add.image(.88*this.canvasWidth,.925*this.canvasHeight,"logo"),this.logo.setOrigin(.5).setDepth(2),this.logo.setScale(0),this.logo.alpha=0,this.tweens.add({targets:this.logo,scale:.4*this.scaleFactor,alpha:1,duration:500,ease:"Back.easeOut",delay:400})}}class a extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:e,scaleFactor:a,topMarginOffset:i,leftMarginOffsetPercentage:h,isMobileDevice:n,isIphoneDevice:o}=s(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=a}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"LOADING...",{fontFamily:"FlameBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,s=25*this.scaleFactor,e=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-s/2,t,s,e),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-s/2,t,s,e),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=s,this.borderRadius=e,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-s/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{}));let t=Math.floor(5*Math.random());t>=5&&(t=1),0===t&&(t=1);let s="op"+t;console.log(s," optionnn"),window.option=s,this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("bg","bg1.png"),this.load.image("bg2","bg2.png"),this.load.image("smashbtn","btn1.png"),this.load.image("poster","poster.png"),this.load.image("kfclogo","kfclogo.png"),this.load.image("logo","kfclogo.png"),this.load.image("gamebg1","gamebg1.png"),this.load.image("gamebg2","gamebg2.png"),this.load.image("cta","cta.png"),this.load.image("ctabtn","ctabtn.png");for(var e=0;e<=9;e++){var a=("00"+e).slice(-2);this.load.image("stump"+a,"stump/stump"+a+".png")}this.load.atlas("playeridle","playeridle.png","playeridle.json"),this.load.atlas("enemyidle","enemyidle.png","enemyidle.json"),this.load.atlas("playerswing","playerswing.png","playerswing.json"),this.load.atlas("enemythrow","enemythrow.png","enemythrow.json"),this.load.atlas("ball","ball.png","ball.json")}create(){this.scene.start("MainMenu")}}const i={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[a,e]};new Phaser.Game(i);
