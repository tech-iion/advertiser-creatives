import{p as e}from"./phaser-DM0uoNMb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t extends e.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class s extends e.Scene{constructor(){super("Game")}create(){this.cameras.main.setBackgroundColor(65280),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Want to make something fun!\nContact me at:\nsnktcodes@gmail.com",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("GameOver")}))}}class a extends e.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function i(e,t){const s=/Mobi|Android/i.test(navigator.userAgent),a=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,n=window.innerHeight;let o,r;o=e.game.canvas.width,r=e.game.canvas.height;const h=document.getElementsByTagName("canvas")[0],d=Math.abs(parseFloat(h.style.marginTop||0))/i*o+(a?130:0),c=Math.abs(parseFloat(h.style.marginLeft||0))/n*r;let l=n/(i+2*c)*.85;return s?{canvasWidth:o,canvasHeight:r,scaleFactor:l,topMarginOffset:d,leftMarginOffsetPercentage:c,isMobileDevice:s,isIphoneDevice:a}:(l=1.4,{canvasWidth:o,canvasHeight:r,scaleFactor:l,topMarginOffset:0,leftMarginOffsetPercentage:0})}class n extends e.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:e,canvasHeight:t,scaleFactor1:s,topMarginOffset:a,leftMarginOffsetPercentage:n,isMobileDevice:o,isIphoneDevice:r}=i(this);this.canvasWidth=e,this.canvasHeight=t,console.log(i(this));let h=1.4;this.image=this.add.image(e/2,t/2,"background"),this.image.setOrigin(.5),this.image.setScale(1.65*h),this.tweens.add({targets:this.image,x:{from:e/2-80,to:e/2+80},duration:12e3,yoyo:!0,repeat:-1,ease:"Linear"}),this.image3=this.add.image(e/2,t/2,"avowed"),this.image3.setOrigin(.5),this.image3.setScale(.12*h).setAlpha(0),this.logo=this.add.image(e/2,.12*t-100,"logo"),this.logo.setOrigin(.5),this.logo.setAlpha(0),this.logo.setScale(0),this.tweens.add({targets:this.logo,y:.12*t,alpha:1,scale:1.3*h,duration:1e3,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:this.logo,scale:1.8654999999999997,duration:600,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}});const d=.25*e,c=.17*t,l=e/2,g=.6*t;this.char1=this.add.image(l-d,g-c,"char1"),this.char1.setOrigin(.5),this.char1.setScale(.42).setAlpha(0),this.char2=this.add.image(l+d,g-c,"char2"),this.char2.setOrigin(.5),this.char2.setScale(.42).setAlpha(0),this.char3=this.add.image(l-d,g+c,"char3"),this.char3.setOrigin(.5),this.char3.setScale(.42).setAlpha(0),this.char4=this.add.image(l+d,g+c,"char4"),this.char4.setOrigin(.5),this.char4.setScale(.42).setAlpha(0),[this.char1,this.char2,this.char3,this.char4].forEach(((e,t)=>{e.setInteractive(),this.tweens.add({targets:e,y:e.y-10,duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:200*t}),e.on("pointerover",(()=>{this.tweens.add({targets:e,scale:1.1*e.scale,duration:200,ease:"Back.easeOut"})})),e.on("pointerout",(()=>{this.tweens.add({targets:e,scale:.42,duration:200,ease:"Back.easeOut"})}))})),this.hand=this.add.image(e/2,.7*t,"hand"),this.hand.setOrigin(0,0).setAlpha(0).setDepth(1e4).setScale(.4),this.hand.inputEnabled=!1,this.tweens.add({targets:this.hand,scale:{from:.4,to:.35},y:"+=10",duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.choosechar=this.add.image(e/2,.98*t,"choosechar"),this.choosechar.setOrigin(.5,1).setAlpha(0),this.choosechar.setScale(.42),this.isSwiping=!1,this.initialY=null,this.currentScale=.7,this.minScale=.7,this.maxScale=5.6,this.countdrag=0,this.input.on("pointermove",(e=>{if(this.isSwiping){const s=this.initialY-e.y;if(Math.abs(s)>10){let a=this.currentScale+.001*s;a=Phaser.Math.Clamp(a,this.minScale,this.maxScale),this.image.setScale(a),this.image.y=t/2,this.currentScale=a,this.initialY=e.y}}})),setTimeout((()=>{this.countdrag++,1===this.countdrag&&(this.textChange2.text="YOU HAVE\nBEEN\nCHOSEN TO",this.textChange2.setScale(.5),this.tweens.add({targets:this.textChange4,alpha:1,scale:1,y:.8*t,duration:800,ease:"Back.easeOut",onComplete:()=>{}}),this.tweens.add({targets:this.textChange2,alpha:1,scale:1,y:this.textChange.y-2.4*this.textChange.displayHeight,duration:800,ease:"Back.easeOut",onComplete:()=>{const e=this.textChange2.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:e,outerStrength:2,yoyo:!0,repeat:-1,duration:1500,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange2,y:"+=10",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange2,scale:"+=0.05",duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.tweens.add({targets:this.textChange,alpha:1,scale:{from:.5,to:1},duration:800,ease:"Back.easeOut",onComplete:()=>{const e=this.textChange.preFX.addGlow(16777215,0,0,!1,.1,16);this.textChangeEffects=[],this.textChangeEffects.push(this.tweens.add({targets:e,outerStrength:3,yoyo:!0,repeat:-1,duration:1800,ease:"Sine.easeInOut"})),this.textChangeEffects.push(this.tweens.add({targets:this.textChange,y:"-=8",duration:1800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})),this.textChangeEffects.push(this.tweens.add({targets:this.textChange,scale:"*=1.08",duration:1300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}))}}))}),500),this.input.on("pointerdown",(s=>{if(this.input.enabled=!1,setTimeout((()=>{this.input.enabled=!0}),1e3),this.isSwiping=!1,this.countdrag++,1e3===this.countdrag&&(this.textChange2.text="YOU HAVE\nBEEN\nCHOSEN TO",this.textChange2.setScale(.5),this.tweens.add({targets:this.textChange4,alpha:1,scale:1,y:.8*t,duration:800,ease:"Back.easeOut",onComplete:()=>{}}),this.tweens.add({targets:this.textChange2,alpha:1,scale:1,y:this.textChange.y-2.4*this.textChange.displayHeight,duration:800,ease:"Back.easeOut",onComplete:()=>{const e=this.textChange2.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:e,outerStrength:2,yoyo:!0,repeat:-1,duration:1500,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange2,y:"+=10",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange2,scale:"+=0.05",duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.tweens.add({targets:this.textChange,alpha:1,scale:{from:.5,to:1},duration:800,ease:"Back.easeOut",onComplete:()=>{const e=this.textChange.preFX.addGlow(16777215,0,0,!1,.1,16);this.textChangeEffects=[],this.textChangeEffects.push(this.tweens.add({targets:e,outerStrength:3,yoyo:!0,repeat:-1,duration:1800,ease:"Sine.easeInOut"})),this.textChangeEffects.push(this.tweens.add({targets:this.textChange,y:"-=8",duration:1800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})),this.textChangeEffects.push(this.tweens.add({targets:this.textChange,scale:"*=1.08",duration:1300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}))}})),2===this.countdrag&&(this.tweens.add({targets:this.textChange2,alpha:0,y:this.textChange.y+2.2*this.textChange.displayHeight,duration:500,ease:"Power2"}),this.textChangeEffects&&(this.textChangeEffects.forEach((e=>{e.remove()})),this.textChange.preFX.clear()),this.textChange.setFontSize("80px"),this.textChange.text="TAP to choose",this.tweens.add({targets:this.textChange,alpha:1,y:.96*t,duration:500,ease:"Power2"}),this.tweens.add({targets:this.textChange5,alpha:1,y:this.logo.y+.6*this.logo.displayHeight,duration:500,ease:"Power2"}),this.tweens.add({targets:[this.char1,this.char2,this.char3,this.char4],alpha:1,duration:500,ease:"Power2",onComplete:()=>{const e=[this.char1,this.char2,this.char3,this.char4];e.forEach(((t,s)=>{t.setInteractive({useHandCursor:!0}),t.isScaledUp=!1,this.fnchar2(t,e)}))}})),this.countdrag,42===this.countdrag){this.textChange2.text="",this.triggerFlash(),this.tweens.add({targets:[this.char1,this.char2,this.char3,this.char4,this.textChange,this.continueBtn],alpha:0,duration:500,ease:"Power2"}),this.tweens.add({targets:[this.choosechar,this.textChange5],alpha:0,duration:500,ease:"Power2"}),this.image3.setTexture("bg2"),this.tweens.add({targets:this.image3,alpha:1,duration:500,ease:"Power2"}),this.char=this.add.image(e/2,.3*t,"char"),this.char.setOrigin(.5),this.char.setScale(1.4).setAlpha(0),this.tweens.add({targets:this.char,y:"+=15",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.avowed=this.add.image(e/2,.3*t,"avowed"),this.avowed.setOrigin(.5),this.avowed.setScale(.12*h);const s=this.avowed.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:s,outerStrength:4,yoyo:!0,repeat:-1,duration:1500,ease:"Sine.easeInOut"}),this.buynow=this.add.image(e/2,.65*t,"preorderBtn"),this.buynow.setOrigin(.5),this.buynow.setScale(.7*h),this.buynow.setInteractive({useHandCursor:!0}).on("pointerover",(function(){this.setScale(.75*h)})).on("pointerout",(function(){this.setScale(.7*h)})).on("pointerdown",(function(){this.setScale(.65*h),window.open("https://www.xbox.com/avowed","_blank")})).on("pointerup",(function(){this.setScale(.7*h)})),this.tweens.add({targets:this.buynow,scale:.8*h,duration:1e3,ease:"Back.easeInOut",yoyo:!0,repeat:-1});const a=this.buynow.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:a,outerStrength:2,yoyo:!0,repeat:-1,duration:1200,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.avowed,y:.525*t,duration:1e3,ease:"Back.easeOut",yoyo:!1,repeat:0});const i=(t,s,a)=>{console.log(s,"  dsjhfsgefjhsef123");const i=this.add.image(e/2,t,s);return i.setOrigin(.5),i.setScale(0).setAlpha(0),this.tweens.add({targets:i,scale:.8*h,alpha:1,duration:800,delay:a,ease:"Back.easeOut"}),this.tweens.add({targets:i,scale:1.19,duration:2e3,delay:a+800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),i};this.txt1=i(.75*t,"txt1",0),this.txt2=i(.85*t,"txt2",200),this.txt3=i(.95*t,"txt3",400),this.tweens.add({targets:this.char,alpha:1,scale:{from:.8*h,to:1.4},duration:1e3,ease:"Back.easeOut"})}52===this.countdrag&&document.getElementById("openWindowButton").click(),this.countdrag,this.countdrag})),this.textChange4=this.add.text(.5*e,.5*t,"CLICK TO PROCEED",{fontFamily:"abrilbold",fontSize:56*h,color:"#ffffff",stroke:"#4a90e2",strokeThickness:2,align:"center",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:12},padding:{x:40,y:20},backgroundColor:"rgba(147, 51, 234, 0.3)",borderRadius:15}).setOrigin(.5).setScale(.5).setAlpha(0).setInteractive({useHandCursor:!0}).on("pointerover",(function(){this.setStyle({backgroundColor:"rgba(147, 51, 234, 0.5)",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:16}})})).on("pointerout",(function(){this.setStyle({backgroundColor:"rgba(147, 51, 234, 0.3)",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:12}})})).on("pointerdown",(function(){this.scene.tweens.add({targets:this,alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.setVisible(!1)}})})),this.textChange=this.add.text(.5*e,.65*t,"act as the envoy to \nthe Living Lands!",{fontFamily:"abrilregular",fontSize:84,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setAlpha(0).setOrigin(.5),this.textChange5=this.add.text(.5*e,.5*-t,"Choose your Companion",{fontFamily:"abrilbold",fontSize:70,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setAlpha(0).setOrigin(.5),this.textChange2=this.add.text(.5*e,.8*t,"YOU HAVE\nBEEN\nCHOSEN",{fontFamily:"abrilbold",fontSize:168,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).disableInteractive().setOrigin(.5).setAlpha(0),this.continueBtn=this.add.text(.5*e,.93*t,"CONTINUE",{fontFamily:"abrilbold",fontSize:56*h,color:"#ffffff",stroke:"#4a90e2",strokeThickness:2,align:"center",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:12},padding:{x:40,y:20},backgroundColor:"rgba(147, 51, 234, 0.3)",borderRadius:15}),this.continueBtn.setOrigin(.5),this.continueBtn.setAlpha(0),this.continueBtn.setDepth(101),this.continueBtn.setInteractive({useHandCursor:!0}),this.continueBtn.on("pointerover",(function(){this.setStyle({backgroundColor:"rgba(147, 51, 234, 0.5)",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:16}})})),this.continueBtn.on("pointerout",(function(){this.setStyle({backgroundColor:"rgba(147, 51, 234, 0.3)",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:12}})})),this.continueBtn.on("pointerdown",(function(){this.scene.tweens.add({targets:this,alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.setVisible(!1)}})}))}fnchar2(e,t){var s=this;let a=1.4,i=this.canvasWidth,n=this.canvasHeight;this.canvasWidth,this.canvasHeight;const o=this.canvasWidth/2,r=.6*this.canvasHeight;e.on("pointerdown",(()=>{e.isScaledUp||(this.textChange.alpha=0,t.forEach((e=>{e.removeAllListeners("pointerover"),e.removeAllListeners("pointerout"),e.disableInteractive(),e.setDepth(99)})),this.tweens.add({targets:this.textChange5,alpha:0,duration:150,onComplete:()=>{this.textChange5.setText("Tap to Flip The Card"),this.hand.setAlpha(1),this.tweens.add({targets:this.textChange5,alpha:1,duration:150,ease:"Power2"})}}),e.setDepth(100),this.tweens.add({targets:e,x:o,y:r-100,scale:.84,duration:800,ease:"Back.easeOut",onComplete:()=>{let h;switch(e.isScaledUp=!0,e.setInteractive({useHandCursor:!0}),e.scale,e.texture.key){case"char1":h="THE WARRIOR\nMaster of Combat";break;case"char2":h="THE MAGE\nWielder of Magic";break;case"char3":h="THE ROGUE\nShadow Walker";break;case"char4":h="THE PRIEST\nDivine Healer";break;default:h="MYSTERIOUS\nHERO"}e.flipText=this.add.text(o,r-50,h,{fontFamily:"abrilbold",fontSize:"80px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:4,lineSpacing:10}),e.flipText.setOrigin(.5),e.flipText.setAlpha(0),e.flipText.setDepth(101);const d=.25*i,c=.17*n,l=.6*n,g=[{x:o-d,y:l-c},{x:o+d,y:l-c},{x:o-d,y:l+c},{x:o+d,y:l+c}];t.forEach(((e,t)=>{e.gridPosition=g[t]})),this.continueBtn=this.add.text(.5*i,.93*n,"CONTINUE",{fontFamily:"abrilbold",fontSize:56*a,color:"#ffffff",stroke:"#4a90e2",strokeThickness:2,align:"center",shadow:{color:"#4a90e2",fill:!0,offsetX:2,offsetY:2,blur:12},padding:{x:40,y:20},backgroundColor:"rgba(147, 51, 234, 0.3)",borderRadius:15}),this.continueBtn.setOrigin(.5),this.continueBtn.setAlpha(0),this.continueBtn.setDepth(101),this.continueBtn.setInteractive({useHandCursor:!0}),this.continueBtn.on("pointerover",(()=>{this.tweens.add({targets:this.continueBtn,scale:1.1,duration:100,ease:"Back.easeOut"})})),this.continueBtn.on("pointerout",(()=>{this.tweens.add({targets:this.continueBtn,scale:1,duration:100,ease:"Back.easeOut"})})),this.continueBtn.on("pointerdown",(()=>{console.log("continueBtn.on111"),this.textChange2.text="",e.flipText&&e.flipText.destroy(),this.logo12=this.add.image(i/2,.1*n,"logo"),this.logo12.setOrigin(.5),this.logo12.setTint(0),this.logo12.y=.05*n,this.logo12.setScale(1.0762499999999997),this.logotwn22=this.tweens.add({targets:this.logo12,scale:1.1479999999999997,duration:600,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}),this.triggerFlash(),this.tweens.add({targets:[this.char1,this.char2,this.char3,this.char4,this.logo,this.textChange,this.continueBtn],alpha:0,duration:500,ease:"Power2"}),this.char1.closeBtn&&(this.char1.closeBtn.destroy(),this.char1.closeBtnBg.destroy()),this.char2.closeBtn&&(this.char2.closeBtn.destroy(),this.char2.closeBtnBg.destroy()),this.char3.closeBtn&&(this.char3.closeBtn.destroy(),this.char3.closeBtnBg.destroy()),this.char4.closeBtn&&(this.char4.closeBtn.destroy(),this.char4.closeBtnBg.destroy()),this.tweens.add({targets:[s.choosechar,this.textChange5],alpha:0,duration:500,ease:"Power2"}),this.image3.setTexture("bg2"),this.tweens.add({targets:this.image3,alpha:1,duration:500,ease:"Power2"}),this.char=this.add.image(i/2,.3*n,"char"),this.char.setOrigin(.5),this.char.setScale(1.4).setAlpha(0),this.tweens.add({targets:this.char,y:"+=15",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.avowed=this.add.image(i/2,.3*n,"avowed"),this.avowed.setOrigin(.5),this.avowed.setScale(.12*a);const t=this.avowed.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:t,outerStrength:4,yoyo:!0,repeat:-1,duration:1500,ease:"Sine.easeInOut"}),this.buynow=this.add.image(i/2,.65*n,"preorderBtn"),this.buynow.setOrigin(.5),this.buynow.setScale(.7*a),this.buynow.setInteractive({useHandCursor:!0}).on("pointerover",(function(){this.setScale(.75*a)})).on("pointerout",(function(){this.setScale(.7*a)})).on("pointerdown",(function(){this.setScale(.65*a),window.open("https://www.xbox.com/avowed","_blank")})).on("pointerup",(function(){this.setScale(.7*a)})),this.tweens.add({targets:this.buynow,scale:.8*a,duration:1e3,ease:"Back.easeInOut",yoyo:!0,repeat:-1});const o=this.buynow.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:o,outerStrength:2,yoyo:!0,repeat:-1,duration:1200,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.avowed,y:.525*n,duration:1e3,ease:"Back.easeOut",yoyo:!1,repeat:0});const r=(e,t,s)=>{console.log(t,"  dsjhfsgefjhsef123");const o=this.add.image(i/2,e,t);return o.setOrigin(.5),o.setScale(0).setAlpha(0),"txt3"==t?(o.y=.935*n,this.tweens.add({targets:o,scale:.385,alpha:1,duration:800,delay:s,ease:"Back.easeOut"}),this.tweens.add({targets:o,scale:.42,duration:2e3,delay:s+800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})):"txt1"==t?(this.tweens.add({targets:o,scale:1.68,alpha:1,duration:800,delay:s,ease:"Back.easeOut"}),this.tweens.add({targets:o,scale:1.75,duration:2e3,delay:s+800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})):(this.tweens.add({targets:o,scale:.8*a,alpha:1,duration:800,delay:s,ease:"Back.easeOut"}),this.tweens.add({targets:o,scale:1.19,duration:2e3,delay:s+800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})),o};this.txt1=r(.75*n,"txt1",0),this.txt2=r(.85*n,"txt2",200),this.txt3=r(.95*n,"txt3",400),this.tweens.add({targets:this.char,alpha:1,scale:{from:.8*a,to:1.4},duration:1e3,ease:"Back.easeOut"})})),this.tweens.add({targets:this.continueBtn,alpha:1,duration:500,ease:"Power2"}),e.closeBtnBg=this.add.circle(.25*i,.315*n,35,0,.6),e.closeBtnBg.setDepth(100),e.closeBtn=this.add.text(.25*i,.315*n,"×",{fontFamily:"Arial",fontSize:"70px",color:"#ffffff",align:"center"}),e.closeBtn.setOrigin(.5),e.closeBtn.setAlpha(1),e.closeBtn.setDepth(101);const u=new Phaser.Geom.Circle(0,0,35);e.closeBtn.setInteractive(u,Phaser.Geom.Circle.Contains),e.closeBtn.on("pointerover",(()=>{this.tweens.add({targets:[e.closeBtn,e.closeBtnBg],scale:1.1,duration:100,ease:"Back.easeOut"}),e.closeBtnBg.setFillStyle(0,.8)})),e.closeBtn.on("pointerout",(()=>{this.tweens.add({targets:[e.closeBtn,e.closeBtnBg],scale:1,duration:100,ease:"Back.easeOut"}),e.closeBtnBg.setFillStyle(0,.6)})),e.closeBtn.on("pointerdown",(()=>{console.log("char.closeBtn.on"),this.hand.setAlpha(0),this.tweens.add({targets:[this.continueBtn,e.closeBtn,e.closeBtnBg],alpha:0,duration:300,ease:"Power2",onComplete:()=>{e.isScaledUp=!1,e.off("pointerdown"),this.fnchar2(e,t),this.continueBtn.destroy(),e.closeBtn.destroy(),e.closeBtnBg.destroy()}}),t.forEach(((e,t)=>{e.isScaledUp=!1,this.tweens.killTweensOf(e),this.tweens.add({targets:e,x:e.gridPosition.x,y:e.gridPosition.y,scale:.42,alpha:1,duration:800,ease:"Back.easeInOut",onComplete:()=>{this.tweens.add({targets:e,y:e.gridPosition.y-10,duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:200*t}),e.setInteractive({useHandCursor:!0}),e.removeAllListeners("pointerover"),e.removeAllListeners("pointerout"),e.on("pointerover",(()=>{this.tweens.add({targets:e,scale:.33*a,duration:200,ease:"Back.easeOut"})})),e.on("pointerout",(()=>{this.tweens.add({targets:e,scale:.42,duration:200,ease:"Back.easeOut"})}))}}),e.flipCount&&e.flipCount%2==1&&(e.flipCount++,e.setTexture(e.texture.key.replace("_flipped","")))})),e.flipText&&e.flipText.destroy(),this.textChange.setAlpha(1),this.tweens.add({targets:this.textChange5,alpha:0,duration:150,onComplete:()=>{this.textChange5.setText("Choose your Companion"),this.tweens.add({targets:this.textChange5,alpha:1,duration:150,ease:"Power2"})}})})),e.isFlipped=!1,e.flipCount=0,e.off("pointerdown"),this.fnchar(e),this.tweens.add({targets:e,y:r-15-75,duration:1200,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),t.forEach((t=>{t!==e&&this.tweens.add({targets:t,alpha:0,scale:.2*a,duration:400,ease:"Back.easeIn"})})),this.buynow&&this.buynow.destroy())}))}fnchar(e){e.on("pointerdown",(()=>{if(console.log(e.isScaledUp,e.isAnimating),!e.isScaledUp||e.isAnimating)return;e.isAnimating=!0,this.hand.setAlpha(0);let t=e.scale;this.tweens.add({targets:e,scaleX:0,duration:300,ease:"Cubic.easeIn",onComplete:()=>{e.flipCount++,e.flipCount%2==1?(e.setTexture(e.texture.key+"_flipped"),e.flipText.setAlpha(1)):(e.setTexture(e.texture.key.replace("_flipped","")),e.flipText.setAlpha(0)),this.tweens.add({targets:e,scaleX:t,duration:300,ease:"Cubic.easeOut",onComplete:()=>{e.isFlipped=!e.isFlipped,e.isAnimating=!1}})}})}))}triggerFlash(){const e=document.createElement("div");e.className="camera-flash",document.body.appendChild(e),e.addEventListener("animationend",(()=>{document.body.removeChild(e),document.getElementById("openWindowButton").click()})),this.hand.setAlpha(0),this.image.setTexture("bg2")}openWindow(){const e=window.open("https://www.xbox.com/avowed","_blank");!e||e.closed||e.closed}}class o extends e.Scene{constructor(){super("Preloader")}init(){i(this),console.log(i(this)),this.load.on("progress",(e=>{}))}preload(){this.load.setPath("assets"),this.load.image("choosechar","choosechar.png"),this.load.image("logo","logo2.png"),this.load.image("avowed","avowedtxt.png"),this.load.image("hand","hand.png"),this.load.image("dawnshorehero","Dawnshore-Hero-Shot.jpg"),this.load.image("avowedtxt","avowedtxt.png"),this.load.image("char1","1.png"),this.load.image("char2","2.png"),this.load.image("char3","3.png"),this.load.image("char4","4.png"),this.load.image("char1_flipped","box1.png"),this.load.image("char2_flipped","box2.png"),this.load.image("char3_flipped","box3.png"),this.load.image("char4_flipped","box4.png"),this.load.image("bg2","bg2.png"),this.load.image("char","char2.png"),this.load.image("preorderBtn","preorderBtn.png"),this.load.image("txt1","txt1.png"),this.load.image("txt2","txt2.png"),this.load.image("txt3","txt3.png")}create(){this.scene.start("MainMenu")}}const r={type:Phaser.AUTO,width:1280,height:1920,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[t,o,n,s,a]};new Phaser.Game(r);
