import{p as t}from"./phaser-C2RWnc_5.js";function e(t,e){const s=/Mobi|Android/i.test(navigator.userAgent),i=/iPhone/i.test(navigator.userAgent),a=window.innerWidth,n=window.innerHeight;let h,o;h=t.game.canvas.width,o=t.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],l=Math.abs(parseFloat(r.style.marginTop||0))/a*h+(i?130:0),d=Math.abs(parseFloat(r.style.marginLeft||0))/n*o;let c=n/(a+2*d)*1;return console.log(s," :: isMobileDevice",c),s?{canvasWidth:h,canvasHeight:o,scaleFactor:c,topMarginOffset:l,leftMarginOffsetPercentage:d,isMobileDevice:s,isIphoneDevice:i}:(c=1.85,{canvasWidth:h,canvasHeight:o,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class s extends t.Scene{constructor(){super("MainMenu")}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}create(){const{canvasWidth:t,canvasHeight:s,scaleFactor:i,topMarginOffset:a,leftMarginOffsetPercentage:n,isMobileDevice:h,isIphoneDevice:o}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=i,this.currentItemIndex=0,this.bg=this.add.image(.5*t,0*s,"city"),this.bg.setOrigin(.5,0).setDepth(150),this.bg.setScale(.4*i),this.bg.alpha=0,this.drawgraphicssky=this.add.graphics(),this.drawgraphicssky.setDepth(150),this.drawgraphicssky.fillStyle(14809063,1),this.drawgraphicssky.fillRect(0,0,t,this.bg.y+.885*this.bg.displayHeight),this.clouds=[],this.cloudSpeed=.3;for(let e=0;e<3;e++){const s=this.add.image(t*(.2+.3*e),this.bg.y+.4*this.bg.displayHeight+100*e,"clouds");s.setOrigin(.5).setDepth(200-e),s.setScale(i*(.15+.05*e)*.8),s.alpha=.6+.1*e,this.clouds.push(s)}this.buildings=this.add.image(.5*t,this.bg.y+.885*this.bg.displayHeight,"buildings"),this.buildings.setOrigin(.5,.85).setDepth(150),this.buildings.setScale(.15*i),this.buildings.alpha=1,this.drawgraphicsgrass=this.add.graphics(),this.drawgraphicsgrass.setDepth(150),this.drawgraphicsgrass.fillStyle(5934961,1),this.drawgraphicsgrass.fillRect(0,this.bg.y+.885*this.bg.displayHeight,t,s),this.road=this.add.image(.5*t,this.bg.y+.885*this.bg.displayHeight,"road"),this.road.setOrigin(.5,0).setDepth(150),this.road.setScale(.2*i),this.road.alpha=1,this.plane=this.add.image(.2*-t,.6*this.canvasHeight,"plane"),this.plane.setOrigin(.5).setDepth(150),this.plane.setScale(.1*i),this.plane.alpha=1,this.planeFlying=!1,this.nextPlaneTime=3e3,this.planeSpeedX=0,this.planeSpeedY=0,this.gridGraphics=this.add.graphics(),this.gridGraphics.setDepth(-1),this.gridTop=this.bg.y+.885*this.bg.displayHeight,this.gridBottom=s,this.gridLineColor=10040012,this.gridLineAlpha=.8,this.vanishingPointX=.5*t,this.vanishingPointY=this.gridTop,this.hLineCount=30,this.hLineSpeed=.1,this.hLineOffset=0,this.vLineCount=15,this.gridTopWidth=.15*t,this.gridBottomWidth=2*t,this.iionlogo=this.add.image(.15*t,.05*s,"iionblack"),this.iionlogo.setOrigin(.5).setDepth(160),this.iionlogo.setScale(.35*i),this.iionlogo.alpha=1,this.anims.create({key:"playerfallAnim",frames:this.anims.generateFrameNames("iionrunner",{start:0,end:3,zeroPad:3,prefix:"tile",suffix:".png"}),frameRate:24,yoyo:!0,repeat:-1}),this.anims.create({key:"playerrunAnim",frames:this.anims.generateFrameNames("iionrunner",{start:5,end:14,zeroPad:3,prefix:"tile",suffix:".png"}),frameRate:18,yoyo:!1,repeat:-1}),this.drawGrid(),this.orbs=[],this.orbSpeed=4,this.spawnY=this.gridTop,this.despawnY=.9*s,this.lanes=[.45,.5,.55],this.minOrbScale=.03*i,this.maxOrbScale=.2*i,this.laneSpread=.4,this.orbPatterns=[[0,1,2],[0,2],[0,1],[1,2]],this.currentPatternIndex=0,this.orbRowSpacing=120,this.spawnDelay=800,this.lastSpawnTime=0,this.obstacles=[],this.obstacleSpeed=4,this.minObstacleScale=.08*i,this.maxObstacleScale=.35*i,this.obstacleTypes=["ob1","ob2"],this.obstacleSpawnChance=.9,this.trees=[],this.treeSpeed=4,this.minTreeScale=.05*i,this.maxTreeScale=.35*i,this.treeSpawnDelay=1e3,this.lastTreeSpawnTime=0,this.treePositions=[{x:.25,minScale:.05,maxScale:.35},{x:.15,minScale:.05,maxScale:.25},{x:.85,minScale:.05,maxScale:.25},{x:.75,minScale:.05,maxScale:.35}],this.runnerLaneIndex=1,this.runnerLanePositions=[.15*t,.5*t,.85*t],this.slideDuration=120,this.isSliding=!1,this.coinsCollected=0,this.coinText=this.add.text(1.85*t,.05*s,"0",{fontSize:Math.round(36*i)+"px",fontFamily:"Arial",color:"#ffffff",fontStyle:"bold"}),this.coinText.setOrigin(.5).setDepth(300),this.coinIcon=this.add.image(1.925*t,.05*s,"iionorb"),this.coinIcon.setOrigin(.5).setDepth(300),this.coinIcon.setScale(.08*i),this.engagement=1,this.maxEngagement=15,this.engagementCap=14,this.engagementPerCoin=.5,this.engagementPerObstacle=-.25;const r=10*i,l=.4*s,d=.92*t,c=.5*s;this.engagementBarBg=this.add.graphics(),this.engagementBarBg.lineStyle(4,16777215,1),this.engagementBarBg.fillStyle(0,.6),this.engagementBarBg.fillRoundedRect(d-r/2,c-l/2,r,l,8),this.engagementBarBg.strokeRoundedRect(d-r/2,c-l/2,r,l,8),this.engagementBarBg.setDepth(299),this.engagementBarFill=this.add.graphics(),this.engagementBarFill.setDepth(300),this.engagementOrb=this.add.image(d,c+l/2,"iionorb"),this.engagementOrb.setOrigin(.5).setDepth(301),this.engagementOrb.setScale(.06*i),this.engagementText=this.add.text(d,c-l/2-25*i,"1%",{fontSize:Math.round(20*i)+"px",fontFamily:"Poppins, sans-serif",color:"#0000ff",fontStyle:"bold"}),this.engagementText.setOrigin(.5).setDepth(302),this.barWidth=r,this.barHeight=l,this.barX=d,this.barY=c,this.runner=this.add.sprite(this.runnerLanePositions[this.runnerLaneIndex],.825*s,"iionrunner"),this.runner.setOrigin(.5).setDepth(200),this.runner.setScale(.6*i),this.runner.alpha=1,this.runner.anims.play("playerrunAnim",!0),this.swipeStartX=0,this.swipeThreshold=30,this.hasSwipedThisGesture=!1,this.input.on("pointerdown",(t=>{this.swipeStartX=t.x,this.hasSwipedThisGesture=!1})),this.input.on("pointermove",(t=>{if(!t.isDown||this.hasSwipedThisGesture)return;const e=t.x-this.swipeStartX;Math.abs(e)>=this.swipeThreshold&&(e<0&&this.runnerLaneIndex>0?(this.slideToLane(this.runnerLaneIndex-1),this.hasSwipedThisGesture=!0):e>0&&this.runnerLaneIndex<2&&(this.slideToLane(this.runnerLaneIndex+1),this.hasSwipedThisGesture=!0))})),this.input.on("pointerup",(()=>{this.hasSwipedThisGesture=!1})),this.quizQuestions=[{question:"Gaming drives 20x more engagement. What's holding you back from increasing your ad spend?",options:["Gaming isn't prioritised in budget planning","Lack of audience insight measurement and attribution data","Brand safety concerns","Limited knowledge of inventory and targeting"],type:"choice"},{question:"What's your biggest marketing priority for 2026?",options:["AI & automation adoption","Data & personalisation","Customer experience improvement","Content & creative strategy","Multi-channel integration"],type:"choice"},{question:"Grab a holiday power-up! \nDrop your email for a chance to WIN with iion!",type:"email"}],this.currentQuestionIndex=0,this.quizPopupCount=0,this.maxQuizPopups=3,this.quizInterval=5e3,this.isQuizActive=!1,this.quizElements=[],this.gamePaused=!0,this.quizTimer=this.time.addEvent({delay:this.quizInterval,callback:()=>{this.quizPopupCount<this.maxQuizPopups&&this.addpopupQuiz()},loop:!0,paused:!0}),this.sessionStartTime=Date.now(),this.userId=null,this.answers=[],this.googleScriptURL="https://script.google.com/macros/s/AKfycbwaAPBhS8rfqFL_fic2gdHAmM4bdSe6ngp2lXuw3nLqehF-DrmnjPFR3L0HsZ4VtFiazA/exec",this.gamePaused=!0,this.runner.setVisible(!1),this.runner.anims.pause(),this.createStartScreen()}createStartScreen(){this.gamePaused=!0,this.runner.setVisible(!1),this.runner.anims.pause();const t=this.canvasWidth/2,e=this.canvasHeight/2,s=this.scaleFactor;this.startScreenElements=[],this.endOverlay=this.add.rectangle(.5*this.canvasWidth,.5*this.canvasHeight,1*this.canvasWidth,1*this.canvasHeight,65762),this.endOverlay.setDepth(500),this.endOverlay.setAlpha(0),this.startScreenElements.push(this.endOverlay),this.tweens.add({targets:this.endOverlay,alpha:1,duration:500,ease:"Power2"}),this.dialog1=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"dialog1"),this.dialog1.setOrigin(.5).setDepth(500),this.dialog1.setScale(0),this.dialog1.setAlpha(1),this.startScreenElements.push(this.dialog1),this.tweens.add({targets:this.dialog1,scale:.31*s,duration:600,ease:"Back.easeOut",delay:100}),this.twinkle=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"twinkle"),this.twinkle.setOrigin(.5).setDepth(500),this.twinkle.setScale(0),this.twinkle.setAlpha(0),this.startScreenElements.push(this.twinkle),this.tweens.add({targets:this.twinkle,scale:.3*s,alpha:1,duration:800,ease:"Elastic.easeOut",delay:300}),this.hand1=this.add.image(.2*-this.canvasWidth,.55*this.canvasHeight,"hand1"),this.hand1.setOrigin(0,.5).setDepth(500),this.hand1.setScale(.31*s),this.hand1.setAlpha(1),this.startScreenElements.push(this.hand1),this.tweens.add({targets:this.hand1,x:.05*-this.canvasWidth,duration:600,ease:"Cubic.easeOut",delay:200,onComplete:()=>{this.tweens.add({targets:this.hand1,y:this.hand1.y+10*s,duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.hand2=this.add.image(1.2*this.canvasWidth,.65*this.canvasHeight,"hand2"),this.hand2.setOrigin(1,.5).setDepth(500),this.hand2.setScale(.31*s),this.hand2.setAlpha(1),this.startScreenElements.push(this.hand2),this.tweens.add({targets:this.hand2,x:1.05*this.canvasWidth,duration:600,ease:"Cubic.easeOut",delay:300,onComplete:()=>{this.tweens.add({targets:this.hand2,y:this.hand2.y-10*s,duration:2500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.hand3=this.add.image(this.canvasWidth,1.2*this.canvasHeight,"hand3"),this.hand3.setOrigin(.96).setDepth(500),this.hand3.setScale(.26*s),this.hand3.setAlpha(1),this.startScreenElements.push(this.hand3),this.tweens.add({targets:this.hand3,y:this.canvasHeight,duration:600,ease:"Cubic.easeOut",delay:400,onComplete:()=>{this.tweens.add({targets:this.hand3,y:this.hand3.y+5*s,angle:1,duration:3e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}});const i=this.add.image(t,e-350*s,"iionlogo");i.setOrigin(.5).setDepth(500),i.setScale(.35*s),this.startScreenElements.push(i);const a=this.add.image(t,e-100*s,"popup");a.setOrigin(.5).setDepth(500),a.setScale(.25*s),this.startScreenElements.push(a);const n=this.add.text(t,e-250*s,"Interactive Insights",{fontSize:Math.round(42*s)+"px",fontFamily:"Poppins, sans-serif",color:"#ffffff",fontStyle:"bold"});n.setOrigin(.5).setDepth(500),this.startScreenElements.push(n);const h=this.add.text(t,e-20*s,"Collect iion coins to boost engagement.",{fontSize:Math.round(26*s)+"px",fontFamily:"Poppins, sans-serif",color:"#cccccc",align:"center",wordWrap:{width:.9*this.canvasWidth}});h.setOrigin(.5).setDepth(451),this.startScreenElements.push(h);const o=this.add.text(t,e+40*s,"Dodge barriers to keep it strong.",{fontSize:Math.round(26*s)+"px",fontFamily:"Poppins, sans-serif",color:"#cccccc",align:"center",wordWrap:{width:.9*this.canvasWidth}});o.setOrigin(.5).setDepth(451),this.startScreenElements.push(o);const r=220*s,l=70*s,d=e+400*s,c=this.add.graphics();c.fillStyle(65535,1),c.fillRoundedRect(t-r/2,d-l/2,r,l,20),c.setDepth(500),this.startScreenElements.push(c);const p=this.add.text(t,d,"Lets Go!",{fontSize:Math.round(34*s)+"px",fontFamily:"Poppins, sans-serif",color:"#0100E2",fontStyle:"bold"});p.setOrigin(.5).setDepth(500),this.startScreenElements.push(p);const g=this.add.rectangle(t,d,r,l,16777215,0);g.setDepth(452).setInteractive({useHandCursor:!0}),this.startScreenElements.push(g),g.on("pointerover",(()=>{c.clear(),c.fillStyle(16777215,1),c.fillRoundedRect(t-r/2,d-l/2,r,l,20)})),g.on("pointerout",(()=>{c.clear(),c.fillStyle(65535,1),c.fillRoundedRect(t-r/2,d-l/2,r,l,20)})),g.on("pointerdown",(()=>{this.closeStartScreen()}))}closeStartScreen(){this.hand1&&this.hand1.destroy(),this.hand2&&this.hand2.destroy(),this.hand3&&this.hand3.destroy(),this.dialog1&&this.dialog1.destroy(),this.twinkle&&this.twinkle.destroy(),this.endOverlay&&this.endOverlay.destroy(),this.tweens.add({targets:this.startScreenElements,alpha:0,y:"+=20",duration:300,ease:"Power2",onComplete:()=>{this.startScreenElements.forEach((t=>t.destroy())),this.startScreenElements=[],this.addHowtoPlay()}})}addHowtoPlay(){this.runner.setAlpha(0),this.runner.setVisible(!0),this.tweens.add({targets:this.runner,alpha:1,duration:300,ease:"Power2"}),this.howToPlayElements=[];let t=this.scaleFactor;this.popup2=this.add.image(.5*this.canvasWidth,.35*this.canvasHeight,"popup2"),this.popup2.setOrigin(.5).setDepth(602),this.popup2.setScale(.28*t),this.popup2.setAlpha(1),this.howToPlayElements.push(this.popup2);const e=this.add.graphics();e.fillStyle(394945,1);const s=this.popup2.width,i=this.popup2.height;e.fillRoundedRect(-s/2,-i/2,s,i,40),e.x=this.popup2.x,e.y=this.popup2.y,e.setDepth(601),e.setScale(this.popup2.scaleX,this.popup2.scaleY),this.howToPlayElements.push(e);const a=this.add.text(.5*this.canvasWidth,.275*this.canvasHeight,"How to Play",{fontSize:Math.round(32*t)+"px",fontFamily:"Poppins, sans-serif",color:"#EDB0D1",fontStyle:"bold"});a.setOrigin(.5).setDepth(602),this.howToPlayElements.push(a);const n=this.add.text(.5*this.canvasWidth,.35*this.canvasHeight,"Swipe to dodge.\nCollect iion coins.\nBoost Engagement!",{fontSize:Math.round(22*t)+"px",fontFamily:"Poppins, sans-serif",color:"#ffffff",align:"center",lineSpacing:8});n.setOrigin(.5).setDepth(602),this.howToPlayElements.push(n);const h=this.add.text(.5*this.canvasWidth,.425*this.canvasHeight,"Tap to Start",{fontSize:Math.round(24*t)+"px",fontFamily:"Poppins, sans-serif",color:"#EDB0D1"});h.setOrigin(.5).setDepth(602),this.howToPlayElements.push(h),this.tweens.add({targets:h,scale:1.1,alpha:.8,duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});const o=this.add.rectangle(this.canvasWidth/2,this.canvasHeight/2,this.canvasWidth,this.canvasHeight,0,0);o.setInteractive(),o.setDepth(610),this.howToPlayElements.push(o),o.once("pointerdown",(()=>{this.howToPlayElements.forEach((t=>t.destroy())),this.howToPlayElements=[],this.startCountdown()}))}startCountdown(){this.gamePaused=!0,this.runner.setVisible(!0),this.runner.anims.pause();const t=this.canvasWidth/2,e=this.canvasHeight/2,s=Math.round(120*this.scaleFactor),i=this.add.text(t,e,"3",{fontSize:s+"px",fontFamily:"Arial",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6});i.setOrigin(.5).setDepth(500);const a=["3","2","1","GO!"];let n=0;const h=()=>{if(n>=a.length)return i.destroy(),void this.startGame();i.setText(a[n]),i.setScale(.5).setAlpha(0),this.tweens.add({targets:i,scale:1.2,alpha:1,duration:200,ease:"Back.out",onComplete:()=>{this.tweens.add({targets:i,scale:1.5,alpha:0,duration:300,delay:300,ease:"Power2",onComplete:()=>{n++,h()}})}})};h()}startGame(){this.gamePaused=!1,this.runner.anims.resume(),this.quizTimer.paused=!1,this.bgTween=this.tweens.add({targets:this.buildings,y:this.buildings.y-.0025*this.canvasHeight,duration:200,ease:"Cubic.easeInOut",yoyo:!0,repeat:-1}),this.spawnOrbRow(),this.lastSpawnTime=this.time.now}slideToLane(t){this.runnerLaneIndex!==t&&(this.slideTween&&this.slideTween.stop(),this.isSliding=!0,this.runnerLaneIndex=t,this.slideTween=this.tweens.add({targets:this.runner,x:this.runnerLanePositions[t],duration:this.slideDuration,ease:"Cubic.easeOut",onComplete:()=>{this.isSliding=!1}}))}spawnOrbRow(){const t=this.orbPatterns[this.currentPatternIndex];this.currentPatternIndex=(this.currentPatternIndex+1)%this.orbPatterns.length,t.forEach((t=>{const e=this.add.image(this.canvasWidth*this.lanes[t],this.spawnY,"iionorb");e.setOrigin(.5).setDepth(160),e.setScale(this.minOrbScale),e.alpha=1,e.laneIndex=t,e.startX=e.x,this.orbs.push(e)})),Math.random()<this.obstacleSpawnChance&&[0,1,2].filter((e=>!t.includes(e))).forEach((t=>{const e=this.obstacleTypes[Math.floor(Math.random()*this.obstacleTypes.length)],s=this.add.image(this.canvasWidth*this.lanes[t],this.spawnY,e);s.setOrigin(.5).setDepth(160),s.setScale(this.minObstacleScale),s.alpha=1,s.laneIndex=t,s.startX=s.x,s.isObstacle=!0,this.obstacles.push(s)}))}spawnTrees(){const t=this.treePositions.filter((t=>t.x<.5)),e=this.treePositions.filter((t=>t.x>.5)),s=[];t.length>0&&s.push(t[Math.floor(Math.random()*t.length)]),e.length>0&&s.push(e[Math.floor(Math.random()*e.length)]),s.forEach((t=>{const e=this.add.image(this.canvasWidth*t.x,this.spawnY,"trees");e.setOrigin(.5,.8).setDepth(100),e.setScale(this.scaleFactor*t.minScale),e.alpha=1,e.startX=e.x,e.xPosition=t.x,e.minScale=this.scaleFactor*t.minScale,e.maxScale=this.scaleFactor*t.maxScale,this.trees.push(e)}))}startPlaneFlight(){this.planeFlying=!0;const t=Phaser.Math.Between(.2*this.canvasHeight,.3*this.canvasHeight);this.plane.setPosition(.1*-this.canvasWidth,t);const e=Phaser.Math.Between(.1*-this.canvasHeight,t),s=1.2*this.canvasWidth,i=Math.atan2(e-t,s-this.plane.x),a=.0025*this.canvasWidth;this.planeSpeedX=Math.cos(i)*a,this.planeSpeedY=Math.sin(i)*a,this.plane.setRotation(i)}updatePlane(){this.plane.x+=this.planeSpeedX,this.plane.y+=.75*this.planeSpeedY,this.plane.x>1.22*this.canvasWidth&&(this.planeFlying=!1,this.nextPlaneTime=this.time.now+7500)}update(){if(this.gamePaused)return;const{canvasHeight:t,scaleFactor:e,minOrbScale:s,maxOrbScale:i,spawnY:a,despawnY:n,orbSpeed:h}=this;!this.planeFlying&&this.time.now>this.nextPlaneTime&&this.startPlaneFlight(),this.planeFlying&&this.updatePlane(),this.hLineOffset+=this.hLineSpeed,this.hLineOffset>=1&&(this.hLineOffset=0),this.drawGrid(),this.clouds.forEach(((t,e)=>{t.x-=this.cloudSpeed*(1+.2*e),t.x<-t.displayWidth&&(t.x=this.canvasWidth+t.displayWidth)})),this.time.now-this.lastTreeSpawnTime>=this.treeSpawnDelay&&(this.lastTreeSpawnTime=this.time.now,this.spawnTrees());for(let r=this.trees.length-1;r>=0;r--){const t=this.trees[r],e=(t.y-a)/(n-a),s=this.treeSpeed*(1+2*e);t.y+=s;const i=t.minScale+(t.maxScale-t.minScale)*e*2;t.setScale(i),t.setDepth(150+Math.floor(18*e)),t.xPosition<.5?t.x=t.startX-1.25*this.canvasWidth*e:t.x=t.startX+1.25*this.canvasWidth*e,t.y>n&&(t.destroy(),this.trees.splice(r,1))}for(let r=this.orbs.length-1;r>=0;r--){const t=this.orbs[r],e=(t.y-a)/(n-a),o=h*(1+2*e);t.y+=o;const l=s+(i-s)*e;t.setScale(l);const d=t.laneIndex-1;t.x=t.startX+d*this.laneSpread*this.canvasWidth*e,this.checkOrbCollision(t)?this.collectOrb(t,r):t.y>n&&(t.destroy(),this.orbs.splice(r,1))}const o=this.time.now;o-this.lastSpawnTime>=this.spawnDelay&&(this.lastSpawnTime=o,this.spawnOrbRow());for(let r=this.obstacles.length-1;r>=0;r--){const t=this.obstacles[r],e=(t.y-a)/(n-a),s=this.obstacleSpeed*(1+2*e);t.y+=s;const i=this.minObstacleScale+(this.maxObstacleScale-this.minObstacleScale)*e;t.setScale(i);const h=t.laneIndex-1;t.x=t.startX+h*this.laneSpread*this.canvasWidth*e,this.checkObstacleCollision(t)?this.hitObstacle(t,r):t.y>n&&(t.destroy(),this.obstacles.splice(r,1))}}checkOrbCollision(t){const e=this.runner.y,s=this.runner.x,i=60*this.scaleFactor,a=t.x-s,n=t.y-e;return Math.sqrt(a*a+n*n)<i}tweenEngagement(t){this.engagementTween&&this.engagementTween.stop(),this.engagementTween=this.tweens.add({targets:this,engagement:t,duration:500,ease:"Cubic.easeOut",onUpdate:()=>{this.updateEngagementBar()}})}updateEngagementBar(){this.engagement=Math.max(1,Math.min(this.engagementCap,this.engagement));const t=this.barHeight*(this.engagement/this.maxEngagement);this.engagementBarFill.clear(),this.engagementBarFill.fillStyle(255,.9),this.engagementBarFill.fillRoundedRect(this.barX-this.barWidth/2,this.barY+this.barHeight/2-t,this.barWidth,t,8),this.engagementOrb.y=this.barY+this.barHeight/2-t,this.engagementOrb.x=this.barX,this.engagementText.setText(`${Math.floor(this.engagement)}%`)}collectOrb(t,e){this.coinsCollected++,this.coinText.setText(this.coinsCollected.toString()),this.tweenEngagement(this.engagement+this.engagementPerCoin),this.tweens.add({targets:t,y:t.y-.5*t.displayHeight,scale:2*t.scale,alpha:0,duration:350,ease:"Power2",onComplete:()=>{t.destroy()}}),this.orbs.splice(e,1),this.tweens.add({targets:this.coinIcon,scale:.2,duration:80,yoyo:!0,ease:"Bounce"});const s=this.runner.preFX.addGlow(Math.random()<.5?16762150:16777215,4,0,!1,.1,32);this.tweens.add({targets:s,outerStrength:0,duration:600,ease:"Power2",onComplete:()=>{this.runner&&this.runner.preFX&&this.runner.preFX.remove(s)}})}checkObstacleCollision(t){const e=this.runner.y,s=this.runner.x,i=80*this.scaleFactor,a=t.x-s,n=t.y-e;return Math.sqrt(a*a+n*n)<i}hitObstacle(t,e){this.coinsCollected>0&&(this.coinsCollected=Math.max(0,this.coinsCollected-2),this.coinText.setText(this.coinsCollected.toString())),this.tweenEngagement(this.engagement+this.engagementPerObstacle),this.cameras.main.shake(200,.01);const s=this.runner.preFX.addGlow(16711680,4,0,!1,.1,32);this.tweens.add({targets:s,outerStrength:0,duration:600,ease:"Power2",onComplete:()=>{this.runner&&this.runner.preFX&&this.runner.preFX.remove(s)}}),this.tweens.add({targets:t,alpha:0,scaleX:1.5*t.scaleX,scaleY:1.5*t.scaleY,duration:200,ease:"Power2",onComplete:()=>{t.destroy()}}),this.obstacles.splice(e,1)}addpopupQuiz(){if(this.isQuizActive||this.currentQuestionIndex>=this.quizQuestions.length)return;this.isQuizActive=!0,this.gamePaused=!0,this.quizTimer&&(this.quizTimer.paused=!0),this.quizPopupCount++,this.quizElements=[],this.runner.anims.pause(),this.bgTween&&this.bgTween.pause(),this.pauseStartTime=this.time.now;const t=this.quizQuestions[this.currentQuestionIndex],e=this.canvasWidth/2,s=this.canvasHeight/2,i=this.scaleFactor;this.quizOverlay=this.add.rectangle(e,s,this.canvasWidth,this.canvasHeight,0,0),this.quizOverlay.setDepth(400),this.quizElements.push(this.quizOverlay),this.tweens.add({targets:this.quizOverlay,fillAlpha:.7,duration:250,ease:"Power2"}),this.dialog=this.add.sprite(e,s,"dialog"),this.dialog.setOrigin(.5).setDepth(401),this.dialog.setScale(0).setAlpha(0),this.quizElements.push(this.dialog),this.tweens.add({targets:this.dialog,scale:.8*i,alpha:1,duration:350,ease:"Back.easeOut"});const a=this.add.text(e,s-250*i,t.question,{fontSize:Math.round(24*i)+"px",fontFamily:"Poppins, sans-serif",color:"#ffffff",fontStyle:"bold",align:"left",wordWrap:{width:.7*this.canvasWidth,useAdvancedWrap:!0},lineSpacing:6});if(a.setOrigin(.5).setDepth(402).setAlpha(0),this.quizElements.push(a),this.tweens.add({targets:a,alpha:1,y:a.y,duration:400,delay:150,ease:"Power2"}),"choice"===t.type){this.selectedIndices=new Set;const n=[],h=t.options.length;let o=28*i,r=s-100*i;h>4&&(o=26*i,r=s-110*i,a.y=s-240*i),t.options.forEach(((t,s)=>{const a=r+s*o*3,h=.7*this.canvasWidth,l=65*i,d=this.add.graphics();d.fillStyle(16777215,1),d.fillRoundedRect(e-h/2,a-l/2,h,l,12),d.setDepth(402),d.setAlpha(0),this.quizElements.push(d),n.push(d);const c=this.add.rectangle(e,a,h,l,16777215,0);c.setDepth(402).setInteractive({useHandCursor:!0}),c.setAlpha(1),this.quizElements.push(c);const p=this.add.text(e,a,t,{fontSize:Math.round(18*i)+"px",fontFamily:"Poppins, sans-serif",color:"#1a365d",align:"center",wordWrap:{width:.65*this.canvasWidth,useAdvancedWrap:!0}});p.setOrigin(.5).setDepth(403).setAlpha(0),this.quizElements.push(p);const m=250+80*s;this.tweens.add({targets:[d,c,p],alpha:1,duration:300,delay:m,ease:"Power2"}),c.on("pointerdown",(()=>{this.selectedIndices.has(s)?this.selectedIndices.delete(s):this.selectedIndices.add(s),this.updateQuizVisuals(n,h,l,12,e,r,o,g,u)}))}));const l=200*i,d=60*i,c=r+(t.options.length-1)*o*3+100*i,p=12,g=this.add.graphics();g.fillStyle(16777215,1),g.fillRoundedRect(e-l/2,c-d/2,l,d,p),g.setDepth(402).setAlpha(0),this.quizElements.push(g);const u=this.add.rectangle(e,c,l,d,65535,0);u.setDepth(402).setAlpha(0),this.quizElements.push(u);const m=this.add.text(e,c,"Continue",{fontSize:Math.round(24*i)+"px",fontFamily:"Poppins, sans-serif",color:"#0000FF"});m.setOrigin(.5).setDepth(403).setAlpha(0),this.quizElements.push(m),this.tweens.add({targets:[g,u,m],alpha:1,duration:300,delay:250+80*t.options.length,ease:"Power2"}),u.on("pointerdown",(()=>{this.submitQuizSelections()}))}else if("email"===t.type){const t=s+10*i,a=document.createElement("input");a.type="email",a.placeholder="Enter your email...",a.style.cssText=`\n        width: ${.6*this.canvasWidth}px;\n        padding: 12px;\n        font-size: ${24*i}px;\n        font-family: Poppins, sans-serif;\n        border: 2px solid #1a365d;\n        border-radius: 8px;\n        outline: none;\n        text-align: center;\n        color: #1a365d;\n      `,this.emailInput=this.add.dom(e,t,a).setDepth(403),this.emailInput.setAlpha(0),this.quizElements.push(this.emailInput);const n=200*i,h=60*i,o=t+100*i,r=12,l=this.add.graphics();l.fillStyle(16777215,1),l.fillRoundedRect(e-n/2,o-h/2,n,h,r),l.setDepth(402).setAlpha(0),this.quizElements.push(l);const d=this.add.rectangle(e,o,n,h,16777215,0);d.setDepth(402).setInteractive({useHandCursor:!0}).setAlpha(0),this.quizElements.push(d);const c=this.add.text(e,o,"Submit",{fontSize:Math.round(24*i)+"px",fontFamily:"Poppins, sans-serif",color:"#1a365d"});c.setOrigin(.5).setDepth(403).setAlpha(0),this.quizElements.push(c);const p=this.add.text(e,o+50*i,"",{fontSize:Math.round(14*i)+"px",fontFamily:"Poppins, sans-serif",color:"#ff4444",align:"center"});p.setOrigin(.5).setDepth(403),this.quizElements.push(p),this.tweens.add({targets:this.emailInput,alpha:1,duration:300,delay:250,ease:"Power2"}),this.tweens.add({targets:[l,d,c],alpha:1,duration:300,delay:350,ease:"Power2"}),d.on("pointerover",(()=>{l.clear(),l.fillStyle(65535,1),l.fillRoundedRect(e-n/2,o-h/2,n,h,r)})),d.on("pointerout",(()=>{l.clear(),l.fillStyle(16777215,1),l.fillRoundedRect(e-n/2,o-h/2,n,h,r)})),d.on("pointerdown",(()=>{const t=a.value.trim();t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?(console.log("Email submitted:",t),this.sendDataToGoogle({question:"Email",answer:t,type:"email"}),this.closeQuizPopup()):p.setText("Please enter a valid email address"):p.setText("Please enter your email address")}))}}updateQuizVisuals(t,e,s,i,a,n,h,o,r){t.forEach(((t,o)=>{const r=n+o*h*3;t.clear(),this.selectedIndices.has(o)?(t.fillStyle(65535,1),t.fillRoundedRect(a-e/2,r-s/2,e,s,i),t.lineStyle(3,1717853,1),t.strokeRoundedRect(a-e/2,r-s/2,e,s,i)):(t.fillStyle(16777215,1),t.fillRoundedRect(a-e/2,r-s/2,e,s,i),t.lineStyle(1,13421772,1),t.strokeRoundedRect(a-e/2,r-s/2,e,s,i))}));const l=200*this.scaleFactor,d=60*this.scaleFactor,c=n+(t.length-1)*h*3+100*this.scaleFactor;o.clear(),this.selectedIndices.size>0?(o.fillStyle(65535,1),o.fillRoundedRect(a-l/2,c-d/2,l,d,12),o.lineStyle(2,255,1),o.strokeRoundedRect(a-l/2,c-d/2,l,d,12),r.setInteractive({useHandCursor:!0})):r.disableInteractive()}submitQuizSelections(){const t=this.quizQuestions[this.currentQuestionIndex];if(0===this.selectedIndices.size)return;const e=[];this.selectedIndices.forEach((s=>{e.push(t.options[s])})),console.log("Selected interactions:",e.join(", ")),this.sendDataToGoogle({question:t.question,answer:e.join(", "),type:"multi-choice"}),this.closeQuizPopup()}closeQuizPopup(){this.currentQuestionIndex++,this.isQuizActive=!1,this.tweens.add({targets:this.quizOverlay,fillAlpha:0,duration:300,ease:"Power2"}),this.tweens.add({targets:this.dialog,scale:0,alpha:0,duration:300,ease:"Back.easeIn"}),this.quizElements.forEach((t=>{t&&t!==this.dialog&&t!==this.quizOverlay&&this.tweens.add({targets:t,alpha:0,duration:200,ease:"Power2"})})),this.time.delayedCall(350,(()=>{this.quizElements.forEach((t=>{t&&t.destroy&&t.destroy()})),this.quizElements=[],this.isQuizActive=!1,this.gamePaused=!1,this.runner.anims.resume(),this.bgTween&&this.bgTween.resume(),this.quizTimer&&(this.quizTimer.paused=!1,this.quizTimer.elapsed=0);const t=this.time.now-this.pauseStartTime;this.lastSpawnTime+=t,this.currentQuestionIndex>=this.quizQuestions.length&&this.time.delayedCall(5e3,(()=>{this.finishGameSequence()}))}))}finishGameSequence(){this.sendDataToGoogle({action:"Game Finished",totalDuration:Math.floor((Date.now()-this.sessionStartTime)/1e3)}),this.input.enabled=!1,this.orbs.forEach((t=>{this.tweens.add({targets:t,alpha:0,duration:1e3,ease:"Power2"})})),this.tweens.add({targets:this.runner,y:this.gridTop,x:this.canvasWidth/2,scale:.2*this.runner.scale,alpha:0,duration:2500,ease:"Power2",onComplete:()=>{this.createEndScreen()}})}createEndScreen(){this.gamePaused=!0,this.runner.anims.pause(),this.bgTween&&this.bgTween.pause();const t=this.canvasWidth/2,e=this.canvasHeight/2,s=this.scaleFactor;this.endScreenElements=[],this.endOverlay=this.add.rectangle(.5*this.canvasWidth,.5*this.canvasHeight,1*this.canvasWidth,1*this.canvasHeight,65762),this.endOverlay.setDepth(600),this.endOverlay.setAlpha(0),this.endScreenElements.push(this.endOverlay),this.tweens.add({targets:this.endOverlay,alpha:1,duration:500,ease:"Power2"}),this.dialog1=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"dialog1"),this.dialog1.setOrigin(.5).setDepth(601),this.dialog1.setScale(0),this.dialog1.setAlpha(1),this.endScreenElements.push(this.dialog1),this.tweens.add({targets:this.dialog1,scale:.31*s,duration:600,ease:"Back.easeOut",delay:100}),this.twinkle=this.add.image(.5*this.canvasWidth,.5*this.canvasHeight,"twinkle"),this.twinkle.setOrigin(.5).setDepth(602),this.twinkle.setScale(0),this.twinkle.setAlpha(0),this.endScreenElements.push(this.twinkle),this.tweens.add({targets:this.twinkle,scale:.3*s,alpha:1,duration:800,ease:"Elastic.easeOut",delay:300}),this.hand1=this.add.image(.2*-this.canvasWidth,.55*this.canvasHeight,"hand1"),this.hand1.setOrigin(0,.5).setDepth(603),this.hand1.setScale(.31*s),this.hand1.setAlpha(1),this.endScreenElements.push(this.hand1),this.tweens.add({targets:this.hand1,x:.05*-this.canvasWidth,duration:600,ease:"Cubic.easeOut",delay:200,onComplete:()=>{this.tweens.add({targets:this.hand1,y:this.hand1.y+10*s,duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.hand2=this.add.image(1.2*this.canvasWidth,.65*this.canvasHeight,"hand2"),this.hand2.setOrigin(1,.5).setDepth(603),this.hand2.setScale(.31*s),this.hand2.setAlpha(1),this.endScreenElements.push(this.hand2),this.tweens.add({targets:this.hand2,x:1.05*this.canvasWidth,duration:600,ease:"Cubic.easeOut",delay:300,onComplete:()=>{this.tweens.add({targets:this.hand2,y:this.hand2.y-10*s,duration:2500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.hand3=this.add.image(this.canvasWidth,1.2*this.canvasHeight,"hand3"),this.hand3.setOrigin(.96).setDepth(605),this.hand3.setScale(.26*s),this.hand3.setAlpha(1),this.endScreenElements.push(this.hand3),this.tweens.add({targets:this.hand3,y:this.canvasHeight,duration:600,ease:"Cubic.easeOut",delay:400,onComplete:()=>{this.tweens.add({targets:this.hand3,y:this.hand3.y+5*s,angle:1,duration:3e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}});const i=this.add.image(.5*this.canvasWidth,.4*this.canvasHeight-200*s,"iionlogo");i.setOrigin(.5).setDepth(604),i.setScale(.35*s),i.setAlpha(0),this.endScreenElements.push(i);const a=this.add.image(t,e-100*s,"popup3");a.setOrigin(.5).setDepth(602),a.setScale(.28*s),this.endScreenElements.push(a);const n=this.add.text(.5*this.canvasWidth,.4*this.canvasHeight-25*s,"You achieved a "+this.engagement.toFixed(0)+"% \nengagement score.",{fontSize:Math.round(32*s)+"px",fontFamily:"Poppins, sans-serif",color:"#ffffff",align:"center",wordWrap:{width:.9*this.canvasWidth}});n.setOrigin(.5).setDepth(604),n.setAlpha(0),this.endScreenElements.push(n);const h=this.add.text(.5*this.canvasWidth,.4*this.canvasHeight+60*s,"Thank You for Sharing Your Insights.\nWe will reach out to you soon.",{fontSize:Math.round(24*s)+"px",fontFamily:"Poppins, sans-serif",color:"#EDB0D1",align:"center"});h.setOrigin(.5).setDepth(604),h.setAlpha(0),this.endScreenElements.push(h),this.tweens.add({targets:this.endScreenElements,alpha:1,duration:800,ease:"Power2",stagger:200})}drawGrid(){const t=this.gridGraphics;t.clear();const e=this.gridTop,s=this.gridBottom,i=s-e,a=this.vanishingPointX,n=this.vanishingPointY,h=this.canvasWidth;t.lineStyle(2,this.gridLineColor,this.gridLineAlpha);const o=this.gridTopWidth,r=this.gridBottomWidth,l=Math.floor(this.vLineCount/2);for(let d=-l;d<=l;d++){const e=d/l,i=a+e*(o/2),h=a+e*(r/2);t.beginPath(),t.moveTo(i,n),t.lineTo(h,s),t.strokePath()}for(let d=0;d<this.hLineCount;d++){const n=(d+this.hLineOffset)/this.hLineCount,h=e+Math.pow(n,2.5)*i;if(h>e&&h<s){const s=(h-e)/i,n=o+(r-o)*s,l=a-n/2,d=a+n/2,c=.3+.7*s;t.lineStyle(1+2*s,this.gridLineColor,c),t.beginPath(),t.moveTo(l,h),t.lineTo(d,h),t.strokePath()}}t.lineStyle(3,this.gridLineColor,1),t.beginPath(),t.moveTo(0,e),t.lineTo(h,e),t.strokePath()}generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}sendDataToGoogle(t){this.userId||(this.userId=this.generateUUID());const e={userId:this.userId,timestamp:(new Date).toISOString(),duration:Math.floor((Date.now()-this.sessionStartTime)/1e3),score:this.coinsCollected||0,...t};console.log("Sending data to Google:",e),fetch(this.googleScriptURL,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch((t=>console.error("Error sending data:",t)))}}class i extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:s,scaleFactor:i,topMarginOffset:a,leftMarginOffsetPercentage:n,isMobileDevice:h,isIphoneDevice:o}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=i}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"",{fontFamily:"FlameBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,s=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=s,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.add.sprite(this.canvasWidth/2,700,"iionlogo2").setScale(1.3);let t=this.add.rectangle(this.canvasWidth/2,this.canvasHeight/2,560,10,13224393);t.width=590,t.alpha=.4;let e=this.add.rectangle(this.canvasWidth/2,this.canvasHeight/2,560,10,16777215);e.alpha=.8,this.load.on("progress",(t=>{e.width=590*t})),this.load.on("complete",(()=>{setTimeout((()=>{this.scene.start("MainMenu")}),250)}),this),this.load.setPath("assets"),this.load.image("city","city.png"),this.load.image("road","road2.png"),this.load.atlas("iionrunner","runner.png","runner.json"),this.load.image("iionorb","iionorb.png"),this.load.image("dialog","dialog.png"),this.load.image("buildings","buildings.png"),this.load.image("clouds","clouds.png"),this.load.image("ob1","ob1.png"),this.load.image("ob2","ob2.png"),this.load.image("trees","trees.png"),this.load.image("iionblack","iionlogoblack.png"),this.load.image("plane","plane.png"),this.load.image("dialog1","dialog1.png"),this.load.image("popup","popup.png"),this.load.image("popup2","popup2.png"),this.load.image("popup3","popup3.png"),this.load.image("twinkle","twinkle.png"),this.load.image("hand1","hand1.png"),this.load.image("hand2","hand2.png"),this.load.image("hand3","hand3.png"),this.load.image("iionlogo","iionlogo.png")}create(){}}class a extends t.Scene{constructor(){super("Boot")}init(){const{canvasWidth:t,canvasHeight:s,scaleFactor:i,topMarginOffset:a,leftMarginOffsetPercentage:n,isMobileDevice:h,isIphoneDevice:o}=e(this);this.canvasWidth=t,this.canvasHeight=s,this.scaleFactor=i}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"",{fontFamily:"FlameBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,s=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,s),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=s,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.setPath(window.trackingPath),this.load.image("iionlogo2","iionlogo2.png")}create(){this.scene.start("Preloader")}}let n=/Mobi|Android/i.test(navigator.userAgent);const h={type:Phaser.AUTO,parent:"game-container",width:1080,height:1920,scale:{mode:n?Phaser.Scale.ENVELOP:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},transparent:!0,scene:[a,i,s],dom:{createContainer:!0},fps:{target:60,forceSetTimeOut:!0}};new Phaser.Game(h);
