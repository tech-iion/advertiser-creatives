import{p as e}from"./phaser-DM0uoNMb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t extends e.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class a extends e.Scene{constructor(){super("Game")}create(){this.cameras.main.setBackgroundColor(65280),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Want to make something fun!\nContact me at:\nsnktcodes@gmail.com",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("GameOver")}))}}class s extends e.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function i(e,t){const a=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,n=window.innerHeight;let o,r;o=e.game.canvas.width,r=e.game.canvas.height;const h=document.getElementsByTagName("canvas")[0],d=Math.abs(parseFloat(h.style.marginTop||0))/i*o+(s?130:0),l=Math.abs(parseFloat(h.style.marginLeft||0))/n*r;let c=n/(i+2*l)*.85;return a?{canvasWidth:o,canvasHeight:r,scaleFactor:c,topMarginOffset:d,leftMarginOffsetPercentage:l,isMobileDevice:a,isIphoneDevice:s}:(c=1.4,{canvasWidth:o,canvasHeight:r,scaleFactor:c,topMarginOffset:0,leftMarginOffsetPercentage:0})}class n extends e.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:e,canvasHeight:t,scaleFactor:a,topMarginOffset:s,leftMarginOffsetPercentage:n,isMobileDevice:o,isIphoneDevice:r}=i(this);console.log(i(this)),this.image=this.add.image(e/2,t/2,"background"),this.image.setOrigin(.5),this.image.setScale(.5*a),this.aurablack=this.add.image(e/2,t/2,"aurablack"),this.aurablack.setOrigin(.5),this.aurablack.setScale(.5*a),this.image2=this.add.image(.9*e,t/2,"dawnshorehero"),this.image2.setOrigin(.5),this.image2.setScale(1.65*a).setAlpha(0),this.panSpeed=.5,this.leftBoundary=.3*e,this.rightBoundary=.7*e,this.logo=this.add.image(e/2,.12*t-100,"logo"),this.logo.setOrigin(.5),this.logo.setAlpha(0),this.logo.setScale(0),this.tweens.add({targets:this.logo,y:.12*t,alpha:1,scale:1.3*a,duration:1e3,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:this.logo,scale:1.3*a*1.025,duration:600,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}}),this.hand=this.add.image(e/2,.98*t,"hand"),this.hand.setOrigin(.5,1).setAlpha(0),this.hand.setScale(.3*a),this.isSwiping=!1,this.initialY=null,this.currentScale=.5*a,this.minScale=.5*a,this.maxScale=4*a;const h=.8*t;this.input.on("pointerdown",(e=>{e.y>=h&&(this.isSwiping=!0,this.initialY=e.y)})),this.countdrag=0,this.input.on("pointermove",(e=>{if(this.isSwiping){const a=this.initialY-e.y;if(Math.abs(a)>5){let s=this.currentScale+.001*a;s=Phaser.Math.Clamp(s,this.minScale,this.maxScale),this.tweens.killTweensOf(this.image),this.tweens.add({targets:this.image,scale:s,y:t/2,duration:200,ease:"Power2"}),this.tweens.add({targets:this.aurablack,scale:s,y:t/2,duration:200,ease:"Power2"}),this.currentScale=s,this.initialY=e.y}}})),this.input.on("pointerup",(()=>{if(this.isSwiping=!1,this.countdrag++,1===this.countdrag&&(this.textChange4.text="",this.tweens.add({targets:this.textChange,y:.7*t,duration:200,ease:"Power2"}),this.textChange.text="Keep swiping UP to enter",this.textChange2.setAlpha(1),this.tweens.add({targets:this.hand,alpha:1,duration:1e3,ease:"Power2"}),this.tweens.add({targets:this.hand,y:.85*t+s,duration:1e3,ease:"Power2",repeat:-1}),this.tweens.add({targets:this.textChange2,y:.5*t,duration:500,ease:"Power2"}),this.typewriteText(this,this.textChange2,"DO YOU DARE \nTO ENTER?",25)),2===this.countdrag&&this.tweens.add({targets:this.textChange2,alpha:0,y:this.textChange.y+3*this.textChange.displayHeight,duration:500,ease:"Power2"}),3===this.countdrag&&this.tweens.add({targets:this.aurablack,alpha:.8,duration:200,ease:"Power2"}),4===this.countdrag&&(this.textChange2.text="",this.tweens.add({targets:this.aurablack,alpha:.6,duration:200,ease:"Power2"})),5===this.countdrag&&this.tweens.add({targets:this.aurablack,alpha:.4,duration:200,ease:"Power2"}),6===this.countdrag&&this.tweens.add({targets:this.aurablack,alpha:.2,duration:200,ease:"Power2"}),7===this.countdrag){let e=function(){const e=document.createElement("div");e.className="camera-flash",document.body.appendChild(e),e.addEventListener("animationend",(()=>{document.body.removeChild(e)}))};this.tweens.add({targets:this.aurablack,alpha:0,duration:200,ease:"Power2"}),e(),setTimeout((()=>{this.image2.setAlpha(1),this.logo.setTint(0),this.hand.setAlpha(0),this.textChange.text="",this.tweens.add({targets:this.textChange2,alpha:1,y:.85*t,duration:500,ease:"Power2"}),this.textChange2.text="Forge your \ndestiny",this.typewriteText(this,this.textChange2,"Forge your destiny",50)}),500)}8===this.countdrag&&(this.textChange2.text="",this.tweens.add({targets:this.image2,alpha:0,duration:500,ease:"Power2"}),this.image.setScale(.95*a),this.image.setTexture("avowed"),this.buynow=this.add.image(e/2,.7*t+s,"buynow"),this.buynow.setOrigin(.5),this.buynow.setScale(.5*a),this.tweens.add({targets:this.buynow,scale:.55*a,duration:500,ease:"Power2",yoyo:!0,repeat:-1})),this.countdrag>=9&&document.getElementById("openWindowButton").click()})),this.textChange4=this.add.text(.5*e,.5*t,"CLICK TO PROCEED",{fontFamily:"abrilbold",fontSize:56*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setOrigin(.5),this.typewriteText(this,this.textChange4,"CLICK TO PROCEED",25),this.textChange=this.add.text(.5*e,.78*t,"The mysterious \nliving land is calling \nout to you.",{fontFamily:"abrilsemibold",fontSize:44*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setOrigin(.5).setAlpha(0),setTimeout((()=>{this.textChange.setAlpha(.25)}),700),this.tweens.add({targets:this.textChange,scale:1.1,alpha:1,duration:500,delay:700,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}),this.textChange2=this.add.text(.5*e,.8*t,"DO YOU DARE \nTO ENTER?",{fontFamily:"abrilextrabold",fontSize:80*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).disableInteractive().setOrigin(.5).setAlpha(0)}typewriteText(e,t,a,s){let i=0;t.text="",e.time.addEvent({delay:s,repeat:a.length-1,callback:()=>{t.text+=a[i],i++}})}update(e,t){1===this.image2.alpha&&(this.image2.x-=this.panSpeed,this.image2.x<=this.leftBoundary?(this.panSpeed=-this.panSpeed,this.image2.x=this.leftBoundary):this.image2.x>=this.rightBoundary&&(this.panSpeed=-this.panSpeed,this.image2.x=this.rightBoundary))}openWindow(){const e=window.open("https://avowed.obsidian.net","_blank");!e||e.closed||e.closed}}class o extends e.Scene{constructor(){super("Preloader")}init(){i(this),console.log(i(this)),this.load.on("progress",(e=>{}))}preload(){this.load.setPath("assets"),this.load.image("buynow","buyNow.png"),this.load.image("logo","logo.png"),this.load.image("avowed","Avowed.png"),this.load.image("hand","hand.png"),this.load.image("dawnshorehero","dawnshorehero.png"),this.load.image("aurablack","aurablack.png")}create(){this.scene.start("MainMenu")}}const r={type:Phaser.AUTO,width:1280,height:1920,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[t,o,n,a,s]};new Phaser.Game(r);
