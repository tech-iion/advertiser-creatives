import{p as t}from"./phaser-DM0uoNMb.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const a of t)if("childList"===a.type)for(const t of a.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class a extends t.Scene{constructor(){super("Game")}create(){this.cameras.main.setBackgroundColor(65280),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Want to make something fun!\nContact me at:\nsnktcodes@gmail.com",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("GameOver")}))}}class s extends t.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function i(t,e){const a=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,n=window.innerHeight;let h,r;h=t.game.canvas.width,r=t.game.canvas.height;const o=document.getElementsByTagName("canvas")[0],d=Math.abs(parseFloat(o.style.marginTop||0))/i*h+(s?130:0),l=Math.abs(parseFloat(o.style.marginLeft||0))/n*r;let g=n/(i+2*l)*.85;return a?{canvasWidth:h,canvasHeight:r,scaleFactor:g,topMarginOffset:d,leftMarginOffsetPercentage:l,isMobileDevice:a,isIphoneDevice:s}:(g=1.4,{canvasWidth:h,canvasHeight:r,scaleFactor:g,topMarginOffset:0,leftMarginOffsetPercentage:0})}class n extends t.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:t,canvasHeight:e,scaleFactor:a,topMarginOffset:s,leftMarginOffsetPercentage:n,isMobileDevice:h,isIphoneDevice:r}=i(this);console.log(i(this)),this.image=this.add.image(t/2,e/2,"background"),this.image.setOrigin(.5),this.image.setScale(.5*a),this.aurablack=this.add.image(t/2,e/2,"aurablack"),this.aurablack.setOrigin(.5),this.aurablack.setScale(.5*a),this.image2=this.add.image(.9*t,e/2,"dawnshorehero"),this.image2.setOrigin(.5),this.image2.setScale(1.65*a).setAlpha(0),this.panSpeed=.5,this.leftBoundary=.3*t,this.rightBoundary=.7*t,this.logo=this.add.image(t/2,.12*e-100,"logo"),this.logo.setOrigin(.5),this.logo.setAlpha(0),this.logo.setScale(0),this.tweens.add({targets:this.logo,y:.12*e,alpha:1,scale:1.3*a,duration:1e3,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:this.logo,scale:1.3*a*1.025,duration:600,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}}),this.hand=this.add.image(t/2,.98*e,"hand"),this.hand.setOrigin(.5,1).setAlpha(0),this.hand.setScale(.3*a),this.isSwiping=!1,this.initialY=null,this.currentScale=.5*a,this.minScale=.5*a,this.maxScale=4*a;const o=.8*e;this.input.on("pointerdown",(t=>{t.y>=o&&(this.isSwiping=!0,this.initialY=t.y)})),this.countdrag=0,this.input.on("pointermove",(t=>{if(this.isSwiping){const a=this.initialY-t.y;if(Math.abs(a)>5){let s=this.currentScale+.001*a;s=Phaser.Math.Clamp(s,this.minScale,this.maxScale),this.tweens.killTweensOf(this.image),this.tweens.add({targets:this.image,scale:s,y:e/2,duration:200,ease:"Power2"}),this.tweens.add({targets:this.aurablack,scale:s,y:e/2,duration:200,ease:"Power2"}),this.currentScale=s,this.initialY=t.y}}})),this.input.on("pointerup",(()=>{if(this.isSwiping=!1,this.countdrag++,1===this.countdrag&&(this.textChange4.text="",this.tweens.add({targets:this.textChange,y:.7*e,duration:200,ease:"Power2"}),this.textChange.text="Keep swiping UP to enter",this.textChange2.setAlpha(1),this.tweens.add({targets:this.hand,alpha:1,duration:1e3,ease:"Power2"}),this.tweens.add({targets:this.hand,y:.85*e+s,duration:1e3,ease:"Power2",repeat:-1}),this.tweens.add({targets:this.textChange2,y:.5*e,duration:500,ease:"Power2"}),this.typewriteText(this,this.textChange2,"DO YOU DARE \nTO ENTER?",25)),2===this.countdrag&&this.tweens.add({targets:this.textChange2,alpha:0,y:this.textChange.y+3*this.textChange.displayHeight,duration:500,ease:"Power2"}),3===this.countdrag&&this.tweens.add({targets:this.aurablack,alpha:.8,duration:200,ease:"Power2"}),4===this.countdrag&&(this.textChange2.text="",this.tweens.add({targets:this.aurablack,alpha:.6,duration:200,ease:"Power2"})),5===this.countdrag&&this.tweens.add({targets:this.aurablack,alpha:.4,duration:200,ease:"Power2"}),6===this.countdrag&&this.tweens.add({targets:this.aurablack,alpha:.2,duration:200,ease:"Power2"}),7===this.countdrag){let t=function(){const t=document.createElement("div");t.className="camera-flash",document.body.appendChild(t),t.addEventListener("animationend",(()=>{document.body.removeChild(t)}))};this.tweens.add({targets:this.aurablack,alpha:0,duration:200,ease:"Power2"}),t(),setTimeout((()=>{this.image2.setAlpha(1),this.logo.setTint(0),this.hand.setAlpha(0),this.textChange.text="",this.tweens.add({targets:this.textChange2,alpha:1,y:.85*e,duration:500,ease:"Power2"}),this.textChange2.text="Forge your \ndestiny",this.typewriteText(this,this.textChange2,"Forge your destiny",50)}),500)}8===this.countdrag&&(this.textChange2.text="",this.tweens.add({targets:this.image2,alpha:0,duration:500,ease:"Power2"}),this.image.setScale(1.2*a),this.image.setTexture("bg2"),this.logo.setVisible(!1),this.textChange.setVisible(!1),this.textChange2.setVisible(!1),this.textChange4.setVisible(!1),this.aurablack.setVisible(!1),this.char=this.add.image(t/2,.3*e,"char"),this.char.setOrigin(.5),this.char.setScale(1*a).setAlpha(0),this.avowed=this.add.image(t/2,.3*e,"avowed"),this.avowed.setOrigin(.5),this.avowed.setScale(.12*a),this.buynow=this.add.image(t/2,.65*e+s,"preorderBtn"),this.buynow.setOrigin(.5),this.buynow.setScale(.7*a),this.tweens.add({targets:this.buynow,scale:.75*a,duration:500,ease:"Power2",yoyo:!0,repeat:-1}),this.tweens.add({targets:this.avowed,y:.525*e,duration:500,ease:"Power2",yoyo:!1,repeat:0}),this.txt1=this.add.image(t/2,.75*e,"txt1"),this.txt1.setOrigin(.5),this.txt1.setScale(.8*a).setAlpha(0),this.txt2=this.add.image(t/2,.85*e,"txt2"),this.txt2.setOrigin(.5),this.txt2.setScale(.8*a).setAlpha(0),this.txt3=this.add.image(t/2,.95*e,"txt3"),this.txt3.setOrigin(.5),this.txt3.setScale(.8*a).setAlpha(0),this.tweens.add({targets:[this.txt1,this.txt2,this.txt3,this.char],alpha:1,duration:500,ease:"Power2",yoyo:!1,repeat:0})),this.countdrag>=9&&document.getElementById("openWindowButton").click()})),this.textChange4=this.add.text(.5*t,.5*e,"CLICK TO PROCEED",{fontFamily:"abrilbold",fontSize:56*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setOrigin(.5),this.typewriteText(this,this.textChange4,"CLICK TO PROCEED",25),this.textChange=this.add.text(.5*t,.78*e,"The mysterious \nliving land is calling \nout to you.",{fontFamily:"abrilsemibold",fontSize:44*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setOrigin(.5).setAlpha(0),setTimeout((()=>{this.textChange.setAlpha(.25)}),700),this.tweens.add({targets:this.textChange,scale:1.1,alpha:1,duration:500,delay:700,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}),this.textChange2=this.add.text(.5*t,.8*e,"DO YOU DARE \nTO ENTER?",{fontFamily:"abrilextrabold",fontSize:80*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).disableInteractive().setOrigin(.5).setAlpha(0)}typewriteText(t,e,a,s){let i=0;e.text="",t.time.addEvent({delay:s,repeat:a.length-1,callback:()=>{e.text+=a[i],i++}})}update(t,e){1===this.image2.alpha&&(this.image2.x-=this.panSpeed,this.image2.x<=this.leftBoundary?(this.panSpeed=-this.panSpeed,this.image2.x=this.leftBoundary):this.image2.x>=this.rightBoundary&&(this.panSpeed=-this.panSpeed,this.image2.x=this.rightBoundary))}openWindow(){const t=window.open("https://avowed.obsidian.net","_blank");!t||t.closed||t.closed}}class h extends t.Scene{constructor(){super("Preloader")}init(){i(this),console.log(i(this)),this.load.on("progress",(t=>{}))}preload(){this.load.setPath("assets"),this.load.image("buynow","buyNow.png"),this.load.image("logo","logo.png"),this.load.image("avowed","avowedtxt.png"),this.load.image("hand","hand.png"),this.load.image("dawnshorehero","dawnshorehero.png"),this.load.image("aurablack","aurablack.png"),this.load.image("bg2","bg2.png"),this.load.image("char","char2.png"),this.load.image("preorderBtn","preorderBtn.png"),this.load.image("txt1","txt1.png"),this.load.image("txt2","txt2.png"),this.load.image("txt3","txt3.png")}create(){this.scene.start("MainMenu")}}const r={type:Phaser.AUTO,width:1280,height:1920,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,h,n,a,s]};new Phaser.Game(r);
