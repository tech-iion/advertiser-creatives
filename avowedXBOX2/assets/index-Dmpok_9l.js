import{p as e}from"./phaser-DM0uoNMb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class t extends e.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class a extends e.Scene{constructor(){super("Game")}create(){this.cameras.main.setBackgroundColor(65280),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Want to make something fun!\nContact me at:\nsnktcodes@gmail.com",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("GameOver")}))}}class s extends e.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}function i(e,t){const a=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),i=window.innerWidth,n=window.innerHeight;let o,h;o=e.game.canvas.width,h=e.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],d=Math.abs(parseFloat(r.style.marginTop||0))/i*o+(s?130:0),c=Math.abs(parseFloat(r.style.marginLeft||0))/n*h;let g=n/(i+2*c)*.85;return a?{canvasWidth:o,canvasHeight:h,scaleFactor:g,topMarginOffset:d,leftMarginOffsetPercentage:c,isMobileDevice:a,isIphoneDevice:s}:(g=1.4,{canvasWidth:o,canvasHeight:h,scaleFactor:g,topMarginOffset:0,leftMarginOffsetPercentage:0})}class n extends e.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:e,canvasHeight:t,scaleFactor:a,topMarginOffset:s,leftMarginOffsetPercentage:n,isMobileDevice:o,isIphoneDevice:h}=i(this);console.log(i(this)),this.image=this.add.image(e/2,t/2,"background"),this.image.setOrigin(.5),this.image.setScale(1.2*a),this.tweens.add({targets:this.image,x:{from:e/2-80,to:e/2+80},duration:12e3,yoyo:!0,repeat:-1,ease:"Linear"}),this.image2=this.add.image(e/2,t/2,"dawnshorehero"),this.image2.setOrigin(.5),this.image2.setScale(1.6*a).setAlpha(0),this.image3=this.add.image(e/2,t/2,"avowed"),this.image3.setOrigin(.5),this.image3.setScale(1.5*a).setAlpha(0),this.logo=this.add.image(e/2,.12*t-100,"logo"),this.logo.setOrigin(.5),this.logo.setAlpha(0),this.logo.setScale(0),this.tweens.add({targets:this.logo,y:.12*t,alpha:1,scale:1.3*a,duration:1e3,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:this.logo,scale:1.3*a*1.025,duration:600,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}});const r=.25*e,d=.17*t,c=e/2,g=.6*t;this.char1=this.add.image(c-r,g-d,"char1"),this.char1.setOrigin(.5),this.char1.setScale(.3*a).setAlpha(0),this.char2=this.add.image(c+r,g-d,"char2"),this.char2.setOrigin(.5),this.char2.setScale(.3*a).setAlpha(0),this.char3=this.add.image(c-r,g+d,"char3"),this.char3.setOrigin(.5),this.char3.setScale(.3*a).setAlpha(0),this.char4=this.add.image(c+r,g+d,"char4"),this.char4.setOrigin(.5),this.char4.setScale(.3*a).setAlpha(0),[this.char1,this.char2,this.char3,this.char4].forEach(((e,t)=>{e.setInteractive(),this.tweens.add({targets:e,y:e.y-10,duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",delay:200*t}),e.on("pointerover",(()=>{this.tweens.add({targets:e,scale:1.1*e.scale,duration:200,ease:"Back.easeOut"})})),e.on("pointerout",(()=>{this.tweens.add({targets:e,scale:.3*a,duration:200,ease:"Back.easeOut"})}))})),this.choosechar=this.add.image(e/2,.98*t,"choosechar"),this.choosechar.setOrigin(.5,1).setAlpha(0),this.choosechar.setScale(.3*a),this.isSwiping=!1,this.initialY=null,this.currentScale=.5*a,this.minScale=.5*a,this.maxScale=4*a,this.countdrag=0,this.input.on("pointermove",(e=>{if(this.isSwiping){const a=this.initialY-e.y;if(Math.abs(a)>10){let s=this.currentScale+.001*a;s=Phaser.Math.Clamp(s,this.minScale,this.maxScale),this.image.setScale(s),this.image.y=t/2,this.currentScale=s,this.initialY=e.y}}})),this.input.on("pointerdown",(i=>{if(this.isSwiping=!1,this.countdrag++,1===this.countdrag&&(this.textChange4.text="",this.textChange2.text="YOU HAVE\nBEEN\nCHOOSEN",this.textChange2.setScale(.5),this.tweens.add({targets:this.textChange2,alpha:1,scale:1,y:this.textChange.y-2.2*this.textChange.displayHeight,duration:800,ease:"Back.easeOut",onComplete:()=>{const e=this.textChange2.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:e,outerStrength:2,yoyo:!0,repeat:-1,duration:1500,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange2,y:"+=10",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange2,scale:"+=0.05",duration:1500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.tweens.add({targets:this.textChange,alpha:1,scale:{from:.5,to:1},duration:800,ease:"Back.easeOut",onComplete:()=>{const e=this.textChange.preFX.addGlow(16777215,0,0,!1,.1,16);this.textChangeEffects=[],this.textChangeEffects.push(this.tweens.add({targets:e,outerStrength:3,yoyo:!0,repeat:-1,duration:1800,ease:"Sine.easeInOut"})),this.textChangeEffects.push(this.tweens.add({targets:this.textChange,y:"-=8",duration:1800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})),this.textChangeEffects.push(this.tweens.add({targets:this.textChange,scale:"*=1.08",duration:1300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}))}})),2===this.countdrag&&(this.tweens.add({targets:this.textChange2,alpha:0,y:this.textChange.y+2.2*this.textChange.displayHeight,duration:500,ease:"Power2"}),this.textChangeEffects&&(this.textChangeEffects.forEach((e=>{e.remove()})),this.textChange.preFX.clear()),this.textChange.text="TAP to choose",this.tweens.add({targets:this.textChange,alpha:1,y:.95*t,duration:500,ease:"Power2"}),this.tweens.add({targets:this.textChange5,alpha:1,y:this.logo.y+.6*this.logo.displayHeight,duration:500,ease:"Power2"}),this.tweens.add({targets:[this.char1,this.char2,this.char3,this.char4],alpha:1,duration:500,ease:"Power2",onComplete:()=>{const e=[this.char1,this.char2,this.char3,this.char4];e.forEach(((t,s)=>{t.setInteractive(),t.on("pointerdown",(()=>{e.forEach((e=>{e.removeAllListeners("pointerover"),e.removeAllListeners("pointerout"),e.disableInteractive()})),this.textChange5.alpha=0,t.setDepth(100),this.tweens.add({targets:t,x:c,y:g,scale:.6*a,duration:800,ease:"Back.easeOut",onComplete:()=>{t.setInteractive(),this.tweens.add({targets:t,y:g-15,duration:1200,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),e.forEach((e=>{e!==t&&this.tweens.add({targets:e,alpha:0,scale:.2*a,duration:400,ease:"Back.easeIn"})})),this.buynow&&this.buynow.destroy()}))}))}})),this.countdrag,4===this.countdrag){this.textChange2.text="",n(),this.tweens.add({targets:[this.char1,this.char2,this.char3,this.char4,this.logo,this.textChange],alpha:0,duration:500,ease:"Power2"}),this.tweens.add({targets:[this.choosechar,this.textChange5],alpha:0,duration:500,ease:"Power2"}),this.image3.setTexture("bg2"),this.tweens.add({targets:this.image3,alpha:1,duration:500,ease:"Power2"}),this.char=this.add.image(e/2,.3*t,"char"),this.char.setOrigin(.5),this.char.setScale(1*a).setAlpha(0),this.tweens.add({targets:this.char,y:"+=15",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.avowed=this.add.image(e/2,.3*t,"avowed"),this.avowed.setOrigin(.5),this.avowed.setScale(.12*a);const s=this.avowed.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:s,outerStrength:4,yoyo:!0,repeat:-1,duration:1500,ease:"Sine.easeInOut"}),this.buynow=this.add.image(e/2,.65*t,"preorderBtn"),this.buynow.setOrigin(.5),this.buynow.setScale(.7*a),this.tweens.add({targets:this.buynow,scale:.8*a,duration:1e3,ease:"Back.easeInOut",yoyo:!0,repeat:-1});const i=this.buynow.preFX.addGlow(16777215,0,0,!1,.1,16);this.tweens.add({targets:i,outerStrength:2,yoyo:!0,repeat:-1,duration:1200,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.avowed,y:.525*t,duration:1e3,ease:"Back.easeOut",yoyo:!1,repeat:0});const o=(t,s,i)=>{const n=this.add.image(e/2,t,s);return n.setOrigin(.5),n.setScale(0).setAlpha(0),this.tweens.add({targets:n,scale:.8*a,alpha:1,duration:800,delay:i,ease:"Back.easeOut"}),this.tweens.add({targets:n,scale:.85*a,duration:2e3,delay:i+800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),n};this.txt1=o(.75*t,"txt1",0),this.txt2=o(.85*t,"txt2",200),this.txt3=o(.95*t,"txt3",400),this.tweens.add({targets:this.char,alpha:1,scale:{from:.8*a,to:1*a},duration:1e3,ease:"Back.easeOut"})}function n(){const e=document.createElement("div");e.className="camera-flash",document.body.appendChild(e),e.addEventListener("animationend",(()=>{document.body.removeChild(e)}))}5===this.countdrag&&document.getElementById("openWindowButton").click(),this.countdrag,7===this.countdrag&&(n(),setTimeout((()=>{this.image2.setAlpha(1),this.textChange.text="",this.tweens.add({targets:this.textChange2,alpha:1,y:this.textChange.y-1*this.textChange.displayHeight,duration:500,ease:"Power2"}),this.textChange2.text="Forge your \ndestiny"}),500)),8===this.countdrag&&(this.textChange2.text="",this.tweens.add({targets:this.image2,alpha:0,duration:500,ease:"Power2"}),this.tweens.add({targets:this.image3,alpha:1,duration:500,ease:"Power2"}),this.buynow=this.add.image(e/2,.7*t+s,"buynow"),this.buynow.setOrigin(.5),this.buynow.setScale(.5*a),this.tweens.add({targets:this.buynow,scale:.6*a,duration:500,ease:"Power2",yoyo:!0,repeat:-1})),this.countdrag>=9&&document.getElementById("openWindowButton").click()})),this.textChange4=this.add.text(.5*e,.5*t,"CLICK TO PROCEED",{fontFamily:"abrilbold",fontSize:56*a,color:"#ffffff",stroke:"#ffffff",strokeThickness:1,align:"center",shadow:{color:"#000000",fill:!0,offsetX:2,offsetY:2,blur:8}}).setOrigin(.5).setScale(.5),this.tweens.add({targets:this.textChange4,scale:1,alpha:{from:0,to:1},duration:800,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:this.textChange4,scale:{from:1,to:1.1},strokeThickness:{from:1,to:4},duration:800,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.textChange4,alpha:{from:.8,to:1},duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}),this.textChange=this.add.text(.5*e,.78*t,"to be the envoy of\nthe living land!",{fontFamily:"abrilsemibold",fontSize:60*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setAlpha(0).setOrigin(.5),this.textChange5=this.add.text(.5*e,.5*-t,"Choose your comapnion",{fontFamily:"abrilsemibold",fontSize:50*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).setAlpha(0).setOrigin(.5),this.textChange2=this.add.text(.5*e,.8*t,"YOU HAVE\nBEEN\nCHOOSEN",{fontFamily:"abrilextrabold",fontSize:120*a,color:"#ffffff",stroke:"#000000",strokeThickness:0,align:"center"}).disableInteractive().setOrigin(.5).setAlpha(0)}openWindow(){const e=window.open("https://avowed.obsidian.net","_blank");!e||e.closed||e.closed}}class o extends e.Scene{constructor(){super("Preloader")}init(){i(this),console.log(i(this)),this.load.on("progress",(e=>{}))}preload(){this.load.setPath("assets"),this.load.image("choosechar","choosechar.png"),this.load.image("buynow","addtowishlist.png"),this.load.image("logo","logo2.png"),this.load.image("avowed","avowedtxt.png"),this.load.image("hand","hand.png"),this.load.image("dawnshorehero","Dawnshore-Hero-Shot.jpg"),this.load.image("avowedtxt","avowedtxt.png"),this.load.image("char1","1.jpeg"),this.load.image("char2","2.jpeg"),this.load.image("char3","3.jpeg"),this.load.image("char4","4.jpeg"),this.load.image("bg2","bg2.png"),this.load.image("char","char2.png"),this.load.image("preorderBtn","preorderBtn.png"),this.load.image("txt1","txt1.png"),this.load.image("txt2","txt2.png"),this.load.image("txt3","txt3.png")}create(){this.scene.start("MainMenu")}}const h={type:Phaser.AUTO,width:1280,height:1920,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[t,o,n,a,s]};new Phaser.Game(h);
