import{p as t}from"./phaser-DM0uoNMb.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("background",window.globalassetPath+"bg.png")}create(){this.scene.start("Preloader")}}function s(t,e){return{canvasWidth:t.game.canvas.width,canvasHeight:t.game.canvas.height}}const i={retryCount:0,language:"FR",path:""};class a extends t.Scene{constructor(){super("Game")}create(){const{canvasWidth:t,canvasHeight:e}=s(this);this.fnfetchAPI(window.trackingType+"ExperienceComplete");const a=t/2;this.cameras.main.fadeIn(500,0,0,0);const n=this.add.text(a,.2*e,"Well Done!",{fontSize:"80px",fontFamily:"Asap",fill:"#ffffff",align:"center"}).setOrigin(.5),h=this.add.text(a,.35*e,"For more food safety tips, visit",{fontSize:"50px",fontFamily:"Asap",fill:"#ffffff",align:"center"}).setOrigin(.5),o=this.add.text(a,.4*e,"Canada.ca/foodsafety",{fontSize:"50px",fontFamily:"Asap",fill:"#FBDF42",align:"center"}).setOrigin(.5);n.setText("Bien joué !"),h.setText("Pour plus de conseils sur la \ncuisson sécuritaire, visitez"),o.setText("Canada.ca/salubrite-aliments");const r=this.add.image(a,.6*e,"tryagainbtn"+i.language).setInteractive({useHandCursor:!0}).setScale(.5),d=this.add.image(a,e,"learnBtn"+i.language).setInteractive({useHandCursor:!0}).setScale(.56).setOrigin(.5,1).setDepth(1);d.on("pointerover",(()=>{this.tweens.add({targets:d,scale:.6,duration:100,ease:"Power2"})})),d.on("pointerout",(()=>{this.tweens.add({targets:d,scale:.56,duration:100,ease:"Power2"})})),d.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"LearnMore"),window.open(window.setTracker+"https://www.Canada.ca/salubritealiments","_blank"),this.tweens.add({targets:d,scale:.5,duration:100,ease:"Power2",onComplete:()=>{this.tweens.add({targets:d,scale:.56,duration:100,ease:"Back.easeOut",onComplete:()=>{window.open("https://www.Canada.ca/foodsafety","_blank")}})}})})),r.on("pointerover",(()=>{this.tweens.add({targets:r,scale:.54,duration:100,ease:"Power2"})})),r.on("pointerout",(()=>{this.tweens.add({targets:r,scale:.5,duration:100,ease:"Power2"})})),r.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"TryAgain"),i.retryCount++,this.cameras.main.fadeOut(500,0,0,0),setTimeout((()=>{this.scene.start("MainMenu")}),500)}));const c=[n,h,o,r];d.setAlpha(0),d.y+=50,c.forEach(((t,e)=>{t.setAlpha(0),t.y+=20*e})),this.tweens.add({targets:c,alpha:1,y:"-=20",duration:500,ease:"Back.easeOut",delay:this.tweens.stagger(200),onComplete:()=>{c.forEach((t=>{this.tweens.add({targets:t,y:"+=5",duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})})),this.tweens.add({targets:d,alpha:1,y:"-=50",duration:700,ease:"Back.easeOut",onComplete:()=>{this.tweens.add({targets:d,y:"+=8",duration:2500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}})}})}fnfetchAPI(t){fetch(t,{method:"GET"}).then((t=>console.log("Tracking sent:",t.status))).catch((t=>console.error("Tracking error:",t)))}}class n extends t.Scene{constructor(){super("MainMenu")}create(){this.firstQuestionCorrect=!1,this.secondQuestionCorrect=!1,this.handclick=null;const{canvasWidth:t,canvasHeight:e}=s(this);this.image=this.add.image(.1*-t,e/2,"background"),this.image.setOrigin(0,.5),this.image.setScale(2.94),this.image.alpha=0,this.tweens.add({targets:this.image,alpha:1,duration:800,ease:"Power2"}),this.logo=this.add.image(.5*t,.2*e,"logo"),this.logo.setOrigin(.5,.5),this.logo.setScale(2.52),this.logo.alpha=0,this.tweens.add({targets:this.logo,alpha:1,duration:800,ease:"Power2"}),this.firstPage(t,e,1.4);const i={minHours:0,maxHours:40,currentHours:20,maxLeaveBalance:72,userHasDragged:!1,showWarning:!1},a=document.getElementById("slider-track"),n=document.getElementById("slider-thumb"),h=document.getElementById("hours-value"),o=document.getElementById("thumb-value"),r=document.getElementById("leave-balance");function d(){window.userHasDraggedSlider=i.userHasDragged;const t=m(i.currentHours),e=parseInt(r.textContent);r.textContent=t!==e?e:t+5,i.showWarning=i.userHasDragged&&t!==parseInt(r.textContent),window.showLeaveBalanceWarning=i.showWarning;try{if(window.game&&window.game.scene&&window.game.scene.scenes&&window.game.scene.scenes[0]){const t=window.game.scene.scenes[0];t.warning&&(i.showWarning?t.warning.alpha=1:t.warning.alpha=0),i.userHasDragged&&t.btn2?(t.btn2.alpha=1,t.btn2.setInteractive({useHandCursor:!0})):!i.userHasDragged&&t.btn2&&(t.btn2.alpha=.5,t.btn2.disableInteractive())}}catch(s){console.error("Error accessing game scene:",s)}}let c=!1;function l(t){t.preventDefault(),c=!0,this.handclick&&(this.handclick.destroy(),this.handclick=null),document.addEventListener("mousemove",g),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("mouseup",p),document.addEventListener("touchend",p)}function g(t){if(!c)return;t.preventDefault();const e=a.getBoundingClientRect();let s;s="touchmove"===t.type?t.touches[0].clientX:t.clientX;let n=(s-e.left)/e.width;n=Math.max(0,Math.min(1,n));const h=Math.round(n*(i.maxHours-i.minHours)+i.minHours);i.userHasDragged||(i.userHasDragged=!0,d()),u(h),w(h)}function p(){c=!1,document.removeEventListener("mousemove",g),document.removeEventListener("touchmove",g),document.removeEventListener("mouseup",p),document.removeEventListener("touchend",p)}function u(t){i.currentHours=t,h.textContent=t,o.textContent=t;const e=m(t);r.textContent=e,d()}function w(t){const e=(t-i.minHours)/(i.maxHours-i.minHours);n.style.left=100*e+"%"}function m(t){return Math.round(i.maxLeaveBalance-t/i.maxHours*i.maxLeaveBalance)}n.addEventListener("mousedown",l),n.addEventListener("touchstart",l,{passive:!1}),a.addEventListener("click",(function(t){const e=a.getBoundingClientRect(),s=(t.clientX-e.left)/e.width,n=Math.round(s*(i.maxHours-i.minHours)+i.minHours);i.userHasDragged||(i.userHasDragged=!0,d()),u(n),w(n)}))}sixthPage(t,e,s){this.logo.setScale(1.8*s/2),this.logo.y=.1*e,this.fnfetchAPI(window.trackingType+"Final CTA2 Page Loaded"),this.finaltxt2=this.add.image(.5*-t,.28*e,"finaltxt2"),this.finaltxt2.setOrigin(.5,.5),this.finaltxt2.setScale(1*s),this.finaltxt2.alpha=0,this.tweens.add({targets:this.finaltxt2,alpha:1,x:.5*t,duration:800,ease:"Power2"}),this.cta=this.add.image(.5*t,.5*e,"cta"),this.cta.setOrigin(.5,1),this.cta.setScale(2*s).setDepth(111),this.cta.alpha=0,this.cta.setInteractive({useHandCursor:!0}),this.tweens.add({targets:this.cta,scale:1.9*s,duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.cta.on("pointerdown",(()=>{this.cta.setScale(1.8*s),window.open("https://www.werkenbijafas.nl","_blank")})),this.tweens.add({targets:this.cta,alpha:1,duration:800,ease:"Power2"}),this.char2=this.add.image(1.5*t,e,"char2"),this.char2.setOrigin(1,1),this.char2.setScale(1.8*s),this.char2.alpha=0,this.tweens.add({targets:this.char2,alpha:1,x:t,duration:800,ease:"Power2"}),this.fullScreenInteractive=this.add.image(t/2,e/2,"bgTransparent"),this.fullScreenInteractive.setOrigin(.5,.5).setAlpha(1),this.fullScreenInteractive.setScale(2.1*s),this.fullScreenInteractive.setInteractive({useHandCursor:!0}),this.fullScreenInteractive.setDepth(1e3),this.fullScreenInteractive.on("pointerdown",(()=>{window.open(window.landingPageUrl,"_blank")})),this.tryagainbtn=this.add.image(.5*t,.565*e,"tryagainbtn"),this.tryagainbtn.setOrigin(.5,1).setDepth(10010),this.tryagainbtn.setScale(1.5*s),this.tryagainbtn.alpha=0,this.tweens.add({targets:this.tryagainbtn,alpha:1,duration:800,ease:"Power2"}),this.tryagainbtn.setInteractive({useHandCursor:!0}),this.tryagainbtn.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"Retry Clicked"),this.scene.restart()}))}fifthPage(t,e,s){this.logo.setScale(1.8*s/2),this.logo.y=.1*e,this.fnfetchAPI(window.trackingType+"Final CTA1 Page Loaded"),this.initConfetti(),this.finaltxt1=this.add.image(.5*-t,.28*e,"finaltxt1"),this.finaltxt1.setOrigin(.5,.5),this.finaltxt1.setScale(1*s),this.finaltxt1.alpha=0,this.tweens.add({targets:this.finaltxt1,alpha:1,x:.5*t,duration:800,ease:"Power2"}),this.cta=this.add.image(.5*t,.5*e,"cta"),this.cta.setOrigin(.5,1),this.cta.setScale(2*s).setDepth(11),this.cta.alpha=0,this.tweens.add({targets:this.cta,scale:1.9*s,duration:500,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:this.cta,alpha:1,duration:800,ease:"Power2"}),this.char1=this.add.image(1.5*t,e,"char1"),this.char1.setOrigin(.5,1),this.char1.setScale(2*s),this.char1.alpha=0,this.tweens.add({targets:this.char1,alpha:1,x:.5*t,duration:800,ease:"Power2"}),this.fullScreenInteractive=this.add.image(t/2,e/2,"bgTransparent"),this.fullScreenInteractive.setOrigin(.5,.5).setAlpha(1),this.fullScreenInteractive.setScale(2.1*s),this.fullScreenInteractive.setInteractive({useHandCursor:!0}),this.fullScreenInteractive.setDepth(1e9),this.fullScreenInteractive.on("pointerdown",(()=>{window.open(window.landingPageUrl,"_blank")}))}fourthPage(t,e,s){this.logo.setScale(1.8*s/2),this.logo.y=.1*e,this.txt4=this.add.image(.5*t,.25*e,"txt4"),this.txt4.setOrigin(.5,.5),this.txt4.setScale(1.2*s),this.txt4.alpha=0,this.tweens.add({targets:this.txt4,alpha:1,duration:800,ease:"Power2"}),this.txt6=this.add.image(.5*t,.31*e,"txt6"),this.txt6.setOrigin(.5,.5),this.txt6.setScale(1.2*s),this.txt6.alpha=0,this.tweens.add({targets:this.txt6,alpha:1,duration:800,ease:"Power2"}),this.txt7=this.add.image(.5*t,.825*e,"txt7"),this.txt7.setOrigin(.5,.5),this.txt7.setScale(1.2*s),this.txt7.alpha=0,this.tweens.add({targets:this.txt7,alpha:1,duration:800,ease:"Power2"}),this.btn3=this.add.image(.5*t,.925*e,"btn3"),this.btn3.setOrigin(.5,.5),this.btn3.setScale(2*s),this.btn3.alpha=0,this.optionSelected=!1,this.tweens.add({targets:this.btn3,alpha:.5,duration:800,ease:"Power2"}),this.btn3.on("pointerdown",(()=>{this.btn3.disableInteractive(),this.handclick.disableInteractive(),this.handclick.destroy(),this.comp2.disableInteractive(),this.fnfetchAPI(window.trackingType+"Q2 Answered"),this.optionSelected&&this.tweens.add({targets:this.btn3,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.btn3.setScale(2*s),this.cleanupFourthPage(),setTimeout((()=>{this.firstQuestionCorrect&&this.secondQuestionCorrect?this.fifthPage(this.canvasWidth,this.canvasHeight,this.scaleFactor):this.sixthPage(this.canvasWidth,this.canvasHeight,this.scaleFactor)}),600)}})})),this.comp2=this.add.image(.5*t,.575*e,"comp2"),this.comp2.setOrigin(.5,.5),this.comp2.setScale(2*s),this.comp2.alpha=0,this.tweens.add({targets:this.comp2,alpha:1,duration:800,ease:"Power2"}),this.comp2.setInteractive(),this.comp2.on("pointerdown",(()=>{this.comp2.disableInteractive(),this.fnfetchAPI(window.trackingType+"Code Challenge SQL Computer Click"),this.showDialog2(t,e,s)}))}thirdPage(t,e,s){this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=s,this.logo.setScale(1.8*s/2),this.logo.y=.1*e,this.txt4=this.add.image(.5*t,.25*e,"txt4"),this.txt4.setOrigin(.5,.5),this.txt4.setScale(1.2*s),this.txt4.alpha=0,this.tweens.add({targets:this.txt4,alpha:1,duration:800,ease:"Power2"}),this.txt5=this.add.image(.5*t,.31*e,"txt5"),this.txt5.setOrigin(.5,.5),this.txt5.setScale(1.2*s),this.txt5.alpha=0,this.tweens.add({targets:this.txt5,alpha:1,duration:800,ease:"Power2"}),this.txt7=this.add.image(.5*t,.825*e,"txt7"),this.txt7.setOrigin(.5,.5),this.txt7.setScale(1.2*s),this.txt7.alpha=0,this.tweens.add({targets:this.txt7,alpha:1,duration:800,ease:"Power2"}),this.btn3=this.add.image(.5*t,.925*e,"btn3"),this.btn3.setOrigin(.5,.5),this.btn3.setScale(2*s),this.btn3.alpha=0,this.optionSelected=!1,this.tweens.add({targets:this.btn3,alpha:.5,duration:800,ease:"Power2"}),this.btn3.on("pointerdown",(()=>{this.btn3.disableInteractive(),this.handclick.disableInteractive(),this.handclick.destroy(),this.comp1.disableInteractive(),this.fnfetchAPI(window.trackingType+"Q1 Answered"),this.optionSelected&&this.tweens.add({targets:this.btn3,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.btn3.setScale(2*s),this.cleanupCurrentPage(),setTimeout((()=>{this.fourthPage(this.canvasWidth,this.canvasHeight,this.scaleFactor)}),600)}})})),this.comp1=this.add.image(.5*t,.575*e,"comp1"),this.comp1.setOrigin(.5,.5),this.comp1.setScale(2*s),this.comp1.alpha=0,this.tweens.add({targets:this.comp1,alpha:1,duration:800,ease:"Power2"}),this.storedCanvasWidth=t,this.storedCanvasHeight=e,this.storedScaleFactor=s,this.comp1.setInteractive(),this.comp1.on("pointerdown",(()=>{this.comp1.disableInteractive(),this.fnfetchAPI(window.trackingType+"Code Challenge C# Computer Click"),this.showDialog(this.storedCanvasWidth,this.storedCanvasHeight,this.storedScaleFactor)}))}showDialog(t,e,s){this.graphics=this.add.graphics(),this.graphics.fillStyle(0,.5),this.graphics.fillRect(0,0,t,e),this.graphics.setDepth(10),this.graphics.alpha=0,this.tweens.add({targets:this.graphics,alpha:1,duration:800,ease:"Power2"}),this.dialog=this.add.image(.5*t,.5*e,"dialog"),this.dialog.setOrigin(.5,.5),this.dialog.setScale(2*s).setDepth(10),this.dialog.alpha=0,this.tweens.add({targets:this.dialog,alpha:1,duration:800,ease:"Power2"}),this.closebtn=this.add.image(2.5*t,.5*e,"closebtn"),this.closebtn.setOrigin(.5,.5),this.closebtn.setScale(2*s).setDepth(10),this.closebtn.alpha=0,this.closebtn.y=this.dialog.y-this.dialog.displayHeight/2+this.closebtn.displayWidth,this.closebtn.disableInteractive(),this.closebtn.on("pointerdown",(()=>{this.closeDialog()})),this.tweens.add({targets:this.closebtn,alpha:1,duration:800,ease:"Power2"}),this.txt8=this.add.image(.5*t,.5*e,"txt8"),this.txt8.setOrigin(.5,.5),this.txt8.setScale(1.25*s).setDepth(10),this.txt8.alpha=0,this.txt8.y=this.dialog.y-.45*this.dialog.displayHeight+this.txt8.displayHeight,this.tweens.add({targets:this.txt8,alpha:1,duration:800,ease:"Power2"}),this.btn_q1_1=this.add.image(.5*t,.5*e,"btn_q1_1"),this.btn_q1_1.setOrigin(.5,.5),this.btn_q1_1.setScale(2*s).setDepth(10),this.btn_q1_1.alpha=0,this.btn_q1_1.x=.5*t,this.btn_q1_1.y=this.dialog.y+.25*this.btn_q1_1.displayHeight,this.btn_q1_1.setInteractive(),this.btn_q1_1.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"Q1 Answer 1 Click *="),this.btn_q1_1.setTexture("btn_q1_1_type"),this.tweens.add({targets:this.btn_q1_1,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.firstQuestionCorrect=!0,this.comp1.setTexture("comp1_2"),this.optionSelected=!0,this.btn3.setAlpha(1),this.tweens.add({targets:this.btn3,scaleX:1.8*s,scaleY:1.8*s,duration:500,yoyo:!0,repeat:-1,ease:"Power2"}),this.handclick=this.add.image(this.btn3.x,this.btn3.y,"handclick"),this.handclick.setScale(.8*s),this.handclick.setDepth(11).setAlpha(0).setOrigin(0,.1),this.tweens.add({targets:this.handclick,alpha:1,duration:800,ease:"Power2"}),this.btn3.setInteractive({useHandCursor:!0}),setTimeout((()=>{this.closeDialog()}),200)}})})),this.tweens.add({targets:this.btn_q1_1,alpha:1,duration:800,ease:"Power2"}),this.btn_q1_2=this.add.image(.5*t,.5*e,"btn_q1_2"),this.btn_q1_2.setOrigin(.5,.5),this.btn_q1_2.setScale(2*s).setDepth(10),this.btn_q1_2.alpha=0,this.btn_q1_2.x=.5*t,this.btn_q1_2.y=this.dialog.y+1.75*this.btn_q1_2.displayHeight,this.btn_q1_2.setInteractive(),this.btn_q1_2.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"Q1 Answer 2 Click -="),this.btn_q1_2.setTexture("btn_q1_2_type"),this.btn_q1_1.setTexture("btn_q1_1_type"),this.tweens.add({targets:this.btn_q1_2,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.firstQuestionCorrect=!1,this.comp1.setTexture("comp1_3"),this.optionSelected=!0,this.btn3.setAlpha(1),this.tweens.add({targets:this.btn3,scaleX:1.8*s,scaleY:1.8*s,duration:500,yoyo:!0,repeat:-1,ease:"Power2"}),this.handclick=this.add.image(this.btn3.x,this.btn3.y,"handclick"),this.handclick.setScale(.8*s),this.handclick.setDepth(11).setAlpha(0).setOrigin(0,.1),this.tweens.add({targets:this.handclick,alpha:1,duration:800,ease:"Power2"}),this.btn3.setInteractive({useHandCursor:!0}),setTimeout((()=>{this.closeDialog()}),200)}})})),this.tweens.add({targets:this.btn_q1_2,alpha:1,duration:800,ease:"Power2"})}closeDialog(){this.tweens.add({targets:[this.graphics,this.dialog,this.closebtn,this.txt8,this.btn_q1_1,this.btn_q1_2],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.graphics.destroy(),this.dialog.destroy(),this.closebtn.destroy(),this.txt8.destroy(),this.btn_q1_1.destroy(),this.btn_q1_2.destroy()}})}cleanupCurrentPage(){this.tweens.add({targets:[this.txt4,this.txt5,this.txt7,this.comp1,this.btn3],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.txt4.destroy(),this.txt5.destroy(),this.txt7.destroy(),this.comp1.destroy(),this.btn3.destroy()}})}cleanupFourthPage(){this.tweens.add({targets:[this.txt4,this.txt6,this.txt7,this.comp2,this.btn3],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.txt4.destroy(),this.txt6.destroy(),this.txt7.destroy(),this.comp2.destroy(),this.btn3.destroy()}})}showDialog2(t,e,s){this.graphics=this.add.graphics(),this.graphics.fillStyle(0,.5),this.graphics.fillRect(0,0,t,e),this.graphics.setDepth(10),this.graphics.alpha=0,this.tweens.add({targets:this.graphics,alpha:1,duration:800,ease:"Power2"}),this.dialog=this.add.image(.5*t,.5*e,"dialog"),this.dialog.setOrigin(.5,.5),this.dialog.setScale(2*s).setDepth(10),this.dialog.alpha=0,this.tweens.add({targets:this.dialog,alpha:1,duration:800,ease:"Power2"}),this.closebtn=this.add.image(2.5*t,.5*e,"closebtn"),this.closebtn.setOrigin(.5,.5),this.closebtn.setScale(2*s).setDepth(10),this.closebtn.alpha=0,this.closebtn.y=this.dialog.y-this.dialog.displayHeight/2+this.closebtn.displayWidth,this.closebtn.disableInteractive(),this.closebtn.on("pointerdown",(()=>{this.closeDialog2()})),this.tweens.add({targets:this.closebtn,alpha:1,duration:800,ease:"Power2"}),this.txt8=this.add.image(.5*t,.5*e,"txt8"),this.txt8.setOrigin(.5,.5),this.txt8.setScale(1.25*s).setDepth(10),this.txt8.alpha=0,this.txt8.y=this.dialog.y-.45*this.dialog.displayHeight+this.txt8.displayHeight,this.tweens.add({targets:this.txt8,alpha:1,duration:800,ease:"Power2"}),this.btn_q1_1=this.add.image(.5*t,.5*e,"btn_q2_1"),this.btn_q1_1.setOrigin(.5,.5),this.btn_q1_1.setScale(2*s).setDepth(10),this.btn_q1_1.alpha=0,this.btn_q1_1.x=.5*t,this.btn_q1_1.y=this.dialog.y+.25*this.btn_q1_1.displayHeight,this.btn_q1_1.setInteractive(),this.btn_q1_1.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"Q2 Answer 1 Click +="),this.btn_q1_1.setTexture("btn_q2_1_type"),this.btn_q1_2.setTexture("btn_q2_2_type"),this.tweens.add({targets:this.btn_q1_1,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.secondQuestionCorrect=!1,this.comp2.setTexture("comp2_2"),this.optionSelected=!0,this.btn3.setAlpha(1),this.tweens.add({targets:this.btn3,scaleX:1.8*s,scaleY:1.8*s,duration:500,yoyo:!0,repeat:-1,ease:"Power2"}),this.handclick=this.add.image(this.btn3.x,this.btn3.y,"handclick"),this.handclick.setScale(.8*s),this.handclick.setDepth(11).setAlpha(0).setOrigin(0,.1),this.tweens.add({targets:this.handclick,alpha:1,duration:800,ease:"Power2"}),this.btn3.setInteractive({useHandCursor:!0}),this.closeDialog2()}})})),this.tweens.add({targets:this.btn_q1_1,alpha:1,duration:800,ease:"Power2"}),this.btn_q1_2=this.add.image(.5*t,.5*e,"btn_q2_2"),this.btn_q1_2.setOrigin(.5,.5),this.btn_q1_2.setScale(2*s).setDepth(10),this.btn_q1_2.alpha=0,this.btn_q1_2.x=.5*t,this.btn_q1_2.y=this.dialog.y+1.75*this.btn_q1_2.displayHeight,this.btn_q1_2.setInteractive(),this.btn_q1_2.on("pointerdown",(()=>{this.fnfetchAPI(window.trackingType+"Q2 Answer 2 Click >0"),this.btn_q1_2.setTexture("btn_q2_2_type"),this.tweens.add({targets:this.btn_q1_2,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.secondQuestionCorrect=!0,this.comp2.setTexture("comp2_3"),this.optionSelected=!0,this.btn3.setAlpha(1),this.tweens.add({targets:this.btn3,scaleX:1.8*s,scaleY:1.8*s,duration:500,yoyo:!0,repeat:-1,ease:"Power2"}),this.handclick=this.add.image(this.btn3.x,this.btn3.y,"handclick"),this.handclick.setScale(.8*s),this.handclick.setDepth(11).setAlpha(0).setOrigin(0,.1),this.tweens.add({targets:this.handclick,alpha:1,duration:800,ease:"Power2"}),this.btn3.setInteractive({useHandCursor:!0}),this.closeDialog2()}})})),this.tweens.add({targets:this.btn_q1_2,alpha:1,duration:800,ease:"Power2"})}closeDialog2(){this.tweens.add({targets:[this.graphics,this.dialog,this.closebtn,this.txt8,this.btn_q1_1,this.btn_q1_2],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.graphics.destroy(),this.dialog.destroy(),this.closebtn.destroy(),this.txt8.destroy(),this.btn_q1_1.destroy(),this.btn_q1_2.destroy()}})}secondPage(t,e,s){document.querySelector(".hours-tracker").style.opacity=1,document.querySelector(".slider-container").classList.add("allowHours"),this.logo.setScale(1.8*s/2),this.logo.y=.1*e,this.txt3=this.add.image(.5*t,.5*e,"txt3"),this.txt3.setOrigin(.5,.5),this.txt3.setScale(1.1*s),this.txt3.alpha=0,this.txt3.y=.415*e,this.tweens.add({targets:this.txt3,alpha:1,duration:800,ease:"Power2"}),this.warning=this.add.image(.5*t,.5*e,"warning"),this.warning.setOrigin(.5,.5),this.warning.setScale(2*s),this.warning.alpha=0,this.warning.y=.19*e,this.btn2=this.add.image(.5*t,.8*e,"btn2"),this.btn2.setOrigin(.5,.5),this.btn2.setScale(2*s),this.btn2.alpha=.5,this.sliderInteracted=!1,this.btn2.disableInteractive(),this.isWarningBlinking=!1,document.querySelector(".hours-tracker");const i=document.getElementById("slider-thumb"),a=document.getElementById("slider-track");this.warning.alpha=0,this.warningBlinkTween=this.tweens.add({targets:this.warning,alpha:{from:1,to:.3},duration:500,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,paused:!0}),this.warningCheckTimer=this.time.addEvent({delay:100,callback:()=>{void 0!==window.showLeaveBalanceWarning&&(window.showLeaveBalanceWarning?this.warningBlinkTween.isPaused()&&(this.warning.alpha=1,this.warningBlinkTween.resume(),this.isWarningBlinking=!0,this.fnfetchAPI(window.trackingType+"Hours Dragged"),this.btn2.alpha=1,this.btn2.setInteractive({useHandCursor:!0})):(this.warningBlinkTween.pause(),this.warning.alpha=0,this.isWarningBlinking=!1,this.btn2.alpha=.5,this.btn2.disableInteractive()))},loop:!0});const n=()=>{this.sliderInteracted=!0,this.handclick&&(this.handclick.destroy(),this.handclick=null),i.removeEventListener("mousedown",n),i.removeEventListener("touchstart",n),a.removeEventListener("click",n)};i&&(i.addEventListener("mousedown",n),i.addEventListener("touchstart",n)),a&&a.addEventListener("click",n),this.tweens.add({targets:this.btn2,alpha:.5,duration:800,ease:"Power2"}),this.btn2.y=.91*e,this.btn2.on("pointerdown",(()=>{this.btn2.disableInteractive(),this.fnfetchAPI(window.trackingType+"Doorgaan Click"),this.tweens.add({targets:this.btn2,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.btn2.setScale(2*s)}}),this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=s,document.querySelector(".hours-tracker").style.opacity=0,document.querySelector(".slider-container").classList.remove("allowHours"),this.tweens.add({targets:[this.txt3,this.warning,this.btn2],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.txt3.destroy(),this.warning.destroy(),this.btn2.destroy(),this.thirdPage(this.canvasWidth,this.canvasHeight,this.scaleFactor)}})})),this.handclick=this.add.image(.3*t,this.btn2.y-1.25*this.btn2.displayHeight,"handclick"),this.handclick.setOrigin(0,0),this.handclick.setScale(.8*s),this.handclick.alpha=.9,this.handclick.disableInteractive(),this.tweens.add({targets:this.handclick,alpha:1,duration:1e3,ease:"Linear"}),this.tweens.add({targets:this.handclick,x:.7*t,duration:1e3,loop:-1,yoyo:!0,ease:"Linear"})}firstPage(t,e,s){this.txt1=this.add.image(.5*-t,.5*e,"txt1"),this.txt1.setOrigin(.5,.5),this.txt1.setScale(1.1*s),this.txt1.alpha=0,this.tweens.add({targets:this.txt1,alpha:1,duration:500,ease:"Back.easeOut"}),this.txt2=this.add.image(1.5*t,.625*e,"txt2"),this.txt2.setOrigin(.5,.5),this.txt2.setScale(1.05*s),this.txt2.alpha=0,this.tweens.add({targets:this.txt2,alpha:1,duration:500,ease:"Power2"}),this.tweens.add({targets:this.txt1,x:.5*t,duration:800,ease:"Power2",from:-t}),this.tweens.add({targets:this.txt2,x:.5*t,duration:800,ease:"Power2",from:2*t}),this.btn1=this.add.image(.5*t,.775*e,"btn1"),this.btn1.setOrigin(.5,.5),this.btn1.setScale(2*s),this.btn1.alpha=0,this.btn1.setInteractive({useHandCursor:!0}),this.handclick=this.add.image(this.btn1.x,this.btn1.y,"handclick"),this.handclick.setOrigin(0,0),this.handclick.setScale(.8*s),this.handclick.alpha=.9,this.tweens.add({targets:this.btn1,alpha:1,duration:800,ease:"Power2",onComplete:()=>{this.tweens.add({targets:this.btn1,scaleX:1.8*s,scaleY:1.8*s,duration:500,yoyo:!0,repeat:-1,ease:"Power2"})}}),this.btn1.on("pointerdown",(()=>{this.btn1.disableInteractive(),this.fnfetchAPI(window.trackingType+"Start Playable"),this.handclick&&(this.handclick.destroy(),this.handclick=null),this.btn1.disableInteractive(),this.tweens.add({targets:this.btn1,scaleX:1.8*s,scaleY:1.8*s,duration:100,yoyo:!0,ease:"Power2",onComplete:()=>{this.handclick&&this.handclick.destroy(),this.btn1.setScale(2*s)}}),this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=s,this.tweens.add({targets:[this.txt1,this.txt2,this.btn1],alpha:0,duration:500,ease:"Power2",onComplete:()=>{this.txt1.destroy(),this.txt2.destroy(),this.btn1.destroy(),this.secondPage(this.canvasWidth,this.canvasHeight,this.scaleFactor)}})}))}fnfetchAPI(t){fetch(t).then((t=>t.text())).then((t=>{})).catch((t=>{}))}initConfetti(){const t=document.getElementById("confetti-canvas");if(!t)return void console.error("Confetti canvas not found");const e=window.confetti.create(t,{resize:!0,useWorker:!0});e({particleCount:150,spread:100,origin:{y:.6},colors:["#005CA7","#F59F39","#D7EAFF"]}),setTimeout((()=>{e({particleCount:50,angle:60,spread:55,origin:{x:.1,y:.5},colors:["#005CA7","#F59F39","#D7EAFF"]}),setTimeout((()=>{e({particleCount:50,angle:120,spread:55,origin:{x:.9,y:.5},colors:["#005CA7","#F59F39","#D7EAFF"]})}),800)}),800)}}class h extends t.Scene{constructor(){super("Preloader")}init(){i.path=window.globalassetPath}preload(){this.load.setPath(i.path),this.load.image("bgTransparent","bgTransparent.png"),this.load.image("logo","logo.png"),this.load.image("txt1","txt1.png"),this.load.image("txt2","txt2.png"),this.load.image("btn1","btn1.png"),this.load.image("btn2","btn2.png"),this.load.image("btn3","btn3.png"),this.load.image("comp1","newcomp1.png"),this.load.image("comp2","newcomp2.png"),this.load.image("comp1_2","newcomp1_2.png"),this.load.image("comp2_2","newcomp2_2.png"),this.load.image("comp1_3","newcomp1_3.png"),this.load.image("comp2_3","newcomp2_3.png"),this.load.image("txt3","txt3.png"),this.load.image("txt4","txt4.png"),this.load.image("txt5","txt5.png"),this.load.image("txt6","txt6.png"),this.load.image("txt7","txt7.png"),this.load.image("txt8","txt8.png"),this.load.image("warning","warning.png"),this.load.image("dialog","dialog.png"),this.load.image("closebtn","closebtn.png"),this.load.image("finaltxt1","finaltxt1.png"),this.load.image("finaltxt2","finaltxt2.png"),this.load.image("btn_q1_1","newbtn_q1_1.png"),this.load.image("btn_q1_2","newbtn_q1_2.png"),this.load.image("btn_q2_1","newbtn_q2_1.png"),this.load.image("btn_q2_2","newbtn_q2_2.png"),this.load.image("btn_q1_1_type","newbtn_q1_1_type.png"),this.load.image("btn_q1_2_type","newbtn_q1_2_type.png"),this.load.image("btn_q2_1_type","newbtn_q2_1_type.png"),this.load.image("btn_q2_2_type","newbtn_q2_2_type.png"),this.load.image("char1","char1.png"),this.load.image("char2","char2.png"),this.load.image("cta","cta.png"),this.load.image("handclick","handclick.png"),this.load.image("tryagainbtn","tryagain.png")}create(){const t=document.querySelector(".hours-tracker");console.log(document.querySelector("#game-container canvas").style.width," 11ert"),t.style.width=document.querySelector("#game-container canvas").style.width+"",t.style.height=document.querySelector("#game-container canvas").style.height+"",console.log(document.querySelector(".hours-tracker").style.width," 22ert"),document.querySelector(".hours-tracker").style.width=document.querySelector("#game-container canvas").style.width+"",this.scene.start("MainMenu")}}const o={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,h,n,a]};new Phaser.Game(o);
