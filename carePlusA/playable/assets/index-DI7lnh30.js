import{p as t}from"./phaser-C2RWnc_5.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class e extends t.Scene{constructor(){super("Boot")}preload(){this.load.image("background",window.trackingPath+"/bg1.png")}create(){this.scene.start("Preloader")}}function i(t,e){const i=/Mobi|Android/i.test(navigator.userAgent),s=/iPhone/i.test(navigator.userAgent),a=window.innerWidth,o=window.innerHeight;let n,h;n=t.game.canvas.width,h=t.game.canvas.height;const r=document.getElementsByTagName("canvas")[0],d=Math.abs(parseFloat(r.style.marginTop||0))/a*n+(s?130:0),c=Math.abs(parseFloat(r.style.marginLeft||0))/o*h;let l=o/(a+2*c)*.85;return i?{canvasWidth:n,canvasHeight:h,scaleFactor:l,topMarginOffset:d,leftMarginOffsetPercentage:c,isMobileDevice:i,isIphoneDevice:s}:(l=1.4,{canvasWidth:n,canvasHeight:h,scaleFactor:l,topMarginOffset:0,leftMarginOffsetPercentage:0})}class s extends t.Scene{constructor(){super("MainMenu")}create(){const{canvasWidth:t,canvasHeight:e,scaleFactor1:s,topMarginOffset:a,leftMarginOffsetPercentage:o,isMobileDevice:n,isIphoneDevice:h}=i(this);this.scaleFactor=1.4;var r=this;this.canvasWidth=t,this.canvasHeight=e,this.isMobileDevice=n,this.background=this.add.image(t/2,e/2,"background"),this.background.setOrigin(.5),this.background.setScale(3.08).setDepth(-1),this.background.alpha=0,this.tweens.add({targets:this.background,alpha:1,duration:800,ease:"Power2"}),this.logo=this.add.image(t/2,.2*e,"logo"),this.logo.setOrigin(.5).setDepth(500),this.logo.setScale(.7*1.4),this.logo.alpha=0,this.tweens.add({targets:this.logo,alpha:1,y:.125*e,duration:800,delay:500,ease:"Power2",onComplete(){}}),this.btn1=this.add.image(t/2,.2*e,"btn1"),this.btn1.setOrigin(.5).setDepth(1),this.btn1.setScale(2.52),this.btn1.alpha=0,this.tweens.add({targets:this.btn1,alpha:1,y:.88*e,duration:800,delay:500,ease:"Power2",onComplete(){}}),this.text=this.add.text(.5*t,.65*e,"Muggen \nmeppen, hoe \ngoed kun jij dat?",{fontFamily:"AvenirNextBold",fontSize:98,color:"#ffffff",align:"left"}),this.text.setOrigin(.5),this.mep2=this.add.image(.6*t,.55*e,"mep2"),this.mep2.setOrigin(.8).setDepth(1),this.mep2.setScale(3.36),this.mep2.alpha=0,this.tweens.add({targets:this.mep2,alpha:1,y:.5*e,duration:800,delay:500,ease:"Power2",onComplete(){r.mep2.rotation=0,r.tweens.add({targets:r.mep2,rotation:.5,duration:500,ease:"Power2",yoyo:!0,repeat:-1,delay:200,onComplete(){}})}}),this.mosquitos=[];const d=new Phaser.Geom.Rectangle(0*t,.2*e,t,.3*e);this.graphics=this.add.graphics(),this.graphics.fillStyle(0,0),this.graphics.fillRect(d.x,d.y,d.width,d.height),this.graphics.setDepth(-1),this.mosquitoArea=d;for(let i=0;i<6;i++){const t=this.add.image(Phaser.Math.Between(d.x,d.x+d.width),Phaser.Math.Between(d.y,d.y+d.height),"mosquito");t.setOrigin(.5).setDepth(1),t.setScale(Phaser.Math.FloatBetween(1.4,2)),t.alpha=0,t.prevX=t.x,t.prevY=t.y,t.targetX=null,t.targetY=null,t.moving=!1,t.moveSpeed=Phaser.Math.Between(120,180),t.rotationSpeed=.05,this.mosquitos.push(t),this.tweens.add({targets:t,alpha:1,duration:800,delay:500+100*i,ease:"Linear",onComplete(){t.moving=!0,t.targetX=Phaser.Math.Between(d.x,d.x+d.width),t.targetY=Phaser.Math.Between(d.y,d.y+d.height);const e=Phaser.Math.Angle.Between(t.x,t.y,t.targetX,t.targetY);t.rotation=e+Math.PI/2}})}this.input.on("pointerdown",(()=>{console.log("Pointer down"),1==this.pageCount?(this.pageCount=-1,this.startGame()):2==this.pageCount?this.pageCount=-1:3==this.pageCount?(this.pageCount=-1,this.scorePage()):4==this.pageCount&&this.scene.restart()})),this.pageCount=1}startGame(){this.mosquitos.forEach((t=>t.destroy())),this.mosquitos=[],this.graphics&&this.graphics.destroy(),this.mep2&&this.mep2.setVisible(!1),this.text&&this.text.setVisible(!1),this.btn1&&this.btn1.setVisible(!1);const{canvasWidth:t,canvasHeight:e,scaleFactor:s}=i(this);this.logo.x,this.logo.y,this.logo.scale;const a=.4*this.scaleFactor,o=.05*t+this.logo.width*a/2,n=.1*e;this.tweens.add({targets:this.logo,x:o,y:n,scale:a,duration:800,ease:"Power2",onStart:()=>{this.logo.setAlpha(1)},onComplete:()=>{this.logo.x=o,this.logo.y=n,this.logo.setScale(a)}}),this.score=0,this.mosquitosHit=0,this.quizRound=1,this.scoreText=this.add.text(.95*t,.05*e,"Score: 0",{fontFamily:"AvenirNextRegular",fontSize:40,color:"#ffffff"}),this.scoreText.setOrigin(1,.5),this.gameTime=30,this.timeText=this.add.text(.5*t,.05*e,"00 : 30",{fontFamily:"AvenirNextRegular",fontSize:40,color:"#ffffff"}),this.timeText.setOrigin(.5,.5),this.gameTimer=this.time.addEvent({delay:3e4,callback:()=>this.scorePage(!0),callbackScope:this}),this.swatter=this.add.image(t/2,e/2,"mep1"),this.swatter.setScale(3),this.swatter.setDepth(10),this.swatter.setOrigin(.2,.5),this.swatter.rotation=.75,this.input.on("pointermove",(t=>{this.swatter.x=t.x,this.swatter.y=t.y})),this.mosquitoCount=0,this.ladybugCount=0,this.maxMosquitoes=12,this.maxLadybugs=4,this.mosquitoTimer=this.time.addEvent({delay:250,callback:this.spawnMosquitoFromEdge,callbackScope:this,loop:!0}),this.ladybugTimer=this.time.addEvent({delay:1e3,callback:this.spawnLadybugFromEdge,callbackScope:this,loop:!0}),this.canSwat=!0,this.input.on("pointerdown",(t=>{!this.quizActive&&this.canSwat&&(this.canSwat=!1,this.isMobileDevice&&(this.swatter.x=t.x,this.swatter.y=t.y),this.playSwatAnimation(t.x,t.y),this.checkForHits(t.x,t.y),this.time.delayedCall(200,(()=>{this.canSwat=!0})))}))}pauseGame(){this.mosquitos.forEach((t=>{t.moving=!1,t.pausedMoving=!0})),this.mosquitoTimer&&(this.mosquitoTimer.paused=!0),this.ladybugTimer&&(this.ladybugTimer.paused=!0),this.swatter&&this.swatter.setVisible(!1)}showNotification(t){var e=this.canvasWidth,i=this.canvasHeight;this.quizCard=this.add.image(e/2,.6*i,"dialog"),this.quizCard.setOrigin(.5),this.quizCard.setDepth(21),this.quizCard.setScale(2*this.scaleFactor),this.quizHeader=this.add.text(e/2,.3*i,"Weetje",{fontFamily:"AvenirNextBold",fontSize:40*this.scaleFactor,color:"#E35912"}),this.quizHeader.setOrigin(0,.5),this.quizHeader.setDepth(22),this.quizHeader.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.feedbackHeader=this.add.text(e/2,.75*i,t,{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#006B2E"}),this.feedbackHeader.setOrigin(0,1),this.feedbackHeader.setDepth(22),this.feedbackHeader.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.feedbackText=this.add.text(e/2,.57*i,"",{fontFamily:"AvenirNextRegular",fontSize:32*this.scaleFactor,color:"#006B2E",align:"left",lineSpacing:10,wordWrap:{width:.7*e}}),this.feedbackText.setOrigin(0,0),this.feedbackText.setDepth(22),this.feedbackText.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.continueButton=this.add.image(e/2,.65*i,"speel"),this.continueButton.setOrigin(.5),this.continueButton.setDepth(22).setScale(2*this.scaleFactor),this.continueButton.setInteractive({useHandCursor:!0}),this.continueButton.y=.85*i,this.continueButton.on("pointerdown",(()=>this.resumeGame()))}showQuiz(){const{canvasWidth:t,canvasHeight:e}=i(this);void 0===this.quizRound&&(this.quizRound=1);const s=[{id:1,text:"Muggen steken je met hun angel.",explanation:"Muggen hebben een zuigsnuit waarmee ze bloed opzuigen en geen angel.",answer:!1,fontSize:70*this.scaleFactor},{id:2,text:"Muggen bijten omdat ze bloed lekker vinden.",explanation:"Muggen hebben bloed nodig voor de eiwitten om eitjes te ontwikkelen. Ze bijten niet omdat ze bloed lekker vinden.",answer:!1,fontSize:70*this.scaleFactor},{id:3,text:"Muggen zijn alleen actief in de zomer.",explanation:"Muggen kunnen ook actief zijn in andere seizoenen, afhankelijk van de temperatuur en vochtigheid.",answer:!1,fontSize:70*this.scaleFactor},{id:4,text:"Mannetjesmuggen bijten mensen.",explanation:"Alleen vrouwtjesmuggen bijten mensen omdat ze eiwitten uit bloed nodig hebben voor hun eitjes.",answer:!1,fontSize:50*this.scaleFactor},{id:5,text:"Stilstaand water kan overlast van muggen verergeren.",explanation:"Stilstaand water is een broedplaats voor muggenlarven. Het verwijderen van stilstaand water helpt muggenoverlast te verminderen.",answer:!0,fontSize:70*this.scaleFactor},{id:6,text:"Sommige muggen kunnen ziektes overbrengen.",explanation:"Bepaalde soorten muggen kunnen inderdaad ziektes zoals malaria, dengue of zika overbrengen.",answer:!0,fontSize:70*this.scaleFactor}];let a;if(1===this.quizRound)a=s.find((t=>5===t.id));else{const t=this.usedQuestionIds||[5],e=s.filter((e=>!t.includes(e.id)));if(e.length>0)a=e[Math.floor(Math.random()*e.length)];else{const e=t[t.length-1];a=s.find((t=>t.id!==e))}}this.currentQuestion=a,this.fontSize=a.fontSize,this.usedQuestionIds?this.usedQuestionIds.includes(a.id)||this.usedQuestionIds.push(a.id):this.usedQuestionIds=[a.id],this.quizActive=!0,this.quizOverlay=this.add.rectangle(0,0,2*t,2*e,0,0),this.quizOverlay.setOrigin(0),this.quizOverlay.setDepth(20),this.quizCard=this.add.image(t/2,.6*e,"dialog"),this.quizCard.setOrigin(.5),this.quizCard.setDepth(21),this.quizCard.setScale(2*this.scaleFactor),this.quizHeader=this.add.text(t/2,.3*e,"Weetje",{fontFamily:"AvenirNextBold",fontSize:40*this.scaleFactor,color:"#E35912"}),this.quizHeader.setOrigin(0,.5),this.quizHeader.setDepth(22),this.quizHeader.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.quizQuestion=this.add.text(t/2,.4*e,this.currentQuestion.text,{fontFamily:"AvenirNextBold",fontSize:this.fontSize,color:"#006B2E",wordWrap:{width:.7*t}}),this.quizQuestion.setOrigin(0,1),this.quizQuestion.setDepth(22),this.quizQuestion.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.quizExplanation=this.add.text(t/2,.48*e,"",{fontFamily:"AvenirNextRegular",fontSize:24,color:"#000000",align:"center",lineSpacing:10}),this.quizExplanation.setOrigin(.5,0),this.quizExplanation.setDepth(22),this.quizScore=this.add.text(.9*t,.24*e,`Score: ${this.score}`,{fontFamily:"AvenirNextBold",fontSize:24,color:"#000000"}),this.quizScore.setOrigin(.5),this.quizScore.setDepth(22),this.trueButton=this.add.image(t/2,.85*e,"waar").setScale(2*this.scaleFactor),this.trueButton.setOrigin(1,.5),this.trueButton.setDepth(22),this.trueButton.setInteractive({useHandCursor:!0}),this.trueButton.on("pointerdown",(()=>this.showQuizFeedback(!0===this.currentQuestion.answer))),this.falseButton=this.add.image(t/2,.85*e,"onwaar").setScale(2*this.scaleFactor),this.falseButton.setOrigin(0,.5),this.falseButton.setDepth(22),this.falseButton.setInteractive({useHandCursor:!0}),this.falseButton.on("pointerdown",(()=>this.showQuizFeedback(!1===this.currentQuestion.answer))),this.quizQuestion.y=this.trueButton.y-this.trueButton.displayHeight,this.quizScore=this.add.text(.9*t,.24*e,`Score: ${this.score}`,{fontFamily:"AvenirNextBold",fontSize:24,color:"#000000"}),this.quizScore.setOrigin(.5),this.quizScore.setDepth(22)}showQuizFeedback(t){const{canvasWidth:e,canvasHeight:s}=i(this);if(this.quizQuestion&&this.quizQuestion.destroy(),this.quizExplanation&&this.quizExplanation.destroy(),this.trueButton&&this.trueButton.destroy(),this.trueText&&this.trueText.destroy(),this.falseButton&&this.falseButton.destroy(),this.falseText&&this.falseText.destroy(),this.feedbackHeader=t?this.add.text(e/2,.5*s,"Dat is juist!",{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#006B2E"}):this.add.text(e/2,.5*s,"Helaas!",{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#006B2E"}),this.feedbackHeader.setOrigin(0,.5),this.feedbackHeader.setDepth(22),this.feedbackHeader.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.feedbackText=this.add.text(e/2,.57*s,this.currentQuestion.explanation,{fontFamily:"AvenirNextRegular",fontSize:32*this.scaleFactor,color:"#006B2E",align:"left",lineSpacing:10,wordWrap:{width:.7*e}}),this.feedbackText.setOrigin(0,0),this.feedbackText.setDepth(22),this.feedbackText.x=this.quizCard.x-.4*this.quizCard.displayWidth,this.continueButton=this.add.image(e/2,.65*s,"speel"),this.continueButton.setOrigin(.5),this.continueButton.setDepth(22).setScale(2*this.scaleFactor),this.continueButton.setInteractive({useHandCursor:!0}),this.continueButton.y=.85*s,this.continueButton.on("pointerdown",(()=>this.resumeGame())),this.lastAnswerCorrect=t,this.correctAnswers||(this.correctAnswers=0),t){this.correctAnswers++,this.score+=25,this.scoreText&&this.scoreText.setText(`Score: ${this.score}`);const t=this.cameras.main.width,e=this.cameras.main.height;this.showFloatingScore(t/2,.4*e,25)}}resumeGame(){if(this.quizOverlay&&this.quizOverlay.destroy(),this.quizCard&&this.quizCard.destroy(),this.quizHeaderBg&&this.quizHeaderBg.destroy(),this.quizHeader&&this.quizHeader.destroy(),this.quizQuestion&&this.quizQuestion.destroy(),this.quizExplanation&&this.quizExplanation.destroy(),this.trueButton&&this.trueButton.destroy(),this.falseButton&&this.falseButton.destroy(),this.quizScore&&this.quizScore.destroy(),this.feedbackHeader&&this.feedbackHeader.destroy(),this.feedbackText&&this.feedbackText.destroy(),this.continueButton&&this.continueButton.destroy(),this.quizActive=!1,this.quizRound>=2)return this.correctAnswers&&this.correctAnswers,this.score,void this.scorePage(!0);this.quizRound++,this.mosquitosHit=0,this.mosquitos.forEach((t=>{t.pausedMoving&&(t.moving=!0,t.pausedMoving=!1)})),this.mosquitoTimer&&(this.mosquitoTimer.paused=!1),this.ladybugTimer&&(this.ladybugTimer.paused=!1),this.swatter&&this.swatter.setVisible(!0),this.input.enabled=!0}scorePage(t=!1){if(console.log("Score Page"),this.cleanup(),this.time.clearPendingEvents(),this.mosquitos&&this.mosquitos.length>0){for(let t=this.mosquitos.length-1;t>=0;t--)this.mosquitos[t]&&this.mosquitos[t].destroy&&this.mosquitos[t].destroy();this.mosquitos=[]}this.tweens.add({targets:this.logo,x:.5*this.canvasWidth,y:.2*this.canvasHeight,scale:.7*this.scaleFactor,duration:800,ease:"Power2"}),this.mosquitoTimer&&this.mosquitoTimer.remove&&(this.mosquitoTimer.remove(),this.mosquitoTimer=null),this.ladybugTimer&&this.ladybugTimer.remove&&(this.ladybugTimer.remove(),this.ladybugTimer=null),this.swatter&&this.swatter.setVisible(!1),this.physics&&this.physics.pause&&this.physics.pause();const{canvasWidth:e,canvasHeight:s}=i(this);this.background1=this.add.image(e/2,s/2,"background"),this.background1.setOrigin(.5),this.background1.setScale(2.2*this.scaleFactor).setDepth(100),this.tweens.add({targets:this.logo,y:.2*s,duration:800,ease:"Power2"}),this.bekijk=this.add.image(e/2,.85*s,"bekijk").setOrigin(.5).setDepth(101).setScale(2*this.scaleFactor),this.bekijk.setInteractive({useHandCursor:!0}),t?(this.add.text(e/2,.425*s,"Goed gedaan!",{fontFamily:"AvenirNextBold",fontSize:60*this.scaleFactor,color:"#ffffff"}).setOrigin(.5).setDepth(101),this.add.text(e/2,.5*s,"Jouw score",{fontFamily:"AvenirNextRegular",fontSize:45*this.scaleFactor,color:"#ffffff"}).setOrigin(.5).setDepth(101),this.add.text(e/2,.665*s,`${this.score}`,{fontFamily:"AvenirNextBold",fontSize:170*this.scaleFactor,color:"#ffffff"}).setOrigin(.5).setDepth(101)):(this.bekijk.setTexture("begin"),this.add.text(e/2,.45*s,"Helaas!",{fontFamily:"AvenirNextBold",fontSize:80*this.scaleFactor,color:"#E35912",align:"center"}).setOrigin(.5).setDepth(101),this.add.text(e/2,.6*s,"Je mepte het \nlieveheersbeestje",{fontFamily:"AvenirNextRegular",fontSize:45*this.scaleFactor,color:"#E35912",align:"center"}).setOrigin(.5).setDepth(101)),this.tweens.add({targets:this.bekijk,y:.88*s,duration:800,ease:"Power2",onComplete:()=>{this.pageCount=4,this.tweens.add({targets:this.bekijk,scale:1.85*this.scaleFactor,duration:800,yoyo:!0,repeat:-1,ease:"Power2"})}})}resetGame(){this.score=0,this.mosquitosHit=0,this.isMenuActive=!1,this.gameHasEnded=!1,this.mosquitoCount=0,this.ladybugCount=0,this.mosquitoTimer&&this.mosquitoTimer.remove(),this.ladybugTimer&&this.ladybugTimer.remove(),this.gameTimer&&this.gameTimer.remove(),this.gameTime=30,this.hasEnded=!1,this.pageCount=1,this.quizRound=1,this.lastAnswerCorrect=!1,this.quizActive=!1,this.correctAnswers=0,this.usedQuestionIds=[],this.mosquitos=[],this.input.enabled=!0}cleanup(){this.mosquitoTimer&&this.mosquitoTimer.destroy(),this.ladybugTimer&&this.ladybugTimer.destroy(),this.gameTimer&&this.gameTimer.destroy(),this.timeText&&this.timeText.destroy(),this.mosquitos.forEach((t=>{t&&t.sprite&&t.sprite.destroy()})),this.swatter&&this.swatter.setVisible(!1),this.mosquitos=[]}finalPage(){}spawnMosquitoes(t){const{canvasWidth:e,canvasHeight:s}=i(this),a=new Phaser.Geom.Rectangle(0,0,e,s);this.mosquitos||(this.mosquitos=[]);for(let i=0;i<t;i++){const t=this.add.image(Phaser.Math.Between(a.x,a.x+a.width),Phaser.Math.Between(a.y,a.y+a.height),"mosquito"),e=Phaser.Math.FloatBetween(1.4,2);t.setScale(e),t.setOrigin(.5).setDepth(1),t.isLadybug=!1,t.scale=e,t.pointValue=Math.floor(2/e*10),t.prevX=t.x,t.prevY=t.y,t.targetX=null,t.targetY=null,t.moving=!0,t.moveSpeed=Phaser.Math.Between(120,180),t.rotationSpeed=.05,t.targetX=Phaser.Math.Between(a.x,a.x+a.width),t.targetY=Phaser.Math.Between(a.y,a.y+a.height);const i=Phaser.Math.Angle.Between(t.x,t.y,t.targetX,t.targetY);t.rotation=i+Math.PI/2,this.mosquitos.push(t)}}spawnSingleMosquito(){const{canvasWidth:t,canvasHeight:e}=i(this),s=this.add.image(Phaser.Math.Between(0,t),Phaser.Math.Between(0,e),"mosquito"),a=Phaser.Math.FloatBetween(1.4,2.4);s.setScale(a),s.setOrigin(.5).setDepth(1),s.isLadybug=!1,s.scale=a,s.pointValue=Math.floor(2/a*10),s.prevX=s.x,s.prevY=s.y,s.targetX=null,s.targetY=null,s.moving=!0,s.moveSpeed=Phaser.Math.Between(120,180),s.rotationSpeed=.05,s.targetX=Phaser.Math.Between(0,t),s.targetY=Phaser.Math.Between(0,e);const o=Phaser.Math.Angle.Between(s.x,s.y,s.targetX,s.targetY);return s.rotation=o+Math.PI/2,this.mosquitos.push(s),this.mosquitoCount++,s}spawnMosquitoFromEdge(){if(this.mosquitoCount>=this.maxMosquitoes)return;const{canvasWidth:t,canvasHeight:e}=i(this);let s,a;switch(Phaser.Math.Between(0,3)){case 0:s=Phaser.Math.Between(0,t),a=-50;break;case 1:s=t+50,a=Phaser.Math.Between(0,e);break;case 2:s=Phaser.Math.Between(0,t),a=e+50;break;case 3:s=-50,a=Phaser.Math.Between(0,e)}const o=this.add.image(s,a,"mosquito"),n=Phaser.Math.FloatBetween(1.4,2.4);o.setScale(n),o.setOrigin(.5).setDepth(1),o.isLadybug=!1,o.scale=n,o.pointValue=Math.floor(2/n*10),o.prevX=o.x,o.prevY=o.y,o.moving=!0,o.moveSpeed=Phaser.Math.Between(120,180),o.rotationSpeed=.05,o.targetX=Phaser.Math.Between(.2*t,.8*t),o.targetY=Phaser.Math.Between(.2*e,.8*e);const h=Phaser.Math.Angle.Between(o.x,o.y,o.targetX,o.targetY);return o.rotation=h+Math.PI/2,this.mosquitos.push(o),this.mosquitoCount++,o}spawnLadybugFromEdge(){if(this.ladybugCount>=this.maxLadybugs)return;const{canvasWidth:t,canvasHeight:e}=i(this);let s,a;switch(Phaser.Math.Between(0,3)){case 0:s=Phaser.Math.Between(0,t),a=-50;break;case 1:s=t+50,a=Phaser.Math.Between(0,e);break;case 2:s=Phaser.Math.Between(0,t),a=e+50;break;case 3:s=-50,a=Phaser.Math.Between(0,e)}const o=this.add.image(s,a,"bug");o.setScale(1.6),o.setOrigin(.5).setDepth(1),o.isLadybug=!0,o.prevX=o.x,o.prevY=o.y,o.moving=!0,o.moveSpeed=100,o.rotationSpeed=.05,o.targetX=Phaser.Math.Between(.2*t,.8*t),o.targetY=Phaser.Math.Between(.2*e,.8*e);const n=Phaser.Math.Angle.Between(o.x,o.y,o.targetX,o.targetY);return o.rotation=n+Math.PI/2,this.mosquitos.push(o),this.ladybugCount++,o}spawnLadybug(){const{canvasWidth:t,canvasHeight:e}=i(this),s=this.add.image(Phaser.Math.Between(0,t),Phaser.Math.Between(0,e),"bug");s.setScale(1.6),s.setOrigin(.5).setDepth(1),s.isLadybug=!0,s.prevX=s.x,s.prevY=s.y,s.targetX=null,s.targetY=null,s.moving=!0,s.moveSpeed=100,s.rotationSpeed=.05,s.targetX=Phaser.Math.Between(0,t),s.targetY=Phaser.Math.Between(0,e);const a=Phaser.Math.Angle.Between(s.x,s.y,s.targetX,s.targetY);s.rotation=a+Math.PI/2,this.mosquitos.push(s)}playSwatAnimation(t,e){const i=this.swatter.scale,s=this.swatter.rotation;this.tweens.add({targets:this.swatter,rotation:s-.5,scale:1.1*i,duration:70,ease:"Power1",onComplete:()=>{this.tweens.add({targets:this.swatter,rotation:s+.3,scale:.9*i,duration:100,ease:"Power3",onComplete:()=>{this.tweens.add({targets:this.swatter,rotation:s,scale:i,duration:150,ease:"Elastic"})}})}}),this.cameras.main.flash(100,255,255,255,.3),this.cameras.main.shake(100,.005)}showFloatingScore(t,e,i){const s=i>=0?"#ffffff":"#ff0000",a=i>=0?"+":"",o=this.scaleFactor||1,n=this.add.text(t,e,`${a}${i}`,{fontFamily:"AvenirNextBold",fontSize:48*o,color:s}).setOrigin(.5).setDepth(50);this.tweens.add({targets:n,y:e-100,alpha:0,duration:1500,ease:"Power2",onComplete:()=>{n.destroy()}})}checkForHits(t,e){for(let i=0;i<this.mosquitos.length;i++){const s=this.mosquitos[i];if(Phaser.Math.Distance.Between(t,e,s.x,s.y)<80){if(s.isLadybug)return this.ladybugCount--,this.score-=20,this.score<0&&(this.score=0),this.scoreText.setText(`Score: ${this.score}`),this.showFloatingScore(t,e,-20),this.sound.get("ladybugSound")&&this.sound.play("ladybugSound"),this.cameras.main.flash(500,255,0,0,!0),this.cameras.main.shake(200,.02),s.destroy(),void this.mosquitos.splice(i,1);{this.score+=s.pointValue,this.scoreText.setText(`Score: ${this.score}`),this.showFloatingScore(t,e,s.pointValue),this.mosquitosHit++,this.mosquitosHit%3==0&&void 0===this.notificationCounter&&(this.notificationCounter=0),s.moving=!1,s.setTint(16711680);for(let t=0;t<15;t++){const t=this.add.graphics();t.fillStyle(16711680,.9);const e=Phaser.Math.Between(4,10);t.fillCircle(0,0,e),t.x=s.x,t.y=s.y,t.setDepth(15),t.lineStyle(1,10027008,1),t.strokeCircle(0,0,e),this.tweens.add({targets:t,x:s.x+Phaser.Math.Between(-80,80),y:s.y+Phaser.Math.Between(-80,80),alpha:{from:1,to:0},scale:{from:Phaser.Math.FloatBetween(.8,1.5),to:.3},duration:Phaser.Math.Between(400,700),ease:"Cubic.easeOut",onComplete:()=>{t.destroy()}})}const i=this.add.graphics();i.fillStyle(16711680,1),i.fillCircle(0,0,15),i.x=s.x,i.y=s.y,i.setDepth(15),this.tweens.add({targets:i,alpha:0,scale:1.5,duration:200,onComplete:()=>{i.destroy()}}),this.tweens.add({targets:s,alpha:0,scale:.5*s.scale,duration:200,onComplete:()=>{const t=this.mosquitos.indexOf(s);t>-1&&(this.mosquitos.splice(t,1),this.mosquitoCount--,s.destroy())}})}}}}gameOver(t){this.mosquitos.forEach((t=>{t.moving=!1})),this.mosquitoTimer&&this.mosquitoTimer.destroy(),this.ladybugTimer&&this.ladybugTimer.destroy();const{canvasWidth:e,canvasHeight:s}=i(this);let a;a=t?`Great job! Score: ${this.score}`:`Game Over! You hit the ladybug\nFinal Score: ${this.score}`,this.add.text(e/2,s/2,a,{fontFamily:"AvenirNextBold",fontSize:50,color:"#FFFFFF",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5);const o=this.add.text(e/2,.6*s,"Try Again",{fontFamily:"AvenirNextBold",fontSize:40,color:"#FFFFFF",backgroundColor:"#008800",padding:{x:20,y:10}});o.setOrigin(.5),o.setInteractive({useHandCursor:!0}),o.on("pointerdown",(()=>{this.startGame()}))}update(t,e){}gameOver(t){this.mosquitos.forEach((t=>{t.moving=!1})),this.mosquitoTimer&&this.mosquitoTimer.destroy(),this.ladybugTimer&&this.ladybugTimer.destroy();const{canvasWidth:e,canvasHeight:s}=i(this);let a;a=t?`Great job! Score: ${this.score}`:`Game Over! You hit the ladybug\nFinal Score: ${this.score}`,this.add.text(e/2,s/2,a,{fontFamily:"AvenirNextBold",fontSize:50,color:"#FFFFFF",stroke:"#000000",strokeThickness:6,align:"center"}).setOrigin(.5);const o=this.add.text(e/2,.6*s,"Try Again",{fontFamily:"AvenirNextBold",fontSize:40,color:"#FFFFFF",backgroundColor:"#008800",padding:{x:20,y:10}});o.setOrigin(.5),o.setInteractive({useHandCursor:!0}),o.on("pointerdown",(()=>{this.startGame()}))}update(t,e){if(!this.mosquitos||0===this.mosquitos.length)return;const{canvasWidth:s,canvasHeight:a}=i(this),o=e/1e3;if(this.gameTimer&&this.timeText){const t=Math.ceil(this.gameTimer.getRemainingSeconds());this.gameTime=t,this.timeText.setText(`00 : ${t}`),t<=10&&this.timeText.setColor("#ff0000")}for(let i=this.mosquitos.length-1;i>=0;i--){const t=this.mosquitos[i];if(!t.moving)continue;t.prevX=t.x,t.prevY=t.y,Phaser.Math.Distance.Between(t.x,t.y,t.targetX,t.targetY)<10&&(t.targetX=Phaser.Math.Between(0,s),t.targetY=Phaser.Math.Between(0,a));const e=Phaser.Math.Angle.Between(t.x,t.y,t.targetX,t.targetY);let n=t.rotation-Math.PI/2;for(;n<-Math.PI;)n+=2*Math.PI;for(;n>Math.PI;)n-=2*Math.PI;let h=e-n;for(;h<-Math.PI;)h+=2*Math.PI;for(;h>Math.PI;)h-=2*Math.PI;Math.abs(h)>.05&&(h>0?n+=t.rotationSpeed:n-=t.rotationSpeed),t.rotation=n+Math.PI/2;const r=t.isLadybug?.8:1,d=t.moveSpeed*o*r;t.x+=Math.cos(n)*d,t.y+=Math.sin(n)*d;const c=100;(t.x<-100||t.x>s+c||t.y<-100||t.y>a+c)&&(this.isHeadingTowardScreen(t,s,a)||(this.mosquitos.splice(i,1),t.isLadybug?this.ladybugCount--:this.mosquitoCount--,t.destroy()))}}isHeadingTowardScreen(t,e,i){const s=t.rotation-Math.PI/2,a=Math.cos(s),o=Math.sin(s);return t.x<-50&&a>0||t.x>e+50&&a<0||t.y<-50&&o>0||t.y>i+50&&o<0}}class a extends t.Scene{constructor(){super("Preloader")}init(){const{canvasWidth:t,canvasHeight:e,scaleFactor:s,topMarginOffset:a,leftMarginOffsetPercentage:o,isMobileDevice:n,isIphoneDevice:h}=i(this);this.canvasWidth=t,this.canvasHeight=e,this.scaleFactor=s}createLoadingUI(){this.add.text(this.canvasWidth/2,this.canvasHeight/2-50*this.scaleFactor,"",{fontFamily:"PoppinsSemiBold",fontSize:28*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#E10E14",strokeThickness:5}).setOrigin(.5);const t=.6*this.canvasWidth,e=25*this.scaleFactor,i=12*this.scaleFactor;this.loadingBarContainer=this.add.graphics(),this.loadingBarContainer.lineStyle(3*this.scaleFactor,14749204,1),this.loadingBarContainer.fillStyle(3355443,1),this.loadingBarContainer.fillRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,i),this.loadingBarContainer.strokeRoundedRect(this.canvasWidth/2-t/2,this.canvasHeight/2-e/2,t,e,i),this.loadingBarGraphics=this.add.graphics(),this.barWidth=t,this.barHeight=e,this.borderRadius=i,this.barX=this.canvasWidth/2-t/2,this.barY=this.canvasHeight/2-e/2,this.percentText=this.add.text(this.canvasWidth/2,this.canvasHeight/2+40*this.scaleFactor,"0%",{fontFamily:"BukaBird",fontSize:22*this.scaleFactor,color:"#FFFFFF",align:"center",stroke:"#000000",strokeThickness:3}),this.percentText.setOrigin(.5)}preload(){this.load.on("progress",(t=>{})),this.load.on("complete",(()=>{})),this.load.setPath(window.trackingPath),this.load.image("logo","logo.png"),this.load.image("btn1","btn1.png"),this.load.image("mosquito","mosquito.png"),this.load.image("bug","bug.png"),this.load.image("mep1","mep1.png"),this.load.image("mep2","mep2.png"),this.load.image("dialog","dialog.png"),this.load.image("waar","waar.png"),this.load.image("onwaar","onwaar.png"),this.load.image("speel","speel.png"),this.load.image("bekijk","bekijk.png"),this.load.image("begin","begin.png")}create(){this.scene.start("MainMenu")}}const o={type:Phaser.AUTO,width:960,height:1440,parent:"game-container",background:"transparent",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},fps:{target:60,forceSetTimeOut:!0},transparent:!0,scene:[e,a,s]};new Phaser.Game(o);
